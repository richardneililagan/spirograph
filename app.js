!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},n={},r={},o={}.hasOwnProperty,i=/^\.\.?(\/|$)/,a=function(t,e){for(var n,r=[],o=(i.test(e)?t+"/"+e:e).split("/"),a=0,s=o.length;a<s;a++)n=o[a],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},s=function(t){return t.split("/").slice(0,-1).join("/")},u=function(e){return function(n){var r=a(s(e),n);return t.require(r,e)}},l=function(t,e){var r=m&&m.createHot(t),o={id:t,exports:{},hot:r};return n[t]=o,e(o.exports,u(t),o),o.exports},c=function(t){return r[t]?c(r[t]):t},d=function(t,e){return c(a(s(t),e))},p=function(t,r){null==r&&(r="/");var i=c(t);if(o.call(n,i))return n[i].exports;if(o.call(e,i))return l(i,e[i]);throw new Error("Cannot find module '"+t+"' from '"+r+"'")};p.alias=function(t,e){r[e]=t};var f=/\.[^.\/]+$/,h=/\/index(\.[^\/]+)?$/,v=function(t){if(f.test(t)){var e=t.replace(f,"");o.call(r,e)&&r[e].replace(f,"")!==e+"/index"||(r[e]=t)}if(h.test(t)){var n=t.replace(h,"");o.call(r,n)||(r[n]=t)}};p.register=p.define=function(t,r){if(t&&"object"==typeof t)for(var i in t)o.call(t,i)&&p.register(i,t[i]);else e[t]=r,delete n[t],v(t)},p.list=function(){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t};var m=t._hmr&&new t._hmr(d,p,e,n);p._cache=n,p.hmr=m&&m.wrap,p.brunch=!0,t.require=p}}(),function(){"undefined"==typeof window?this:window;require.register("app.js",function(t,e,n){"use strict";var r=e("./core/rotor"),o=e("./core/renderer"),i=e("./components/vue.app"),a=new r.Rotor(75,0,9),s=new r.Rotor(100,0,3);s.addPen(100,0),a.addRotorLink(s,0);var u=new r.Rotor(175,0,6);u.addPen(175,0,"red"),s.addRotorLink(u,0),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("cyclorama"),e=new o.Renderer(a);e.initialize(t),(0,i.initializeApp)({rotors:[a],renderer:e})})}),require.register("components/menu/menu.component.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={props:["renderer"],template:'\n    <div class="app-menu">\n      <button class="button -playsimulation" v-on:click="play">Play simulation</button>\n      <button class="button -pausesimulation" v-on:click="pause">Pause simulation</button>\n    </div>\n  ',methods:{play:function(){this.renderer.play()},pause:function(){this.renderer.pause()}}};t["default"]=Vue.component("spirograph-menu",r)}),require.register("components/rotor-list/rotor-list.component.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={props:["rotors"],template:'\n    <div class="rotor-list">\n      <rotor v-for="rotor in rotors" v-bind:rotor="rotor"></rotor>\n    </div>\n  '};t["default"]=Vue.component("rotor-list",r)}),require.register("components/rotor/rotor.component.js",function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={props:["rotor"],template:'\n    <div class="rotor">\n      <div class="properties">\n        <label class="rotorproperty">\n          <span>r</span>\n          <input v-model="rotor.radius">\n        </label>\n        <label class="rotorproperty">\n          <span>speed</span>\n          <input v-model="rotor._speed">\n        </label>\n        <label class="rotorproperty">\n          <span>rot</span>\n          <input v-model="rotor._rotation">\n        </label>\n        <button class="action -addrotor"></button>\n        <button class="action -deleterotor"></button>\n      </div>\n\n      <rotor-list v-if="rotor.rotors.length" v-bind:rotors="rotor.rotors"></rotor-list>\n    </div>\n  '};t["default"]=Vue.component("rotor",r)}),require.register("components/vue.app.js",function(t,e,n){"use strict";function r(t){var e=new Vue({el:"#chrome",data:t});return e}Object.defineProperty(t,"__esModule",{value:!0}),t.initializeApp=r,e("./menu/menu.component"),e("./rotor-list/rotor-list.component"),e("./rotor/rotor.component")}),require.register("core/renderer.js",function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){return{x:Math.cos(n)*e+t.x,y:Math.sin(n)*e+t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=e("two.js"),u=r(s);e("./rotor"),t.Renderer=function(){function t(e){var n=this;o(this,t),this.paths={},this._timeDelta=null,this.rootRotor=e,this.canvas=new u["default"]({type:u["default"].Types.canvas,fullscreen:!0}),this.canvas.bind("update",function(){n.canvas.playing?null===n._timeDelta?n._timeDelta=0:n._timeDelta=n.canvas.timeDelta:n._timeDelta=null}).bind("pause",function(){n._timeDelta=null}).bind("render",function(){return n.render()}),console.debug(this.canvas)}return a(t,[{key:"timeDelta",get:function(){return this._timeDelta||0}},{key:"origin",get:function(){return{x:this.canvas.width/2,y:this.canvas.height/2}}},{key:"isPlaying",get:function(){return this.canvas.playing}}]),a(t,[{key:"initialize",value:function(t){this.canvas.appendTo(t)}},{key:"render",value:function(){this.canvas.clear(),this.drawRotor(this.rootRotor,this.origin,this.timeDelta)}},{key:"drawRotor",value:function(t,e,n){var r=this;t.rotate(n);var o=this.canvas.makeCircle(e.x,e.y,t.radius);o.noFill(),o.stroke="rgba(0,0,0,.26)",o.lineWidth=.5;var a=i(e,t.radius,t.rotation),s=this.canvas.makeLine(e.x,e.y,a.x,a.y);s.stroke="rgba(0,0,0,.26)",s.lineWidth=.5,t.pens.forEach(function(n){var o=i(e,n.radius,t.rotation+n.rotation);r.drawPenPath(n,o)}),t.links.forEach(function(o){var a=i(e,t.radius,t.rotation+o.rotation);r.drawRotor(o.rotor,a,n)})}},{key:"drawPenPath",value:function(t,e){if(!this.paths[t.id]){console.debug("Creating path for pen "+t.id);var n=new u["default"].Path([],(!1),(!0));n.stroke=t.color,n.linewidth=t.width,n.noFill(),this.paths[t.id]=n}var r=this.paths[t.id];r.vertices.push(new u["default"].Anchor(e.x,e.y)),this.canvas.scene.add(r)}},{key:"tick",value:function(){this.render(),this.canvas.update()}},{key:"play",value:function(){this.canvas.play()}},{key:"pause",value:function(){this.canvas.pause()}}]),t}()}),require.register("core/rotor.js",function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t.Pen=function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"blue",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;r(this,s),this.rotation=0,this.radius=10,this.color="red",this.width=2,this.radius=t,this.rotation=e,this.color=n,this.width=o,this.id=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},a=t.Rotor=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;r(this,t),this._rotation=0,this._speed=10,this.links=[],this.pens=[],this.radius=e,this._rotation=n,this._speed=o,t.registration.push(this)}return o(t,[{key:"r",value:function(){return this.rotors}},{key:"rotation",get:function(){return this._rotation||0}},{key:"speed",get:function(){return Math.PI/(500*this._speed)}},{key:"rotors",get:function(){return this.links.map(function(t){return t.rotor})}}]),o(t,[{key:"rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._rotation+=this.speed*t,this._rotation%=2*Math.PI}},{key:"addRotorLink",value:function(t,e){this.links.push({rotation:e,rotor:t})}},{key:"addPen",value:function(t,e,n,r){this.pens.push(new i(t,e,n,r))}},{key:"remove",value:function(){this.rotors.forEach(function(t){return t.remove()})}}]),t}();a.registration=[]}),require.register("___globals___",function(t,e,n){})}(),require("___globals___"),require("app");