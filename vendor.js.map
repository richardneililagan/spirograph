{"version":3,"sources":["node_modules/two.js/build/two.js","app/app.js","app/components/menu/menu.component.js","app/components/rotor-list/rotor-list.component.js","app/components/rotor/rotor.component.js","app/components/vue.app.js","app/core/renderer.js","app/core/rotor.js","node_modules/auto-reload-brunch/vendor/auto-reload.js","vendor/vue-2.4.2.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC15TA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhLA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1LA;AAAA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC7FA;AACA;AACA;AACA;AACA;AACA;AACA","file":"public/vendor.js","sourcesContent":["\nrequire.register(\"two.js/build/two.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"two.js\");\n  (function() {\n    /**\r\n * two.js\r\n * a two-dimensional drawing api meant for modern browsers. It is renderer\r\n * agnostic enabling the same api for rendering in multiple contexts: webgl,\r\n * canvas2d, and svg.\r\n *\r\n * Copyright (c) 2012 - 2017 jonobr1 / http://jonobr1.com\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n *\r\n */\r\n\r\nthis.Two = (function(previousTwo) {\r\n\r\n  var root = typeof window != 'undefined' ? window : typeof global != 'undefined' ? global : null;\r\n  var _ = {\r\n    // http://underscorejs.org/ • 1.8.3\r\n    _indexAmount: 0,\r\n    natural: {\r\n      slice: Array.prototype.slice,\r\n      indexOf: Array.prototype.indexOf,\r\n      keys: Object.keys,\r\n      bind: Function.prototype.bind,\r\n      create: Object.create\r\n    },\r\n    identity: function(value) {\r\n      return value;\r\n    },\r\n    isArguments: function(obj) {\r\n      return toString.call(obj) === '[object Arguments]';\r\n    },\r\n    isFunction: function(obj) {\r\n      return toString.call(obj) === '[object Function]';\r\n    },\r\n    isString: function(obj) {\r\n      return toString.call(obj) === '[object String]';\r\n    },\r\n    isNumber: function(obj) {\r\n      return toString.call(obj) === '[object Number]';\r\n    },\r\n    isDate: function(obj) {\r\n      return toString.call(obj) === '[object Date]';\r\n    },\r\n    isRegExp: function(obj) {\r\n      return toString.call(obj) === '[object RegExp]';\r\n    },\r\n    isError: function(obj) {\r\n      return toString.call(obj) === '[object Error]';\r\n    },\r\n    isFinite: function(obj) {\r\n      return isFinite(obj) && !isNaN(parseFloat(obj));\r\n    },\r\n    isNaN: function(obj) {\r\n      return _.isNumber(obj) && obj !== +obj;\r\n    },\r\n    isBoolean: function(obj) {\r\n      return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\r\n    },\r\n    isNull: function(obj) {\r\n      return obj === null;\r\n    },\r\n    isUndefined: function(obj) {\r\n      return obj === void 0;\r\n    },\r\n    isEmpty: function(obj) {\r\n      if (obj == null) return true;\r\n      if (isArrayLike && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\r\n      return _.keys(obj).length === 0;\r\n    },\r\n    isElement: function(obj) {\r\n      return !!(obj && obj.nodeType === 1);\r\n    },\r\n    isArray: Array.isArray || function(obj) {\r\n      return toString.call(obj) === '[object Array]';\r\n    },\r\n    isObject: function(obj) {\r\n      var type = typeof obj;\r\n      return type === 'function' || type === 'object' && !!obj;\r\n    },\r\n    toArray: function(obj) {\r\n      if (!obj) {\r\n        return [];\r\n      }\r\n      if (_.isArray(obj)) {\r\n        return slice.call(obj);\r\n      }\r\n      if (isArrayLike(obj)) {\r\n        return _.map(obj, _.identity);\r\n      }\r\n      return _.values(obj);\r\n    },\r\n    range: function(start, stop, step) {\r\n      if (stop == null) {\r\n        stop = start || 0;\r\n        start = 0;\r\n      }\r\n      step = step || 1;\r\n\r\n      var length = Math.max(Math.ceil((stop - start) / step), 0);\r\n      var range = Array(length);\r\n\r\n      for (var idx = 0; idx < length; idx++, start += step) {\r\n        range[idx] = start;\r\n      }\r\n\r\n      return range;\r\n    },\r\n    indexOf: function(list, item) {\r\n      if (!!_.natural.indexOf) {\r\n        return _.natural.indexOf.call(list, item);\r\n      }\r\n      for (var i = 0; i < list.length; i++) {\r\n        if (list[i] === item) {\r\n          return i;\r\n        }\r\n      }\r\n      return -1;\r\n    },\r\n    has: function(obj, key) {\r\n      return obj != null && hasOwnProperty.call(obj, key);\r\n    },\r\n    bind: function(func, ctx) {\r\n      var natural = _.natural.bind;\r\n      if (natural && func.bind === natural) {\r\n        return natural.apply(func, slice.call(arguments, 1));\r\n      }\r\n      var args = slice.call(arguments, 2);\r\n      return function() {\r\n        func.apply(ctx, args);\r\n      };\r\n    },\r\n    extend: function(base) {\r\n      var sources = slice.call(arguments, 1);\r\n      for (var i = 0; i < sources.length; i++) {\r\n        var obj = sources[i];\r\n        for (var k in obj) {\r\n          base[k] = obj[k];\r\n        }\r\n      }\r\n      return base;\r\n    },\r\n    defaults: function(base) {\r\n      var sources = slice.call(arguments, 1);\r\n      for (var i = 0; i < sources.length; i++) {\r\n        var obj = sources[i];\r\n        for (var k in obj) {\r\n          if (base[k] === void 0) {\r\n            base[k] = obj[k];\r\n          }\r\n        }\r\n      }\r\n      return base;\r\n    },\r\n    keys: function(obj) {\r\n      if (!_.isObject(obj)) {\r\n        return [];\r\n      }\r\n      if (_.natural.keys) {\r\n        return _.natural.keys(obj);\r\n      }\r\n      var keys = [];\r\n      for (var k in obj) {\r\n        if (_.has(obj, k)) {\r\n          keys.push(k);\r\n        }\r\n      }\r\n      return keys;\r\n    },\r\n    values: function(obj) {\r\n      var keys = _.keys(obj);\r\n      var values = [];\r\n      for (var i = 0; i < keys.length; i++) {\r\n        var k = keys[i];\r\n        values.push(obj[k]);\r\n      }\r\n      return values;\r\n    },\r\n    each: function(obj, iteratee, context) {\r\n      var ctx = context || this;\r\n      var keys = !isArrayLike(obj) && _.keys(obj);\r\n      var length = (keys || obj).length;\r\n      for (var i = 0; i < length; i++) {\r\n        var k = keys ? keys[i] : i;\r\n        iteratee.call(ctx, obj[k], k, obj);\r\n      }\r\n      return obj;\r\n    },\r\n    map: function(obj, iteratee, context) {\r\n      var ctx = context || this;\r\n      var keys = !isArrayLike(obj) && _.keys(obj);\r\n      var length = (keys || obj).length;\r\n      var result = [];\r\n      for (var i = 0; i < length; i++) {\r\n        var k = keys ? keys[i] : i;\r\n        result[i] = iteratee.call(ctx, obj[k], k, obj);\r\n      }\r\n      return result;\r\n    },\r\n    once: function(func) {\r\n      var init = false;\r\n      return function() {\r\n        if (!!init) {\r\n          return func;\r\n        }\r\n        init = true;\r\n        return func.apply(this, arguments);\r\n      }\r\n    },\r\n    after: function(times, func) {\r\n      return function() {\r\n        while (--times < 1) {\r\n          return func.apply(this, arguments);\r\n        }\r\n      }\r\n    },\r\n    uniqueId: function(prefix) {\r\n      var id = ++_._indexAmount + '';\r\n      return prefix ? prefix + id : id;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Constants\r\n   */\r\n\r\n  var sin = Math.sin,\r\n    cos = Math.cos,\r\n    atan2 = Math.atan2,\r\n    sqrt = Math.sqrt,\r\n    round = Math.round,\r\n    abs = Math.abs,\r\n    PI = Math.PI,\r\n    TWO_PI = PI * 2,\r\n    HALF_PI = PI / 2,\r\n    pow = Math.pow,\r\n    min = Math.min,\r\n    max = Math.max;\r\n\r\n  /**\r\n   * Localized variables\r\n   */\r\n\r\n  var count = 0;\r\n  var slice = _.natural.slice;\r\n  var perf = ((root.performance && root.performance.now) ? root.performance : Date);\r\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\r\n  var getLength = function(obj) {\r\n    return obj == null ? void 0 : obj['length'];\r\n  };\r\n  var isArrayLike = function(collection) {\r\n    var length = getLength(collection);\r\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\r\n  };\r\n\r\n  /**\r\n   * Cross browser dom events.\r\n   */\r\n  var dom = {\r\n\r\n    temp: (root.document ? root.document.createElement('div') : {}),\r\n\r\n    hasEventListeners: _.isFunction(root.addEventListener),\r\n\r\n    bind: function(elem, event, func, bool) {\r\n      if (this.hasEventListeners) {\r\n        elem.addEventListener(event, func, !!bool);\r\n      } else {\r\n        elem.attachEvent('on' + event, func);\r\n      }\r\n      return dom;\r\n    },\r\n\r\n    unbind: function(elem, event, func, bool) {\r\n      if (dom.hasEventListeners) {\r\n        elem.removeEventListeners(event, func, !!bool);\r\n      } else {\r\n        elem.detachEvent('on' + event, func);\r\n      }\r\n      return dom;\r\n    },\r\n\r\n    getRequestAnimationFrame: function() {\r\n\r\n      var lastTime = 0;\r\n      var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n      var request = root.requestAnimationFrame, cancel;\r\n\r\n      if(!request) {\r\n        for (var i = 0; i < vendors.length; i++) {\r\n          request = root[vendors[i] + 'RequestAnimationFrame'] || request;\r\n          cancel = root[vendors[i] + 'CancelAnimationFrame']\r\n            || root[vendors[i] + 'CancelRequestAnimationFrame'] || cancel;\r\n        }\r\n\r\n        request = request || function(callback, element) {\r\n          var currTime = new Date().getTime();\r\n          var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n          var id = root.setTimeout(function() { callback(currTime + timeToCall); }, timeToCall);\r\n          lastTime = currTime + timeToCall;\r\n          return id;\r\n        };\r\n        // cancel = cancel || function(id) {\r\n        //   clearTimeout(id);\r\n        // };\r\n      }\r\n\r\n      request.init = _.once(loop);\r\n\r\n      return request;\r\n\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * @class\r\n   */\r\n  var Two = root.Two = function(options) {\r\n\r\n    // Determine what Renderer to use and setup a scene.\r\n\r\n    var params = _.defaults(options || {}, {\r\n      fullscreen: false,\r\n      width: 640,\r\n      height: 480,\r\n      type: Two.Types.svg,\r\n      autostart: false\r\n    });\r\n\r\n    _.each(params, function(v, k) {\r\n      if (k === 'fullscreen' || k === 'autostart') {\r\n        return;\r\n      }\r\n      this[k] = v;\r\n    }, this);\r\n\r\n    // Specified domElement overrides type declaration only if the element does not support declared renderer type.\r\n    if (_.isElement(params.domElement)) {\r\n      var tagName = params.domElement.tagName.toLowerCase();\r\n      // TODO: Reconsider this if statement's logic.\r\n      if (!/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+'-'+tagName)) {\r\n        this.type = Two.Types[tagName];\r\n      }\r\n    }\r\n\r\n    this.renderer = new Two[this.type](this);\r\n    Two.Utils.setPlaying.call(this, params.autostart);\r\n    this.frameCount = 0;\r\n\r\n    if (params.fullscreen) {\r\n\r\n      var fitted = _.bind(fitToWindow, this);\r\n      _.extend(document.body.style, {\r\n        overflow: 'hidden',\r\n        margin: 0,\r\n        padding: 0,\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        position: 'fixed'\r\n      });\r\n      _.extend(this.renderer.domElement.style, {\r\n        display: 'block',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        position: 'fixed'\r\n      });\r\n      dom.bind(root, 'resize', fitted);\r\n      fitted();\r\n\r\n\r\n    } else if (!_.isElement(params.domElement)) {\r\n\r\n      this.renderer.setSize(params.width, params.height, this.ratio);\r\n      this.width = params.width;\r\n      this.height = params.height;\r\n\r\n    }\r\n\r\n    this.scene = this.renderer.scene;\r\n\r\n    Two.Instances.push(this);\r\n    raf.init();\r\n\r\n  };\r\n\r\n  _.extend(Two, {\r\n\r\n    /**\r\n     * Access to root in other files.\r\n     */\r\n\r\n    root: root,\r\n\r\n    /**\r\n     * Primitive\r\n     */\r\n\r\n    Array: root.Float32Array || Array,\r\n\r\n    Types: {\r\n      webgl: 'WebGLRenderer',\r\n      svg: 'SVGRenderer',\r\n      canvas: 'CanvasRenderer'\r\n    },\r\n\r\n    Version: 'v0.7.0',\r\n\r\n    Identifier: 'two_',\r\n\r\n    Properties: {\r\n      hierarchy: 'hierarchy',\r\n      demotion: 'demotion'\r\n    },\r\n\r\n    Events: {\r\n      play: 'play',\r\n      pause: 'pause',\r\n      update: 'update',\r\n      render: 'render',\r\n      resize: 'resize',\r\n      change: 'change',\r\n      remove: 'remove',\r\n      insert: 'insert',\r\n      order: 'order',\r\n      load: 'load'\r\n    },\r\n\r\n    Commands: {\r\n      move: 'M',\r\n      line: 'L',\r\n      curve: 'C',\r\n      close: 'Z'\r\n    },\r\n\r\n    Resolution: 8,\r\n\r\n    Instances: [],\r\n\r\n    noConflict: function() {\r\n      root.Two = previousTwo;\r\n      return this;\r\n    },\r\n\r\n    uniqueId: function() {\r\n      var id = count;\r\n      count++;\r\n      return id;\r\n    },\r\n\r\n    Utils: _.extend(_, {\r\n\r\n      performance: perf,\r\n\r\n      defineProperty: function(property) {\r\n\r\n        var object = this;\r\n        var secret = '_' + property;\r\n        var flag = '_flag' + property.charAt(0).toUpperCase() + property.slice(1);\r\n\r\n        Object.defineProperty(object, property, {\r\n          enumerable: true,\r\n          get: function() {\r\n            return this[secret];\r\n          },\r\n          set: function(v) {\r\n            this[secret] = v;\r\n            this[flag] = true;\r\n          }\r\n        });\r\n\r\n      },\r\n\r\n      /**\r\n       * Release an arbitrary class' events from the two.js corpus and recurse\r\n       * through its children and or vertices.\r\n       */\r\n      release: function(obj) {\r\n\r\n        if (!_.isObject(obj)) {\r\n          return;\r\n        }\r\n\r\n        if (_.isFunction(obj.unbind)) {\r\n          obj.unbind();\r\n        }\r\n\r\n        if (obj.vertices) {\r\n          if (_.isFunction(obj.vertices.unbind)) {\r\n            obj.vertices.unbind();\r\n          }\r\n          _.each(obj.vertices, function(v) {\r\n            if (_.isFunction(v.unbind)) {\r\n              v.unbind();\r\n            }\r\n          });\r\n        }\r\n\r\n        if (obj.children) {\r\n          _.each(obj.children, function(obj) {\r\n            Two.Utils.release(obj);\r\n          });\r\n        }\r\n\r\n      },\r\n\r\n      xhr: function(path, callback) {\r\n\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('GET', path);\r\n\r\n        xhr.onreadystatechange = function() {\r\n          if (xhr.readyState === 4 && xhr.status === 200) {\r\n            callback(xhr.responseText);\r\n          }\r\n        };\r\n\r\n        xhr.send();\r\n        return xhr;\r\n\r\n      },\r\n\r\n      Curve: {\r\n\r\n        CollinearityEpsilon: pow(10, -30),\r\n\r\n        RecursionLimit: 16,\r\n\r\n        CuspLimit: 0,\r\n\r\n        Tolerance: {\r\n          distance: 0.25,\r\n          angle: 0,\r\n          epsilon: 0.01\r\n        },\r\n\r\n        // Lookup tables for abscissas and weights with values for n = 2 .. 16.\r\n        // As values are symmetric, only store half of them and adapt algorithm\r\n        // to factor in symmetry.\r\n        abscissas: [\r\n          [  0.5773502691896257645091488],\r\n          [0,0.7745966692414833770358531],\r\n          [  0.3399810435848562648026658,0.8611363115940525752239465],\r\n          [0,0.5384693101056830910363144,0.9061798459386639927976269],\r\n          [  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\r\n          [0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\r\n          [  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\r\n          [0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\r\n          [  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\r\n          [0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\r\n          [  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\r\n          [0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\r\n          [  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\r\n          [0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\r\n          [  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\r\n        ],\r\n\r\n        weights: [\r\n          [1],\r\n          [0.8888888888888888888888889,0.5555555555555555555555556],\r\n          [0.6521451548625461426269361,0.3478548451374538573730639],\r\n          [0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\r\n          [0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\r\n          [0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\r\n          [0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\r\n          [0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\r\n          [0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\r\n          [0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\r\n          [0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\r\n          [0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\r\n          [0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\r\n          [0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\r\n          [0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\r\n        ]\r\n\r\n      },\r\n\r\n      /**\r\n       * Account for high dpi rendering.\r\n       * http://www.html5rocks.com/en/tutorials/canvas/hidpi/\r\n       */\r\n\r\n      devicePixelRatio: root.devicePixelRatio || 1,\r\n\r\n      getBackingStoreRatio: function(ctx) {\r\n        return ctx.webkitBackingStorePixelRatio ||\r\n          ctx.mozBackingStorePixelRatio ||\r\n          ctx.msBackingStorePixelRatio ||\r\n          ctx.oBackingStorePixelRatio ||\r\n          ctx.backingStorePixelRatio || 1;\r\n      },\r\n\r\n      getRatio: function(ctx) {\r\n        return Two.Utils.devicePixelRatio / getBackingStoreRatio(ctx);\r\n      },\r\n\r\n      /**\r\n       * Properly defer play calling until after all objects\r\n       * have been updated with their newest styles.\r\n       */\r\n      setPlaying: function(b) {\r\n\r\n        this.playing = !!b;\r\n        return this;\r\n\r\n      },\r\n\r\n      /**\r\n       * Return the computed matrix of a nested object.\r\n       * TODO: Optimize traversal.\r\n       */\r\n      getComputedMatrix: function(object, matrix) {\r\n\r\n        matrix = (matrix && matrix.identity()) || new Two.Matrix();\r\n        var parent = object, matrices = [];\r\n\r\n        while (parent && parent._matrix) {\r\n          matrices.push(parent._matrix);\r\n          parent = parent.parent;\r\n        }\r\n\r\n        matrices.reverse();\r\n\r\n        _.each(matrices, function(m) {\r\n\r\n          var e = m.elements;\r\n          matrix.multiply(\r\n            e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8], e[9]);\r\n\r\n        });\r\n\r\n        return matrix;\r\n\r\n      },\r\n\r\n      deltaTransformPoint: function(matrix, x, y) {\r\n\r\n        var dx = x * matrix.a + y * matrix.c + 0;\r\n        var dy = x * matrix.b + y * matrix.d + 0;\r\n\r\n        return new Two.Vector(dx, dy);\r\n\r\n      },\r\n\r\n      /**\r\n       * https://gist.github.com/2052247\r\n       */\r\n      decomposeMatrix: function(matrix) {\r\n\r\n        // calculate delta transform point\r\n        var px = Two.Utils.deltaTransformPoint(matrix, 0, 1);\r\n        var py = Two.Utils.deltaTransformPoint(matrix, 1, 0);\r\n\r\n        // calculate skew\r\n        var skewX = ((180 / Math.PI) * Math.atan2(px.y, px.x) - 90);\r\n        var skewY = ((180 / Math.PI) * Math.atan2(py.y, py.x));\r\n\r\n        return {\r\n            translateX: matrix.e,\r\n            translateY: matrix.f,\r\n            scaleX: Math.sqrt(matrix.a * matrix.a + matrix.b * matrix.b),\r\n            scaleY: Math.sqrt(matrix.c * matrix.c + matrix.d * matrix.d),\r\n            skewX: skewX,\r\n            skewY: skewY,\r\n            rotation: skewX // rotation is the same as skew x\r\n        };\r\n\r\n      },\r\n\r\n      /**\r\n       * Walk through item properties and pick the ones of interest.\r\n       * Will try to resolve styles applied via CSS\r\n       *\r\n       * TODO: Reverse calculate `Two.Gradient`s for fill / stroke\r\n       * of any given path.\r\n       */\r\n      applySvgAttributes: function(node, elem) {\r\n\r\n        var attributes = {}, styles = {}, i, key, value, attr;\r\n\r\n        // Not available in non browser environments\r\n        if (getComputedStyle) {\r\n          // Convert CSSStyleDeclaration to a normal object\r\n          var computedStyles = getComputedStyle(node);\r\n          i = computedStyles.length;\r\n\r\n          while (i--) {\r\n            key = computedStyles[i];\r\n            value = computedStyles[key];\r\n            // Gecko returns undefined for unset properties\r\n            // Webkit returns the default value\r\n            if (value !== undefined) {\r\n              styles[key] = value;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Convert NodeMap to a normal object\r\n        i = node.attributes.length;\r\n        while (i--) {\r\n          attr = node.attributes[i];\r\n          attributes[attr.nodeName] = attr.value;\r\n        }\r\n\r\n        // Getting the correct opacity is a bit tricky, since SVG path elements don't\r\n        // support opacity as an attribute, but you can apply it via CSS.\r\n        // So we take the opacity and set (stroke/fill)-opacity to the same value.\r\n        if (!_.isUndefined(styles.opacity)) {\r\n          styles['stroke-opacity'] = styles.opacity;\r\n          styles['fill-opacity'] = styles.opacity;\r\n        }\r\n\r\n        // Merge attributes and applied styles (attributes take precedence)\r\n        _.extend(styles, attributes);\r\n\r\n        // Similarly visibility is influenced by the value of both display and visibility.\r\n        // Calculate a unified value here which defaults to `true`.\r\n        styles.visible = !(_.isUndefined(styles.display) && styles.display === 'none')\r\n          || (_.isUndefined(styles.visibility) && styles.visibility === 'hidden');\r\n\r\n        // Now iterate the whole thing\r\n        for (key in styles) {\r\n          value = styles[key];\r\n\r\n          switch (key) {\r\n            case 'transform':\r\n              // TODO: Check this out https://github.com/paperjs/paper.js/blob/master/src/svg/SVGImport.js#L313\r\n              if (value === 'none') break;\r\n              var m = node.getCTM ? node.getCTM() : null;\r\n\r\n              // Might happen when transform string is empty or not valid.\r\n              if (m === null) break;\r\n\r\n              // // Option 1: edit the underlying matrix and don't force an auto calc.\r\n              // var m = node.getCTM();\r\n              // elem._matrix.manual = true;\r\n              // elem._matrix.set(m.a, m.b, m.c, m.d, m.e, m.f);\r\n\r\n              // Option 2: Decompose and infer Two.js related properties.\r\n              var transforms = Two.Utils.decomposeMatrix(node.getCTM());\r\n\r\n              elem.translation.set(transforms.translateX, transforms.translateY);\r\n              elem.rotation = transforms.rotation;\r\n              // Warning: Two.js elements only support uniform scalars...\r\n              elem.scale = transforms.scaleX;\r\n\r\n              var x = parseFloat((styles.x + '').replace('px'));\r\n              var y = parseFloat((styles.y + '').replace('px'));\r\n\r\n              // Override based on attributes.\r\n              if (x) {\r\n                elem.translation.x = x;\r\n              }\r\n\r\n              if (y) {\r\n                elem.translation.y = y;\r\n              }\r\n\r\n              break;\r\n            case 'visible':\r\n              elem.visible = value;\r\n              break;\r\n            case 'stroke-linecap':\r\n              elem.cap = value;\r\n              break;\r\n            case 'stroke-linejoin':\r\n              elem.join = value;\r\n              break;\r\n            case 'stroke-miterlimit':\r\n              elem.miter = value;\r\n              break;\r\n            case 'stroke-width':\r\n              elem.linewidth = parseFloat(value);\r\n              break;\r\n            case 'stroke-opacity':\r\n            case 'fill-opacity':\r\n            case 'opacity':\r\n              elem.opacity = parseFloat(value);\r\n              break;\r\n            case 'fill':\r\n            case 'stroke':\r\n              if (/url\\(\\#.*\\)/i.test(value)) {\r\n                elem[key] = this.getById(\r\n                  value.replace(/url\\(\\#(.*)\\)/i, '$1'));\r\n              } else {\r\n                elem[key] = (value === 'none') ? 'transparent' : value;\r\n              }\r\n              break;\r\n            case 'id':\r\n              elem.id = value;\r\n              break;\r\n            case 'class':\r\n              elem.classList = value.split(' ');\r\n              break;\r\n          }\r\n        }\r\n\r\n        return elem;\r\n\r\n      },\r\n\r\n      /**\r\n       * Read any number of SVG node types and create Two equivalents of them.\r\n       */\r\n      read: {\r\n\r\n        svg: function() {\r\n          return Two.Utils.read.g.apply(this, arguments);\r\n        },\r\n\r\n        g: function(node) {\r\n\r\n          var group = new Two.Group();\r\n\r\n          // Switched up order to inherit more specific styles\r\n          Two.Utils.applySvgAttributes.call(this, node, group);\r\n\r\n          for (var i = 0, l = node.childNodes.length; i < l; i++) {\r\n            var n = node.childNodes[i];\r\n            var tag = n.nodeName;\r\n            if (!tag) return;\r\n\r\n            var tagName = tag.replace(/svg\\:/ig, '').toLowerCase();\r\n\r\n            if (tagName in Two.Utils.read) {\r\n              var o = Two.Utils.read[tagName].call(group, n);\r\n              group.add(o);\r\n            }\r\n          }\r\n\r\n          return group;\r\n\r\n        },\r\n\r\n        polygon: function(node, open) {\r\n\r\n          var points = node.getAttribute('points');\r\n\r\n          var verts = [];\r\n          points.replace(/(-?[\\d\\.?]+)[,|\\s](-?[\\d\\.?]+)/g, function(match, p1, p2) {\r\n            verts.push(new Two.Anchor(parseFloat(p1), parseFloat(p2)));\r\n          });\r\n\r\n          var poly = new Two.Path(verts, !open).noStroke();\r\n          poly.fill = 'black';\r\n\r\n          return Two.Utils.applySvgAttributes.call(this, node, poly);\r\n\r\n        },\r\n\r\n        polyline: function(node) {\r\n          return Two.Utils.read.polygon.call(this, node, true);\r\n        },\r\n\r\n        path: function(node) {\r\n\r\n          var path = node.getAttribute('d');\r\n\r\n          // Create a Two.Path from the paths.\r\n\r\n          var coord = new Two.Anchor();\r\n          var control, coords;\r\n          var closed = false, relative = false;\r\n          var commands = path.match(/[a-df-z][^a-df-z]*/ig);\r\n          var last = commands.length - 1;\r\n\r\n          // Split up polybeziers\r\n\r\n          _.each(commands.slice(0), function(command, i) {\r\n\r\n            var type = command[0];\r\n            var lower = type.toLowerCase();\r\n            var items = command.slice(1).trim().split(/[\\s,]+|(?=\\s?[+\\-])/);\r\n            var pre, post, result = [], bin;\r\n\r\n            if (i <= 0) {\r\n              commands = [];\r\n            }\r\n\r\n            switch (lower) {\r\n              case 'h':\r\n              case 'v':\r\n                if (items.length > 1) {\r\n                  bin = 1;\r\n                }\r\n                break;\r\n              case 'm':\r\n              case 'l':\r\n              case 't':\r\n                if (items.length > 2) {\r\n                  bin = 2;\r\n                }\r\n                break;\r\n              case 's':\r\n              case 'q':\r\n                if (items.length > 4) {\r\n                  bin = 4;\r\n                }\r\n                break;\r\n              case 'c':\r\n                if (items.length > 6) {\r\n                  bin = 6;\r\n                }\r\n                break;\r\n              case 'a':\r\n                // TODO: Handle Ellipses\r\n                break;\r\n            }\r\n\r\n            if (bin) {\r\n\r\n              for (var j = 0, l = items.length, times = 0; j < l; j+=bin) {\r\n\r\n                var ct = type;\r\n                if (times > 0) {\r\n\r\n                  switch (type) {\r\n                    case 'm':\r\n                      ct = 'l';\r\n                      break;\r\n                    case 'M':\r\n                      ct = 'L';\r\n                      break;\r\n                  }\r\n\r\n                }\r\n\r\n                result.push([ct].concat(items.slice(j, j + bin)).join(' '));\r\n                times++;\r\n\r\n              }\r\n\r\n              commands = Array.prototype.concat.apply(commands, result);\r\n\r\n            } else {\r\n\r\n              commands.push(command);\r\n\r\n            }\r\n\r\n          });\r\n\r\n          // Create the vertices for our Two.Path\r\n\r\n          var points = [];\r\n          _.each(commands, function(command, i) {\r\n\r\n            var result, x, y;\r\n            var type = command[0];\r\n            var lower = type.toLowerCase();\r\n\r\n            coords = command.slice(1).trim();\r\n            coords = coords.replace(/(-?\\d+(?:\\.\\d*)?)[eE]([+\\-]?\\d+)/g, function(match, n1, n2) {\r\n              return parseFloat(n1) * pow(10, n2);\r\n            });\r\n            coords = coords.split(/[\\s,]+|(?=\\s?[+\\-])/);\r\n            relative = type === lower;\r\n\r\n            var x1, y1, x2, y2, x3, y3, x4, y4, reflection;\r\n\r\n            switch (lower) {\r\n\r\n              case 'z':\r\n                if (i >= last) {\r\n                  closed = true;\r\n                } else {\r\n                  x = coord.x;\r\n                  y = coord.y;\r\n                  result = new Two.Anchor(\r\n                    x, y,\r\n                    undefined, undefined,\r\n                    undefined, undefined,\r\n                    Two.Commands.close\r\n                  );\r\n                }\r\n                break;\r\n\r\n              case 'm':\r\n              case 'l':\r\n\r\n                x = parseFloat(coords[0]);\r\n                y = parseFloat(coords[1]);\r\n\r\n                result = new Two.Anchor(\r\n                  x, y,\r\n                  undefined, undefined,\r\n                  undefined, undefined,\r\n                  lower === 'm' ? Two.Commands.move : Two.Commands.line\r\n                );\r\n\r\n                if (relative) {\r\n                  result.addSelf(coord);\r\n                }\r\n\r\n                // result.controls.left.copy(result);\r\n                // result.controls.right.copy(result);\r\n\r\n                coord = result;\r\n                break;\r\n\r\n              case 'h':\r\n              case 'v':\r\n\r\n                var a = lower === 'h' ? 'x' : 'y';\r\n                var b = a === 'x' ? 'y' : 'x';\r\n\r\n                result = new Two.Anchor(\r\n                  undefined, undefined,\r\n                  undefined, undefined,\r\n                  undefined, undefined,\r\n                  Two.Commands.line\r\n                );\r\n                result[a] = parseFloat(coords[0]);\r\n                result[b] = coord[b];\r\n\r\n                if (relative) {\r\n                  result[a] += coord[a];\r\n                }\r\n\r\n                // result.controls.left.copy(result);\r\n                // result.controls.right.copy(result);\r\n\r\n                coord = result;\r\n                break;\r\n\r\n              case 'c':\r\n              case 's':\r\n\r\n                x1 = coord.x;\r\n                y1 = coord.y;\r\n\r\n                if (!control) {\r\n                  control = new Two.Vector();//.copy(coord);\r\n                }\r\n\r\n                if (lower === 'c') {\r\n\r\n                  x2 = parseFloat(coords[0]);\r\n                  y2 = parseFloat(coords[1]);\r\n                  x3 = parseFloat(coords[2]);\r\n                  y3 = parseFloat(coords[3]);\r\n                  x4 = parseFloat(coords[4]);\r\n                  y4 = parseFloat(coords[5]);\r\n\r\n                } else {\r\n\r\n                  // Calculate reflection control point for proper x2, y2\r\n                  // inclusion.\r\n\r\n                  reflection = getReflection(coord, control, relative);\r\n\r\n                  x2 = reflection.x;\r\n                  y2 = reflection.y;\r\n                  x3 = parseFloat(coords[0]);\r\n                  y3 = parseFloat(coords[1]);\r\n                  x4 = parseFloat(coords[2]);\r\n                  y4 = parseFloat(coords[3]);\r\n\r\n                }\r\n\r\n                if (relative) {\r\n                  x2 += x1;\r\n                  y2 += y1;\r\n                  x3 += x1;\r\n                  y3 += y1;\r\n                  x4 += x1;\r\n                  y4 += y1;\r\n                }\r\n\r\n                if (!_.isObject(coord.controls)) {\r\n                  Two.Anchor.AppendCurveProperties(coord);\r\n                }\r\n\r\n                coord.controls.right.set(x2 - coord.x, y2 - coord.y);\r\n                result = new Two.Anchor(\r\n                  x4, y4,\r\n                  x3 - x4, y3 - y4,\r\n                  undefined, undefined,\r\n                  Two.Commands.curve\r\n                );\r\n\r\n                coord = result;\r\n                control = result.controls.left;\r\n\r\n                break;\r\n\r\n              case 't':\r\n              case 'q':\r\n\r\n                x1 = coord.x;\r\n                y1 = coord.y;\r\n\r\n                if (!control) {\r\n                  control = new Two.Vector();//.copy(coord);\r\n                }\r\n\r\n                if (control.isZero()) {\r\n                  x2 = x1;\r\n                  y2 = y1;\r\n                } else {\r\n                  x2 = control.x;\r\n                  y1 = control.y;\r\n                }\r\n\r\n                if (lower === 'q') {\r\n\r\n                  x3 = parseFloat(coords[0]);\r\n                  y3 = parseFloat(coords[1]);\r\n                  x4 = parseFloat(coords[1]);\r\n                  y4 = parseFloat(coords[2]);\r\n\r\n                } else {\r\n\r\n                  reflection = getReflection(coord, control, relative);\r\n\r\n                  x3 = reflection.x;\r\n                  y3 = reflection.y;\r\n                  x4 = parseFloat(coords[0]);\r\n                  y4 = parseFloat(coords[1]);\r\n\r\n                }\r\n\r\n                if (relative) {\r\n                  x2 += x1;\r\n                  y2 += y1;\r\n                  x3 += x1;\r\n                  y3 += y1;\r\n                  x4 += x1;\r\n                  y4 += y1;\r\n                }\r\n\r\n                if (!_.isObject(coord.controls)) {\r\n                  Two.Anchor.AppendCurveProperties(coord);\r\n                }\r\n\r\n                coord.controls.right.set(x2 - coord.x, y2 - coord.y);\r\n                result = new Two.Anchor(\r\n                  x4, y4,\r\n                  x3 - x4, y3 - y4,\r\n                  undefined, undefined,\r\n                  Two.Commands.curve\r\n                );\r\n\r\n                coord = result;\r\n                control = result.controls.left;\r\n\r\n                break;\r\n\r\n              case 'a':\r\n\r\n                // throw new Two.Utils.Error('not yet able to interpret Elliptical Arcs.');\r\n                x1 = coord.x;\r\n                y1 = coord.y;\r\n\r\n                var rx = parseFloat(coords[0]);\r\n                var ry = parseFloat(coords[1]);\r\n                var xAxisRotation = parseFloat(coords[2]) * Math.PI / 180;\r\n                var largeArcFlag = parseFloat(coords[3]);\r\n                var sweepFlag = parseFloat(coords[4]);\r\n\r\n                x4 = parseFloat(coords[5]);\r\n                y4 = parseFloat(coords[6]);\r\n\r\n                if (relative) {\r\n                  x4 += x1;\r\n                  y4 += y1;\r\n                }\r\n\r\n                // http://www.w3.org/TR/SVG/implnote.html#ArcConversionEndpointToCenter\r\n\r\n                // Calculate midpoint mx my\r\n                var mx = (x4 - x1) / 2;\r\n                var my = (y4 - y1) / 2;\r\n\r\n                // Calculate x1' y1' F.6.5.1\r\n                var _x = mx * Math.cos(xAxisRotation) + my * Math.sin(xAxisRotation);\r\n                var _y = - mx * Math.sin(xAxisRotation) + my * Math.cos(xAxisRotation);\r\n\r\n                var rx2 = rx * rx;\r\n                var ry2 = ry * ry;\r\n                var _x2 = _x * _x;\r\n                var _y2 = _y * _y;\r\n\r\n                // adjust radii\r\n                var l = _x2 / rx2 + _y2 / ry2;\r\n                if (l > 1) {\r\n                  rx *= Math.sqrt(l);\r\n                  ry *= Math.sqrt(l);\r\n                }\r\n\r\n                var amp = Math.sqrt((rx2 * ry2 - rx2 * _y2 - ry2 * _x2) / (rx2 * _y2 + ry2 * _x2));\r\n\r\n                if (_.isNaN(amp)) {\r\n                  amp = 0;\r\n                } else if (largeArcFlag != sweepFlag && amp > 0) {\r\n                  amp *= -1;\r\n                }\r\n\r\n                // Calculate cx' cy' F.6.5.2\r\n                var _cx = amp * rx * _y / ry;\r\n                var _cy = - amp * ry * _x / rx;\r\n\r\n                // Calculate cx cy F.6.5.3\r\n                var cx = _cx * Math.cos(xAxisRotation) - _cy * Math.sin(xAxisRotation) + (x1 + x4) / 2;\r\n                var cy = _cx * Math.sin(xAxisRotation) + _cy * Math.cos(xAxisRotation) + (y1 + y4) / 2;\r\n\r\n                // vector magnitude\r\n                var m = function(v) { return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2)); }\r\n                // ratio between two vectors\r\n                var r = function(u, v) { return (u[0] * v[0] + u[1] * v[1]) / (m(u) * m(v)) }\r\n                // angle between two vectors\r\n                var a = function(u, v) { return (u[0] * v[1] < u[1] * v[0] ? - 1 : 1) * Math.acos(r(u,v)); }\r\n\r\n                // Calculate theta1 and delta theta F.6.5.4 + F.6.5.5\r\n                var t1 = a([1, 0], [(_x - _cx) / rx, (_y - _cy) / ry]);\r\n                var u = [(_x - _cx) / rx, (_y - _cy) / ry];\r\n                var v = [( - _x - _cx) / rx, ( - _y - _cy) / ry];\r\n                var dt = a(u, v);\r\n\r\n                if (r(u, v) <= -1) dt = Math.PI;\r\n                if (r(u, v) >= 1) dt = 0;\r\n\r\n                // F.6.5.6\r\n                if (largeArcFlag)  {\r\n                  dt = mod(dt, Math.PI * 2);\r\n                }\r\n\r\n                if (sweepFlag && dt > 0) {\r\n                  dt -= Math.PI * 2;\r\n                }\r\n\r\n                var length = Two.Resolution;\r\n\r\n                // Save a projection of our rotation and translation to apply\r\n                // to the set of points.\r\n                var projection = new Two.Matrix()\r\n                  .translate(cx, cy)\r\n                  .rotate(xAxisRotation);\r\n\r\n                // Create a resulting array of Two.Anchor's to export to the\r\n                // the path.\r\n                result = _.map(_.range(length), function(i) {\r\n                  var pct = 1 - (i / (length - 1));\r\n                  var theta = pct * dt + t1;\r\n                  var x = rx * Math.cos(theta);\r\n                  var y = ry * Math.sin(theta);\r\n                  var projected = projection.multiply(x, y, 1);\r\n                  return new Two.Anchor(projected.x, projected.y, false, false, false, false, Two.Commands.line);;\r\n                });\r\n\r\n                result.push(new Two.Anchor(x4, y4, false, false, false, false, Two.Commands.line));\r\n\r\n                coord = result[result.length - 1];\r\n                control = coord.controls.left;\r\n\r\n                break;\r\n\r\n            }\r\n\r\n            if (result) {\r\n              if (_.isArray(result)) {\r\n                points = points.concat(result);\r\n              } else {\r\n                points.push(result);\r\n              }\r\n            }\r\n\r\n          });\r\n\r\n          if (points.length <= 1) {\r\n            return;\r\n          }\r\n\r\n          var path = new Two.Path(points, closed, undefined, true).noStroke();\r\n          path.fill = 'black';\r\n\r\n          var rect = path.getBoundingClientRect(true);\r\n\r\n          // Center objects to stay consistent\r\n          // with the rest of the Two.js API.\r\n          rect.centroid = {\r\n            x: rect.left + rect.width / 2,\r\n            y: rect.top + rect.height / 2\r\n          };\r\n\r\n          _.each(path.vertices, function(v) {\r\n            v.subSelf(rect.centroid);\r\n          });\r\n\r\n          path.translation.addSelf(rect.centroid);\r\n\r\n          return Two.Utils.applySvgAttributes.call(this, node, path);\r\n\r\n        },\r\n\r\n        circle: function(node) {\r\n\r\n          var x = parseFloat(node.getAttribute('cx'));\r\n          var y = parseFloat(node.getAttribute('cy'));\r\n          var r = parseFloat(node.getAttribute('r'));\r\n\r\n          var circle = new Two.Circle(x, y, r).noStroke();\r\n          circle.fill = 'black';\r\n\r\n          return Two.Utils.applySvgAttributes.call(this, node, circle);\r\n\r\n        },\r\n\r\n        ellipse: function(node) {\r\n\r\n          var x = parseFloat(node.getAttribute('cx'));\r\n          var y = parseFloat(node.getAttribute('cy'));\r\n          var width = parseFloat(node.getAttribute('rx'));\r\n          var height = parseFloat(node.getAttribute('ry'));\r\n\r\n          var ellipse = new Two.Ellipse(x, y, width, height).noStroke();\r\n          ellipse.fill = 'black';\r\n\r\n          return Two.Utils.applySvgAttributes.call(this, node, ellipse);\r\n\r\n        },\r\n\r\n        rect: function(node) {\r\n\r\n          var x = parseFloat(node.getAttribute('x')) || 0;\r\n          var y = parseFloat(node.getAttribute('y')) || 0;\r\n          var width = parseFloat(node.getAttribute('width'));\r\n          var height = parseFloat(node.getAttribute('height'));\r\n\r\n          var w2 = width / 2;\r\n          var h2 = height / 2;\r\n\r\n          var rect = new Two.Rectangle(x + w2, y + h2, width, height)\r\n            .noStroke();\r\n          rect.fill = 'black';\r\n\r\n          return Two.Utils.applySvgAttributes.call(this, node, rect);\r\n\r\n        },\r\n\r\n        line: function(node) {\r\n\r\n          var x1 = parseFloat(node.getAttribute('x1'));\r\n          var y1 = parseFloat(node.getAttribute('y1'));\r\n          var x2 = parseFloat(node.getAttribute('x2'));\r\n          var y2 = parseFloat(node.getAttribute('y2'));\r\n\r\n          var line = new Two.Line(x1, y1, x2, y2).noFill();\r\n\r\n          return Two.Utils.applySvgAttributes.call(this, node, line);\r\n\r\n        },\r\n\r\n        lineargradient: function(node) {\r\n\r\n          var x1 = parseFloat(node.getAttribute('x1'));\r\n          var y1 = parseFloat(node.getAttribute('y1'));\r\n          var x2 = parseFloat(node.getAttribute('x2'));\r\n          var y2 = parseFloat(node.getAttribute('y2'));\r\n\r\n          var ox = (x2 + x1) / 2;\r\n          var oy = (y2 + y1) / 2;\r\n\r\n          var stops = [];\r\n          for (var i = 0; i < node.children.length; i++) {\r\n\r\n            var child = node.children[i];\r\n\r\n            var offset = parseFloat(child.getAttribute('offset'));\r\n            var color = child.getAttribute('stop-color');\r\n            var opacity = child.getAttribute('stop-opacity');\r\n            var style = child.getAttribute('style');\r\n\r\n            if (_.isNull(color)) {\r\n              var matches = style ? style.match(/stop\\-color\\:\\s?([\\#a-fA-F0-9]*)/) : false;\r\n              color = matches && matches.length > 1 ? matches[1] : undefined;\r\n            }\r\n\r\n            if (_.isNull(opacity)) {\r\n              var matches = style ? style.match(/stop\\-opacity\\:\\s?([0-9\\.\\-]*)/) : false;\r\n              opacity = matches && matches.length > 1 ? parseFloat(matches[1]) : 1;\r\n            }\r\n\r\n            stops.push(new Two.Gradient.Stop(offset, color, opacity));\r\n\r\n          }\r\n\r\n          var gradient = new Two.LinearGradient(x1 - ox, y1 - oy, x2 - ox,\r\n            y2 - oy, stops);\r\n\r\n          return Two.Utils.applySvgAttributes.call(this, node, gradient);\r\n\r\n        },\r\n\r\n        radialgradient: function(node) {\r\n\r\n          var cx = parseFloat(node.getAttribute('cx')) || 0;\r\n          var cy = parseFloat(node.getAttribute('cy')) || 0;\r\n          var r = parseFloat(node.getAttribute('r'));\r\n\r\n          var fx = parseFloat(node.getAttribute('fx'));\r\n          var fy = parseFloat(node.getAttribute('fy'));\r\n\r\n          if (_.isNaN(fx)) {\r\n            fx = cx;\r\n          }\r\n\r\n          if (_.isNaN(fy)) {\r\n            fy = cy;\r\n          }\r\n\r\n          var ox = Math.abs(cx + fx) / 2;\r\n          var oy = Math.abs(cy + fy) / 2;\r\n\r\n          var stops = [];\r\n          for (var i = 0; i < node.children.length; i++) {\r\n\r\n            var child = node.children[i];\r\n\r\n            var offset = parseFloat(child.getAttribute('offset'));\r\n            var color = child.getAttribute('stop-color');\r\n            var opacity = child.getAttribute('stop-opacity');\r\n            var style = child.getAttribute('style');\r\n\r\n            if (_.isNull(color)) {\r\n              var matches = style ? style.match(/stop\\-color\\:\\s?([\\#a-fA-F0-9]*)/) : false;\r\n              color = matches && matches.length > 1 ? matches[1] : undefined;\r\n            }\r\n\r\n            if (_.isNull(opacity)) {\r\n              var matches = style ? style.match(/stop\\-opacity\\:\\s?([0-9\\.\\-]*)/) : false;\r\n              opacity = matches && matches.length > 1 ? parseFloat(matches[1]) : 1;\r\n            }\r\n\r\n            stops.push(new Two.Gradient.Stop(offset, color, opacity));\r\n\r\n          }\r\n\r\n          var gradient = new Two.RadialGradient(cx - ox, cy - oy, r,\r\n            stops, fx - ox, fy - oy);\r\n\r\n          return Two.Utils.applySvgAttributes.call(this, node, gradient);\r\n\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       * Given 2 points (a, b) and corresponding control point for each\r\n       * return an array of points that represent points plotted along\r\n       * the curve. Number points determined by limit.\r\n       */\r\n      subdivide: function(x1, y1, x2, y2, x3, y3, x4, y4, limit) {\r\n\r\n        limit = limit || Two.Utils.Curve.RecursionLimit;\r\n        var amount = limit + 1;\r\n\r\n        // TODO: Issue 73\r\n        // Don't recurse if the end points are identical\r\n        if (x1 === x4 && y1 === y4) {\r\n          return [new Two.Anchor(x4, y4)];\r\n        }\r\n\r\n        return _.map(_.range(0, amount), function(i) {\r\n\r\n          var t = i / amount;\r\n          var x = getPointOnCubicBezier(t, x1, x2, x3, x4);\r\n          var y = getPointOnCubicBezier(t, y1, y2, y3, y4);\r\n\r\n          return new Two.Anchor(x, y);\r\n\r\n        });\r\n\r\n      },\r\n\r\n      getPointOnCubicBezier: function(t, a, b, c, d) {\r\n        var k = 1 - t;\r\n        return (k * k * k * a) + (3 * k * k * t * b) + (3 * k * t * t * c) +\r\n           (t * t * t * d);\r\n      },\r\n\r\n      /**\r\n       * Given 2 points (a, b) and corresponding control point for each\r\n       * return a float that represents the length of the curve using\r\n       * Gauss-Legendre algorithm. Limit iterations of calculation by `limit`.\r\n       */\r\n      getCurveLength: function(x1, y1, x2, y2, x3, y3, x4, y4, limit) {\r\n\r\n        // TODO: Better / fuzzier equality check\r\n        // Linear calculation\r\n        if (x1 === x2 && y1 === y2 && x3 === x4 && y3 === y4) {\r\n          var dx = x4 - x1;\r\n          var dy = y4 - y1;\r\n          return sqrt(dx * dx + dy * dy);\r\n        }\r\n\r\n        // Calculate the coefficients of a Bezier derivative.\r\n        var ax = 9 * (x2 - x3) + 3 * (x4 - x1),\r\n          bx = 6 * (x1 + x3) - 12 * x2,\r\n          cx = 3 * (x2 - x1),\r\n\r\n          ay = 9 * (y2 - y3) + 3 * (y4 - y1),\r\n          by = 6 * (y1 + y3) - 12 * y2,\r\n          cy = 3 * (y2 - y1);\r\n\r\n        var integrand = function(t) {\r\n          // Calculate quadratic equations of derivatives for x and y\r\n          var dx = (ax * t + bx) * t + cx,\r\n            dy = (ay * t + by) * t + cy;\r\n          return sqrt(dx * dx + dy * dy);\r\n        };\r\n\r\n        return integrate(\r\n          integrand, 0, 1, limit || Two.Utils.Curve.RecursionLimit\r\n        );\r\n\r\n      },\r\n\r\n      /**\r\n       * Integration for `getCurveLength` calculations. Referenced from\r\n       * Paper.js: https://github.com/paperjs/paper.js/blob/master/src/util/Numerical.js#L101\r\n       */\r\n      integrate: function(f, a, b, n) {\r\n        var x = Two.Utils.Curve.abscissas[n - 2],\r\n          w = Two.Utils.Curve.weights[n - 2],\r\n          A = 0.5 * (b - a),\r\n          B = A + a,\r\n          i = 0,\r\n          m = (n + 1) >> 1,\r\n          sum = n & 1 ? w[i++] * f(B) : 0; // Handle odd n\r\n        while (i < m) {\r\n          var Ax = A * x[i];\r\n          sum += w[i++] * (f(B + Ax) + f(B - Ax));\r\n        }\r\n        return A * sum;\r\n      },\r\n\r\n      /**\r\n       * Creates a set of points that have u, v values for anchor positions\r\n       */\r\n      getCurveFromPoints: function(points, closed) {\r\n\r\n        var l = points.length, last = l - 1;\r\n\r\n        for (var i = 0; i < l; i++) {\r\n\r\n          var point = points[i];\r\n\r\n          if (!_.isObject(point.controls)) {\r\n            Two.Anchor.AppendCurveProperties(point);\r\n          }\r\n\r\n          var prev = closed ? mod(i - 1, l) : max(i - 1, 0);\r\n          var next = closed ? mod(i + 1, l) : min(i + 1, last);\r\n\r\n          var a = points[prev];\r\n          var b = point;\r\n          var c = points[next];\r\n          getControlPoints(a, b, c);\r\n\r\n          b._command = i === 0 ? Two.Commands.move : Two.Commands.curve;\r\n\r\n          b.controls.left.x = _.isNumber(b.controls.left.x) ? b.controls.left.x : b.x;\r\n          b.controls.left.y = _.isNumber(b.controls.left.y) ? b.controls.left.y : b.y;\r\n\r\n          b.controls.right.x = _.isNumber(b.controls.right.x) ? b.controls.right.x : b.x;\r\n          b.controls.right.y = _.isNumber(b.controls.right.y) ? b.controls.right.y : b.y;\r\n\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       * Given three coordinates return the control points for the middle, b,\r\n       * vertex.\r\n       */\r\n      getControlPoints: function(a, b, c) {\r\n\r\n        var a1 = angleBetween(a, b);\r\n        var a2 = angleBetween(c, b);\r\n\r\n        var d1 = distanceBetween(a, b);\r\n        var d2 = distanceBetween(c, b);\r\n\r\n        var mid = (a1 + a2) / 2;\r\n\r\n        // So we know which angle corresponds to which side.\r\n\r\n        b.u = _.isObject(b.controls.left) ? b.controls.left : new Two.Vector(0, 0);\r\n        b.v = _.isObject(b.controls.right) ? b.controls.right : new Two.Vector(0, 0);\r\n\r\n        // TODO: Issue 73\r\n        if (d1 < 0.0001 || d2 < 0.0001) {\r\n          if (!b._relative) {\r\n            b.controls.left.copy(b);\r\n            b.controls.right.copy(b);\r\n          }\r\n          return b;\r\n        }\r\n\r\n        d1 *= 0.33; // Why 0.33?\r\n        d2 *= 0.33;\r\n\r\n        if (a2 < a1) {\r\n          mid += HALF_PI;\r\n        } else {\r\n          mid -= HALF_PI;\r\n        }\r\n\r\n        b.controls.left.x = cos(mid) * d1;\r\n        b.controls.left.y = sin(mid) * d1;\r\n\r\n        mid -= PI;\r\n\r\n        b.controls.right.x = cos(mid) * d2;\r\n        b.controls.right.y = sin(mid) * d2;\r\n\r\n        if (!b._relative) {\r\n          b.controls.left.x += b.x;\r\n          b.controls.left.y += b.y;\r\n          b.controls.right.x += b.x;\r\n          b.controls.right.y += b.y;\r\n        }\r\n\r\n        return b;\r\n\r\n      },\r\n\r\n      /**\r\n       * Get the reflection of a point \"b\" about point \"a\". Where \"a\" is in\r\n       * absolute space and \"b\" is relative to \"a\".\r\n       *\r\n       * http://www.w3.org/TR/SVG11/implnote.html#PathElementImplementationNotes\r\n       */\r\n      getReflection: function(a, b, relative) {\r\n\r\n        return new Two.Vector(\r\n          2 * a.x - (b.x + a.x) - (relative ? a.x : 0),\r\n          2 * a.y - (b.y + a.y) - (relative ? a.y : 0)\r\n        );\r\n\r\n      },\r\n\r\n      getAnchorsFromArcData: function(center, xAxisRotation, rx, ry, ts, td, ccw) {\r\n\r\n        var matrix = new Two.Matrix()\r\n          .translate(center.x, center.y)\r\n          .rotate(xAxisRotation);\r\n\r\n        var l = Two.Resolution;\r\n\r\n        return _.map(_.range(l), function(i) {\r\n\r\n          var pct = (i + 1) / l;\r\n          if (!!ccw) {\r\n            pct = 1 - pct;\r\n          }\r\n\r\n          var theta = pct * td + ts;\r\n          var x = rx * Math.cos(theta);\r\n          var y = ry * Math.sin(theta);\r\n\r\n          // x += center.x;\r\n          // y += center.y;\r\n\r\n          var anchor = new Two.Anchor(x, y);\r\n          Two.Anchor.AppendCurveProperties(anchor);\r\n          anchor.command = Two.Commands.line;\r\n\r\n          // TODO: Calculate control points here...\r\n\r\n          return anchor;\r\n\r\n        });\r\n\r\n      },\r\n\r\n      ratioBetween: function(A, B) {\r\n\r\n        return (A.x * B.x + A.y * B.y) / (A.length() * B.length());\r\n\r\n      },\r\n\r\n      angleBetween: function(A, B) {\r\n\r\n        var dx, dy;\r\n\r\n        if (arguments.length >= 4) {\r\n\r\n          dx = arguments[0] - arguments[2];\r\n          dy = arguments[1] - arguments[3];\r\n\r\n          return atan2(dy, dx);\r\n\r\n        }\r\n\r\n        dx = A.x - B.x;\r\n        dy = A.y - B.y;\r\n\r\n        return atan2(dy, dx);\r\n\r\n      },\r\n\r\n      distanceBetweenSquared: function(p1, p2) {\r\n\r\n        var dx = p1.x - p2.x;\r\n        var dy = p1.y - p2.y;\r\n\r\n        return dx * dx + dy * dy;\r\n\r\n      },\r\n\r\n      distanceBetween: function(p1, p2) {\r\n\r\n        return sqrt(distanceBetweenSquared(p1, p2));\r\n\r\n      },\r\n\r\n      lerp: function(a, b, t) {\r\n        return t * (b - a) + a;\r\n      },\r\n\r\n      // A pretty fast toFixed(3) alternative\r\n      // See http://jsperf.com/parsefloat-tofixed-vs-math-round/18\r\n      toFixed: function(v) {\r\n        return Math.floor(v * 1000) / 1000;\r\n      },\r\n\r\n      mod: function(v, l) {\r\n\r\n        while (v < 0) {\r\n          v += l;\r\n        }\r\n\r\n        return v % l;\r\n\r\n      },\r\n\r\n      /**\r\n       * Array like collection that triggers inserted and removed events\r\n       * removed : pop / shift / splice\r\n       * inserted : push / unshift / splice (with > 2 arguments)\r\n       */\r\n      Collection: function() {\r\n\r\n        Array.call(this);\r\n\r\n        if (arguments.length > 1) {\r\n          Array.prototype.push.apply(this, arguments);\r\n        } else if (arguments[0] && Array.isArray(arguments[0])) {\r\n          Array.prototype.push.apply(this, arguments[0]);\r\n        }\r\n\r\n      },\r\n\r\n      // Custom Error Throwing for Two.js\r\n\r\n      Error: function(message) {\r\n        this.name = 'two.js';\r\n        this.message = message;\r\n      },\r\n\r\n      Events: {\r\n\r\n        on: function(name, callback) {\r\n\r\n          this._events || (this._events = {});\r\n          var list = this._events[name] || (this._events[name] = []);\r\n\r\n          list.push(callback);\r\n\r\n          return this;\r\n\r\n        },\r\n\r\n        off: function(name, callback) {\r\n\r\n          if (!this._events) {\r\n            return this;\r\n          }\r\n          if (!name && !callback) {\r\n            this._events = {};\r\n            return this;\r\n          }\r\n\r\n          var names = name ? [name] : _.keys(this._events);\r\n          for (var i = 0, l = names.length; i < l; i++) {\r\n\r\n            var name = names[i];\r\n            var list = this._events[name];\r\n\r\n            if (!!list) {\r\n              var events = [];\r\n              if (callback) {\r\n                for (var j = 0, k = list.length; j < k; j++) {\r\n                  var ev = list[j];\r\n                  ev = ev.callback ? ev.callback : ev;\r\n                  if (callback && callback !== ev) {\r\n                    events.push(ev);\r\n                  }\r\n                }\r\n              }\r\n              this._events[name] = events;\r\n            }\r\n          }\r\n\r\n          return this;\r\n        },\r\n\r\n        trigger: function(name) {\r\n          if (!this._events) return this;\r\n          var args = slice.call(arguments, 1);\r\n          var events = this._events[name];\r\n          if (events) trigger(this, events, args);\r\n          return this;\r\n        },\r\n\r\n        listen: function (obj, name, callback) {\r\n\r\n          var bound = this;\r\n\r\n          if (obj) {\r\n            var ev = function () {\r\n              callback.apply(bound, arguments);\r\n            };\r\n\r\n            // add references about the object that assigned this listener\r\n            ev.obj = obj;\r\n            ev.name = name;\r\n            ev.callback = callback;\r\n\r\n            obj.on(name, ev);\r\n          }\r\n\r\n          return this;\r\n\r\n        },\r\n\r\n        ignore: function (obj, name, callback) {\r\n\r\n          obj.off(name, callback);\r\n\r\n          return this;\r\n\r\n        }\r\n\r\n      }\r\n\r\n    })\r\n\r\n  });\r\n\r\n  Two.Utils.Events.bind = Two.Utils.Events.on;\r\n  Two.Utils.Events.unbind = Two.Utils.Events.off;\r\n\r\n  var trigger = function(obj, events, args) {\r\n    var method;\r\n    switch (args.length) {\r\n    case 0:\r\n      method = function(i) {\r\n        events[i].call(obj, args[0]);\r\n      };\r\n      break;\r\n    case 1:\r\n      method = function(i) {\r\n        events[i].call(obj, args[0], args[1]);\r\n      };\r\n      break;\r\n    case 2:\r\n      method = function(i) {\r\n        events[i].call(obj, args[0], args[1], args[2]);\r\n      };\r\n      break;\r\n    case 3:\r\n      method = function(i) {\r\n        events[i].call(obj, args[0], args[1], args[2], args[3]);\r\n      };\r\n      break;\r\n    default:\r\n      method = function(i) {\r\n        events[i].apply(obj, args);\r\n      };\r\n    }\r\n    for (var i = 0; i < events.length; i++) {\r\n      method(i);\r\n    }\r\n  };\r\n\r\n  Two.Utils.Error.prototype = new Error();\r\n  Two.Utils.Error.prototype.constructor = Two.Utils.Error;\r\n\r\n  Two.Utils.Collection.prototype = new Array();\r\n  Two.Utils.Collection.prototype.constructor = Two.Utils.Collection;\r\n\r\n  _.extend(Two.Utils.Collection.prototype, Two.Utils.Events, {\r\n\r\n    pop: function() {\r\n      var popped = Array.prototype.pop.apply(this, arguments);\r\n      this.trigger(Two.Events.remove, [popped]);\r\n      return popped;\r\n    },\r\n\r\n    shift: function() {\r\n      var shifted = Array.prototype.shift.apply(this, arguments);\r\n      this.trigger(Two.Events.remove, [shifted]);\r\n      return shifted;\r\n    },\r\n\r\n    push: function() {\r\n      var pushed = Array.prototype.push.apply(this, arguments);\r\n      this.trigger(Two.Events.insert, arguments);\r\n      return pushed;\r\n    },\r\n\r\n    unshift: function() {\r\n      var unshifted = Array.prototype.unshift.apply(this, arguments);\r\n      this.trigger(Two.Events.insert, arguments);\r\n      return unshifted;\r\n    },\r\n\r\n    splice: function() {\r\n      var spliced = Array.prototype.splice.apply(this, arguments);\r\n      var inserted;\r\n\r\n      this.trigger(Two.Events.remove, spliced);\r\n\r\n      if (arguments.length > 2) {\r\n        inserted = this.slice(arguments[0], arguments[0] + arguments.length - 2);\r\n        this.trigger(Two.Events.insert, inserted);\r\n        this.trigger(Two.Events.order);\r\n      }\r\n      return spliced;\r\n    },\r\n\r\n    sort: function() {\r\n      Array.prototype.sort.apply(this, arguments);\r\n      this.trigger(Two.Events.order);\r\n      return this;\r\n    },\r\n\r\n    reverse: function() {\r\n      Array.prototype.reverse.apply(this, arguments);\r\n      this.trigger(Two.Events.order);\r\n      return this;\r\n    }\r\n\r\n  });\r\n\r\n  // Localize utils\r\n\r\n  var distanceBetween = Two.Utils.distanceBetween,\r\n    getAnchorsFromArcData = Two.Utils.getAnchorsFromArcData,\r\n    distanceBetweenSquared = Two.Utils.distanceBetweenSquared,\r\n    ratioBetween = Two.Utils.ratioBetween,\r\n    angleBetween = Two.Utils.angleBetween,\r\n    getControlPoints = Two.Utils.getControlPoints,\r\n    getCurveFromPoints = Two.Utils.getCurveFromPoints,\r\n    solveSegmentIntersection = Two.Utils.solveSegmentIntersection,\r\n    decoupleShapes = Two.Utils.decoupleShapes,\r\n    mod = Two.Utils.mod,\r\n    getBackingStoreRatio = Two.Utils.getBackingStoreRatio,\r\n    getPointOnCubicBezier = Two.Utils.getPointOnCubicBezier,\r\n    getCurveLength = Two.Utils.getCurveLength,\r\n    integrate = Two.Utils.integrate,\r\n    getReflection = Two.Utils.getReflection;\r\n\r\n  _.extend(Two.prototype, Two.Utils.Events, {\r\n\r\n    appendTo: function(elem) {\r\n\r\n      elem.appendChild(this.renderer.domElement);\r\n      return this;\r\n\r\n    },\r\n\r\n    play: function() {\r\n\r\n      Two.Utils.setPlaying.call(this, true);\r\n      return this.trigger(Two.Events.play);\r\n\r\n    },\r\n\r\n    pause: function() {\r\n\r\n      this.playing = false;\r\n      return this.trigger(Two.Events.pause);\r\n\r\n    },\r\n\r\n    /**\r\n     * Update positions and calculations in one pass before rendering.\r\n     */\r\n    update: function() {\r\n\r\n      var animated = !!this._lastFrame;\r\n      var now = perf.now();\r\n\r\n      this.frameCount++;\r\n\r\n      if (animated) {\r\n        this.timeDelta = parseFloat((now - this._lastFrame).toFixed(3));\r\n      }\r\n      this._lastFrame = now;\r\n\r\n      var width = this.width;\r\n      var height = this.height;\r\n      var renderer = this.renderer;\r\n\r\n      // Update width / height for the renderer\r\n      if (width !== renderer.width || height !== renderer.height) {\r\n        renderer.setSize(width, height, this.ratio);\r\n      }\r\n\r\n      this.trigger(Two.Events.update, this.frameCount, this.timeDelta);\r\n\r\n      return this.render();\r\n\r\n    },\r\n\r\n    /**\r\n     * Render all drawable - visible objects of the scene.\r\n     */\r\n    render: function() {\r\n\r\n      this.renderer.render();\r\n      return this.trigger(Two.Events.render, this.frameCount);\r\n\r\n    },\r\n\r\n    /**\r\n     * Convenience Methods\r\n     */\r\n\r\n    add: function(o) {\r\n\r\n      var objects = o;\r\n      if (!(objects instanceof Array)) {\r\n        objects = _.toArray(arguments);\r\n      }\r\n\r\n      this.scene.add(objects);\r\n      return this;\r\n\r\n    },\r\n\r\n    remove: function(o) {\r\n\r\n      var objects = o;\r\n      if (!(objects instanceof Array)) {\r\n        objects = _.toArray(arguments);\r\n      }\r\n\r\n      this.scene.remove(objects);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    clear: function() {\r\n\r\n      this.scene.remove(_.toArray(this.scene.children));\r\n      return this;\r\n\r\n    },\r\n\r\n    makeLine: function(x1, y1, x2, y2) {\r\n\r\n      var line = new Two.Line(x1, y1, x2, y2);\r\n      this.scene.add(line);\r\n\r\n      return line;\r\n\r\n    },\r\n\r\n    makeRectangle: function(x, y, width, height) {\r\n\r\n      var rect = new Two.Rectangle(x, y, width, height);\r\n      this.scene.add(rect);\r\n\r\n      return rect;\r\n\r\n    },\r\n\r\n    makeRoundedRectangle: function(x, y, width, height, sides) {\r\n\r\n      var rect = new Two.RoundedRectangle(x, y, width, height, sides);\r\n      this.scene.add(rect);\r\n\r\n      return rect;\r\n\r\n    },\r\n\r\n    makeCircle: function(ox, oy, r) {\r\n\r\n      var circle = new Two.Circle(ox, oy, r);\r\n      this.scene.add(circle);\r\n\r\n      return circle;\r\n\r\n    },\r\n\r\n    makeEllipse: function(ox, oy, rx, ry) {\r\n\r\n      var ellipse = new Two.Ellipse(ox, oy, rx, ry);\r\n      this.scene.add(ellipse);\r\n\r\n      return ellipse;\r\n\r\n    },\r\n\r\n    makeStar: function(ox, oy, or, ir, sides) {\r\n\r\n      var star = new Two.Star(ox, oy, or, ir, sides);\r\n      this.scene.add(star);\r\n\r\n      return star;\r\n\r\n    },\r\n\r\n    makeCurve: function(p) {\r\n\r\n      var l = arguments.length, points = p;\r\n      if (!_.isArray(p)) {\r\n        points = [];\r\n        for (var i = 0; i < l; i+=2) {\r\n          var x = arguments[i];\r\n          if (!_.isNumber(x)) {\r\n            break;\r\n          }\r\n          var y = arguments[i + 1];\r\n          points.push(new Two.Anchor(x, y));\r\n        }\r\n      }\r\n\r\n      var last = arguments[l - 1];\r\n      var curve = new Two.Path(points, !(_.isBoolean(last) ? last : undefined), true);\r\n      var rect = curve.getBoundingClientRect();\r\n      curve.center().translation\r\n        .set(rect.left + rect.width / 2, rect.top + rect.height / 2);\r\n\r\n      this.scene.add(curve);\r\n\r\n      return curve;\r\n\r\n    },\r\n\r\n    makePolygon: function(ox, oy, r, sides) {\r\n\r\n      var poly = new Two.Polygon(ox, oy, r, sides);\r\n      this.scene.add(poly);\r\n\r\n      return poly;\r\n\r\n    },\r\n\r\n    /*\r\n    * Make an Arc Segment\r\n    */\r\n\r\n    makeArcSegment: function(ox, oy, ir, or, sa, ea, res) {\r\n      var arcSegment = new Two.ArcSegment(ox, oy, ir, or, sa, ea, res);\r\n      this.scene.add(arcSegment);\r\n      return arcSegment;\r\n    },\r\n\r\n    /**\r\n     * Convenience method to make and draw a Two.Path.\r\n     */\r\n    makePath: function(p) {\r\n\r\n      var l = arguments.length, points = p;\r\n      if (!_.isArray(p)) {\r\n        points = [];\r\n        for (var i = 0; i < l; i+=2) {\r\n          var x = arguments[i];\r\n          if (!_.isNumber(x)) {\r\n            break;\r\n          }\r\n          var y = arguments[i + 1];\r\n          points.push(new Two.Anchor(x, y));\r\n        }\r\n      }\r\n\r\n      var last = arguments[l - 1];\r\n      var path = new Two.Path(points, !(_.isBoolean(last) ? last : undefined));\r\n      var rect = path.getBoundingClientRect();\r\n      path.center().translation\r\n        .set(rect.left + rect.width / 2, rect.top + rect.height / 2);\r\n\r\n      this.scene.add(path);\r\n\r\n      return path;\r\n\r\n    },\r\n\r\n    /**\r\n     * Convenience method to make and add a Two.Text.\r\n     */\r\n    makeText: function(message, x, y, styles) {\r\n      var text = new Two.Text(message, x, y, styles);\r\n      this.add(text);\r\n      return text;\r\n    },\r\n\r\n    /**\r\n     * Convenience method to make and add a Two.LinearGradient.\r\n     */\r\n    makeLinearGradient: function(x1, y1, x2, y2 /* stops */) {\r\n\r\n      var stops = slice.call(arguments, 4);\r\n      var gradient = new Two.LinearGradient(x1, y1, x2, y2, stops);\r\n\r\n      this.add(gradient);\r\n\r\n      return gradient;\r\n\r\n    },\r\n\r\n    /**\r\n     * Convenience method to make and add a Two.RadialGradient.\r\n     */\r\n    makeRadialGradient: function(x1, y1, r /* stops */) {\r\n\r\n      var stops = slice.call(arguments, 3);\r\n      var gradient = new Two.RadialGradient(x1, y1, r, stops);\r\n\r\n      this.add(gradient);\r\n\r\n      return gradient;\r\n\r\n    },\r\n\r\n    makeSprite: function(path, x, y, cols, rows, frameRate, autostart) {\r\n\r\n      var sprite = new Two.Sprite(path, x, y, cols, rows, frameRate);\r\n      if (!!autostart) {\r\n        sprite.play();\r\n      }\r\n      this.add(sprite);\r\n\r\n      return sprite;\r\n\r\n    },\r\n\r\n    makeImageSequence: function(paths, x, y, frameRate, autostart) {\r\n\r\n      var imageSequence = new Two.ImageSequence(paths, x, y, frameRate);\r\n      if (!!autostart) {\r\n        imageSequence.play();\r\n      }\r\n      this.add(imageSequence);\r\n\r\n      return imageSequence;\r\n\r\n    },\r\n\r\n    makeTexture: function(path, callback) {\r\n\r\n      var texture = new Two.Texture(path, callback);\r\n      return texture;\r\n\r\n    },\r\n\r\n    makeGroup: function(o) {\r\n\r\n      var objects = o;\r\n      if (!(objects instanceof Array)) {\r\n        objects = _.toArray(arguments);\r\n      }\r\n\r\n      var group = new Two.Group();\r\n      this.scene.add(group);\r\n      group.add(objects);\r\n\r\n      return group;\r\n\r\n    },\r\n\r\n    /**\r\n     * Interpret an SVG Node and add it to this instance's scene. The\r\n     * distinction should be made that this doesn't `import` svg's, it solely\r\n     * interprets them into something compatible for Two.js — this is slightly\r\n     * different than a direct transcription.\r\n     *\r\n     * @param {Object} svgNode - The node to be parsed\r\n     * @param {Boolean} shallow - Don't create a top-most group but\r\n     *                                    append all contents directly\r\n     */\r\n    interpret: function(svgNode, shallow) {\r\n\r\n      var tag = svgNode.tagName.toLowerCase();\r\n\r\n      if (!(tag in Two.Utils.read)) {\r\n        return null;\r\n      }\r\n\r\n      var node = Two.Utils.read[tag].call(this, svgNode);\r\n\r\n      if (shallow && node instanceof Two.Group) {\r\n        this.add(node.children);\r\n      } else {\r\n        this.add(node);\r\n      }\r\n\r\n      return node;\r\n\r\n    },\r\n\r\n    /**\r\n     * Load an SVG file / text and interpret.\r\n     */\r\n    load: function(text, callback) {\r\n\r\n      var nodes = [], elem, i;\r\n\r\n      if (/.*\\.svg/ig.test(text)) {\r\n\r\n        Two.Utils.xhr(text, _.bind(function(data) {\r\n\r\n          dom.temp.innerHTML = data;\r\n          for (i = 0; i < dom.temp.children.length; i++) {\r\n            elem = dom.temp.children[i];\r\n            nodes.push(this.interpret(elem));\r\n          }\r\n\r\n          callback(nodes.length <= 1 ? nodes[0] : nodes,\r\n            dom.temp.children.length <= 1 ? dom.temp.children[0] : dom.temp.children);\r\n\r\n        }, this));\r\n\r\n        return this;\r\n\r\n      }\r\n\r\n      dom.temp.innerHTML = text;\r\n      for (i = 0; i < dom.temp.children.length; i++) {\r\n        elem = dom.temp.children[i];\r\n        nodes.push(this.interpret(elem));\r\n      }\r\n\r\n      callback(nodes.length <= 1 ? nodes[0] : nodes,\r\n        dom.temp.children.length <= 1 ? dom.temp.children[0] : dom.temp.children);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  function fitToWindow() {\r\n\r\n    var wr = document.body.getBoundingClientRect();\r\n\r\n    var width = this.width = wr.width;\r\n    var height = this.height = wr.height;\r\n\r\n    this.renderer.setSize(width, height, this.ratio);\r\n    this.trigger(Two.Events.resize, width, height);\r\n\r\n  }\r\n\r\n  // Request Animation Frame\r\n\r\n  var raf = dom.getRequestAnimationFrame();\r\n\r\n  function loop() {\r\n\r\n    raf(loop);\r\n\r\n    for (var i = 0; i < Two.Instances.length; i++) {\r\n      var t = Two.Instances[i];\r\n      if (t.playing) {\r\n        t.update();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n    define('two', [], function() {\r\n      return Two;\r\n    });\r\n  } else if (typeof module != 'undefined' && module.exports) {\r\n    module.exports = Two;\r\n  }\r\n\r\n  return Two;\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var _ = Two.Utils;\r\n\r\n  var Registry = Two.Registry = function() {\r\n\r\n    this.map = {};\r\n\r\n  };\r\n\r\n  _.extend(Registry, {\r\n\r\n  });\r\n\r\n  _.extend(Registry.prototype, {\r\n\r\n    add: function(id, obj) {\r\n      this.map[id] = obj;\r\n      return this;\r\n    },\r\n\r\n    remove: function(id) {\r\n      delete this.map[id];\r\n      return this;\r\n    },\r\n\r\n    get: function(id) {\r\n      return this.map[id];\r\n    },\r\n\r\n    contains: function(id) {\r\n      return id in this.map;\r\n    }\r\n\r\n  });\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var _ = Two.Utils;\r\n\r\n  var Vector = Two.Vector = function(x, y) {\r\n\r\n    this.x = x || 0;\r\n    this.y = y || 0;\r\n\r\n  };\r\n\r\n  _.extend(Vector, {\r\n\r\n    zero: new Two.Vector()\r\n\r\n  });\r\n\r\n  _.extend(Vector.prototype, Two.Utils.Events, {\r\n\r\n    set: function(x, y) {\r\n      this.x = x;\r\n      this.y = y;\r\n      return this;\r\n    },\r\n\r\n    copy: function(v) {\r\n      this.x = v.x;\r\n      this.y = v.y;\r\n      return this;\r\n    },\r\n\r\n    clear: function() {\r\n      this.x = 0;\r\n      this.y = 0;\r\n      return this;\r\n    },\r\n\r\n    clone: function() {\r\n      return new Vector(this.x, this.y);\r\n    },\r\n\r\n    add: function(v1, v2) {\r\n      this.x = v1.x + v2.x;\r\n      this.y = v1.y + v2.y;\r\n      return this;\r\n    },\r\n\r\n    addSelf: function(v) {\r\n      this.x += v.x;\r\n      this.y += v.y;\r\n      return this;\r\n    },\r\n\r\n    sub: function(v1, v2) {\r\n      this.x = v1.x - v2.x;\r\n      this.y = v1.y - v2.y;\r\n      return this;\r\n    },\r\n\r\n    subSelf: function(v) {\r\n      this.x -= v.x;\r\n      this.y -= v.y;\r\n      return this;\r\n    },\r\n\r\n    multiplySelf: function(v) {\r\n      this.x *= v.x;\r\n      this.y *= v.y;\r\n      return this;\r\n    },\r\n\r\n    multiplyScalar: function(s) {\r\n      this.x *= s;\r\n      this.y *= s;\r\n      return this;\r\n    },\r\n\r\n    divideScalar: function(s) {\r\n      if (s) {\r\n        this.x /= s;\r\n        this.y /= s;\r\n      } else {\r\n        this.set(0, 0);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    negate: function() {\r\n      return this.multiplyScalar(-1);\r\n    },\r\n\r\n    dot: function(v) {\r\n      return this.x * v.x + this.y * v.y;\r\n    },\r\n\r\n    lengthSquared: function() {\r\n      return this.x * this.x + this.y * this.y;\r\n    },\r\n\r\n    length: function() {\r\n      return Math.sqrt(this.lengthSquared());\r\n    },\r\n\r\n    normalize: function() {\r\n      return this.divideScalar(this.length());\r\n    },\r\n\r\n    distanceTo: function(v) {\r\n      return Math.sqrt(this.distanceToSquared(v));\r\n    },\r\n\r\n    distanceToSquared: function(v) {\r\n      var dx = this.x - v.x,\r\n          dy = this.y - v.y;\r\n      return dx * dx + dy * dy;\r\n    },\r\n\r\n    setLength: function(l) {\r\n      return this.normalize().multiplyScalar(l);\r\n    },\r\n\r\n    equals: function(v, eps) {\r\n      eps = (typeof eps === 'undefined') ?  0.0001 : eps;\r\n      return (this.distanceTo(v) < eps);\r\n    },\r\n\r\n    lerp: function(v, t) {\r\n      var x = (v.x - this.x) * t + this.x;\r\n      var y = (v.y - this.y) * t + this.y;\r\n      return this.set(x, y);\r\n    },\r\n\r\n    isZero: function(eps) {\r\n      eps = (typeof eps === 'undefined') ?  0.0001 : eps;\r\n      return (this.length() < eps);\r\n    },\r\n\r\n    toString: function() {\r\n      return this.x + ', ' + this.y;\r\n    },\r\n\r\n    toObject: function() {\r\n      return { x: this.x, y: this.y };\r\n    },\r\n\r\n    rotate: function (radians) {\r\n      var cos = Math.cos(radians);\r\n      var sin = Math.sin(radians);\r\n      this.x = this.x * cos - this.y * sin;\r\n      this.y = this.x * sin + this.y * cos;\r\n      return this;\r\n    }\r\n\r\n  });\r\n\r\n  var BoundProto = {\r\n\r\n    set: function(x, y) {\r\n      this._x = x;\r\n      this._y = y;\r\n      return this.trigger(Two.Events.change);\r\n    },\r\n\r\n    copy: function(v) {\r\n      this._x = v.x;\r\n      this._y = v.y;\r\n      return this.trigger(Two.Events.change);\r\n    },\r\n\r\n    clear: function() {\r\n      this._x = 0;\r\n      this._y = 0;\r\n      return this.trigger(Two.Events.change);\r\n    },\r\n\r\n    clone: function() {\r\n      return new Vector(this._x, this._y);\r\n    },\r\n\r\n    add: function(v1, v2) {\r\n      this._x = v1.x + v2.x;\r\n      this._y = v1.y + v2.y;\r\n      return this.trigger(Two.Events.change);\r\n    },\r\n\r\n    addSelf: function(v) {\r\n      this._x += v.x;\r\n      this._y += v.y;\r\n      return this.trigger(Two.Events.change);\r\n    },\r\n\r\n    sub: function(v1, v2) {\r\n      this._x = v1.x - v2.x;\r\n      this._y = v1.y - v2.y;\r\n      return this.trigger(Two.Events.change);\r\n    },\r\n\r\n    subSelf: function(v) {\r\n      this._x -= v.x;\r\n      this._y -= v.y;\r\n      return this.trigger(Two.Events.change);\r\n    },\r\n\r\n    multiplySelf: function(v) {\r\n      this._x *= v.x;\r\n      this._y *= v.y;\r\n      return this.trigger(Two.Events.change);\r\n    },\r\n\r\n    multiplyScalar: function(s) {\r\n      this._x *= s;\r\n      this._y *= s;\r\n      return this.trigger(Two.Events.change);\r\n    },\r\n\r\n    divideScalar: function(s) {\r\n      if (s) {\r\n        this._x /= s;\r\n        this._y /= s;\r\n        return this.trigger(Two.Events.change);\r\n      }\r\n      return this.clear();\r\n    },\r\n\r\n    negate: function() {\r\n      return this.multiplyScalar(-1);\r\n    },\r\n\r\n    dot: function(v) {\r\n      return this._x * v.x + this._y * v.y;\r\n    },\r\n\r\n    lengthSquared: function() {\r\n      return this._x * this._x + this._y * this._y;\r\n    },\r\n\r\n    length: function() {\r\n      return Math.sqrt(this.lengthSquared());\r\n    },\r\n\r\n    normalize: function() {\r\n      return this.divideScalar(this.length());\r\n    },\r\n\r\n    distanceTo: function(v) {\r\n      return Math.sqrt(this.distanceToSquared(v));\r\n    },\r\n\r\n    distanceToSquared: function(v) {\r\n      var dx = this._x - v.x,\r\n          dy = this._y - v.y;\r\n      return dx * dx + dy * dy;\r\n    },\r\n\r\n    setLength: function(l) {\r\n      return this.normalize().multiplyScalar(l);\r\n    },\r\n\r\n    equals: function(v, eps) {\r\n      eps = (typeof eps === 'undefined') ?  0.0001 : eps;\r\n      return (this.distanceTo(v) < eps);\r\n    },\r\n\r\n    lerp: function(v, t) {\r\n      var x = (v.x - this._x) * t + this._x;\r\n      var y = (v.y - this._y) * t + this._y;\r\n      return this.set(x, y);\r\n    },\r\n\r\n    isZero: function(eps) {\r\n      eps = (typeof eps === 'undefined') ?  0.0001 : eps;\r\n      return (this.length() < eps);\r\n    },\r\n\r\n    toString: function() {\r\n      return this._x + ', ' + this._y;\r\n    },\r\n\r\n    toObject: function() {\r\n      return { x: this._x, y: this._y };\r\n    },\r\n\r\n    rotate: function (radians) {\r\n      var cos = Math.cos(radians);\r\n      var sin = Math.sin(radians);\r\n      this._x = this._x * cos - this._y * sin;\r\n      this._y = this._x * sin + this._y * cos;\r\n      return this;\r\n    }\r\n\r\n  };\r\n\r\n  var xgs = {\r\n    enumerable: true,\r\n    get: function() {\r\n      return this._x;\r\n    },\r\n    set: function(v) {\r\n      this._x = v;\r\n      this.trigger(Two.Events.change, 'x');\r\n    }\r\n  };\r\n\r\n  var ygs = {\r\n    enumerable: true,\r\n    get: function() {\r\n      return this._y;\r\n    },\r\n    set: function(v) {\r\n      this._y = v;\r\n      this.trigger(Two.Events.change, 'y');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Override Backbone bind / on in order to add properly broadcasting.\r\n   * This allows Two.Vector to not broadcast events unless event listeners\r\n   * are explicity bound to it.\r\n   */\r\n\r\n  Two.Vector.prototype.bind = Two.Vector.prototype.on = function() {\r\n\r\n    if (!this._bound) {\r\n      this._x = this.x;\r\n      this._y = this.y;\r\n      Object.defineProperty(this, 'x', xgs);\r\n      Object.defineProperty(this, 'y', ygs);\r\n      _.extend(this, BoundProto);\r\n      this._bound = true; // Reserved for event initialization check\r\n    }\r\n\r\n    Two.Utils.Events.bind.apply(this, arguments);\r\n\r\n    return this;\r\n\r\n  };\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  // Localized variables\r\n  var commands = Two.Commands;\r\n  var _ = Two.Utils;\r\n\r\n  /**\r\n   * An object that holds 3 `Two.Vector`s, the anchor point and its\r\n   * corresponding handles: `left` and `right`.\r\n   */\r\n  var Anchor = Two.Anchor = function(x, y, ux, uy, vx, vy, command) {\r\n\r\n    Two.Vector.call(this, x, y);\r\n\r\n    this._broadcast = _.bind(function() {\r\n      this.trigger(Two.Events.change);\r\n    }, this);\r\n\r\n    this._command = command || commands.move;\r\n    this._relative = true;\r\n\r\n    if (!command) {\r\n      return this;\r\n    }\r\n\r\n    Anchor.AppendCurveProperties(this);\r\n\r\n    if (_.isNumber(ux)) {\r\n      this.controls.left.x = ux;\r\n    }\r\n    if (_.isNumber(uy)) {\r\n      this.controls.left.y = uy;\r\n    }\r\n    if (_.isNumber(vx)) {\r\n      this.controls.right.x = vx;\r\n    }\r\n    if (_.isNumber(vy)) {\r\n      this.controls.right.y = vy;\r\n    }\r\n\r\n  };\r\n\r\n  _.extend(Anchor, {\r\n\r\n    AppendCurveProperties: function(anchor) {\r\n      anchor.controls = {\r\n        left: new Two.Vector(0, 0),\r\n        right: new Two.Vector(0, 0)\r\n      };\r\n    }\r\n\r\n  });\r\n\r\n  var AnchorProto = {\r\n\r\n    listen: function() {\r\n\r\n      if (!_.isObject(this.controls)) {\r\n        Anchor.AppendCurveProperties(this);\r\n      }\r\n\r\n      this.controls.left.bind(Two.Events.change, this._broadcast);\r\n      this.controls.right.bind(Two.Events.change, this._broadcast);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    ignore: function() {\r\n\r\n      this.controls.left.unbind(Two.Events.change, this._broadcast);\r\n      this.controls.right.unbind(Two.Events.change, this._broadcast);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    clone: function() {\r\n\r\n      var controls = this.controls;\r\n\r\n      var clone = new Two.Anchor(\r\n        this.x,\r\n        this.y,\r\n        controls && controls.left.x,\r\n        controls && controls.left.y,\r\n        controls && controls.right.x,\r\n        controls && controls.right.y,\r\n        this.command\r\n      );\r\n      clone.relative = this._relative;\r\n      return clone;\r\n\r\n    },\r\n\r\n    toObject: function() {\r\n      var o = {\r\n        x: this.x,\r\n        y: this.y\r\n      };\r\n      if (this._command) {\r\n        o.command = this._command;\r\n      }\r\n      if (this._relative) {\r\n        o.relative = this._relative;\r\n      }\r\n      if (this.controls) {\r\n        o.controls = {\r\n          left: this.controls.left.toObject(),\r\n          right: this.controls.right.toObject()\r\n        };\r\n      }\r\n      return o;\r\n    },\r\n\r\n    toString: function() {\r\n      if (!this.controls) {\r\n        return [this._x, this._y].join(', ');\r\n      }\r\n      return [this._x, this._y, this.controls.left.x, this.controls.left.y,\r\n        this.controls.right.x, this.controls.right.y].join(', ');\r\n    }\r\n\r\n  };\r\n\r\n  Object.defineProperty(Anchor.prototype, 'command', {\r\n\r\n    enumerable: true,\r\n\r\n    get: function() {\r\n      return this._command;\r\n    },\r\n\r\n    set: function(c) {\r\n      this._command = c;\r\n      if (this._command === commands.curve && !_.isObject(this.controls)) {\r\n        Anchor.AppendCurveProperties(this);\r\n      }\r\n      return this.trigger(Two.Events.change);\r\n    }\r\n\r\n  });\r\n\r\n  Object.defineProperty(Anchor.prototype, 'relative', {\r\n\r\n    enumerable: true,\r\n\r\n    get: function() {\r\n      return this._relative;\r\n    },\r\n\r\n    set: function(b) {\r\n      if (this._relative == b) {\r\n        return this;\r\n      }\r\n      this._relative = !!b;\r\n      return this.trigger(Two.Events.change);\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Anchor.prototype, Two.Vector.prototype, AnchorProto);\r\n\r\n  // Make it possible to bind and still have the Anchor specific\r\n  // inheritance from Two.Vector\r\n  Two.Anchor.prototype.bind = Two.Anchor.prototype.on = function() {\r\n    Two.Vector.prototype.bind.apply(this, arguments);\r\n    _.extend(this, AnchorProto);\r\n  };\r\n\r\n  Two.Anchor.prototype.unbind = Two.Anchor.prototype.off = function() {\r\n    Two.Vector.prototype.unbind.apply(this, arguments);\r\n    _.extend(this, AnchorProto);\r\n  };\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  /**\r\n   * Constants\r\n   */\r\n  var cos = Math.cos, sin = Math.sin, tan = Math.tan;\r\n  var _ = Two.Utils;\r\n\r\n  /**\r\n   * Two.Matrix contains an array of elements that represent\r\n   * the two dimensional 3 x 3 matrix as illustrated below:\r\n   *\r\n   * =====\r\n   * a b c\r\n   * d e f\r\n   * g h i  // this row is not really used in 2d transformations\r\n   * =====\r\n   *\r\n   * String order is for transform strings: a, d, b, e, c, f\r\n   *\r\n   * @class\r\n   */\r\n  var Matrix = Two.Matrix = function(a, b, c, d, e, f) {\r\n\r\n    this.elements = new Two.Array(9);\r\n\r\n    var elements = a;\r\n    if (!_.isArray(elements)) {\r\n      elements = _.toArray(arguments);\r\n    }\r\n\r\n    // initialize the elements with default values.\r\n\r\n    this.identity().set(elements);\r\n\r\n  };\r\n\r\n  _.extend(Matrix, {\r\n\r\n    Identity: [\r\n      1, 0, 0,\r\n      0, 1, 0,\r\n      0, 0, 1\r\n    ],\r\n\r\n    /**\r\n     * Multiply two matrix 3x3 arrays\r\n     */\r\n    Multiply: function(A, B, C) {\r\n\r\n      if (B.length <= 3) { // Multiply Vector\r\n\r\n        var x, y, z, e = A;\r\n\r\n        var a = B[0] || 0,\r\n            b = B[1] || 0,\r\n            c = B[2] || 0;\r\n\r\n        // Go down rows first\r\n        // a, d, g, b, e, h, c, f, i\r\n\r\n        x = e[0] * a + e[1] * b + e[2] * c;\r\n        y = e[3] * a + e[4] * b + e[5] * c;\r\n        z = e[6] * a + e[7] * b + e[8] * c;\r\n\r\n        return { x: x, y: y, z: z };\r\n\r\n      }\r\n\r\n      var A0 = A[0], A1 = A[1], A2 = A[2];\r\n      var A3 = A[3], A4 = A[4], A5 = A[5];\r\n      var A6 = A[6], A7 = A[7], A8 = A[8];\r\n\r\n      var B0 = B[0], B1 = B[1], B2 = B[2];\r\n      var B3 = B[3], B4 = B[4], B5 = B[5];\r\n      var B6 = B[6], B7 = B[7], B8 = B[8];\r\n\r\n      C = C || new Two.Array(9);\r\n\r\n      C[0] = A0 * B0 + A1 * B3 + A2 * B6;\r\n      C[1] = A0 * B1 + A1 * B4 + A2 * B7;\r\n      C[2] = A0 * B2 + A1 * B5 + A2 * B8;\r\n      C[3] = A3 * B0 + A4 * B3 + A5 * B6;\r\n      C[4] = A3 * B1 + A4 * B4 + A5 * B7;\r\n      C[5] = A3 * B2 + A4 * B5 + A5 * B8;\r\n      C[6] = A6 * B0 + A7 * B3 + A8 * B6;\r\n      C[7] = A6 * B1 + A7 * B4 + A8 * B7;\r\n      C[8] = A6 * B2 + A7 * B5 + A8 * B8;\r\n\r\n      return C;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Matrix.prototype, Two.Utils.Events, {\r\n\r\n    /**\r\n     * Takes an array of elements or the arguments list itself to\r\n     * set and update the current matrix's elements. Only updates\r\n     * specified values.\r\n     */\r\n    set: function(a) {\r\n\r\n      var elements = a;\r\n      if (!_.isArray(elements)) {\r\n        elements = _.toArray(arguments);\r\n      }\r\n\r\n      _.extend(this.elements, elements);\r\n\r\n      return this.trigger(Two.Events.change);\r\n\r\n    },\r\n\r\n    /**\r\n     * Turn matrix to identity, like resetting.\r\n     */\r\n    identity: function() {\r\n\r\n      this.set(Matrix.Identity);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    /**\r\n     * Multiply scalar or multiply by another matrix.\r\n     */\r\n    multiply: function(a, b, c, d, e, f, g, h, i) {\r\n\r\n      var elements = arguments, l = elements.length;\r\n\r\n      // Multiply scalar\r\n\r\n      if (l <= 1) {\r\n\r\n        _.each(this.elements, function(v, i) {\r\n          this.elements[i] = v * a;\r\n        }, this);\r\n\r\n        return this.trigger(Two.Events.change);\r\n\r\n      }\r\n\r\n      if (l <= 3) { // Multiply Vector\r\n\r\n        var x, y, z;\r\n        a = a || 0;\r\n        b = b || 0;\r\n        c = c || 0;\r\n        e = this.elements;\r\n\r\n        // Go down rows first\r\n        // a, d, g, b, e, h, c, f, i\r\n\r\n        x = e[0] * a + e[1] * b + e[2] * c;\r\n        y = e[3] * a + e[4] * b + e[5] * c;\r\n        z = e[6] * a + e[7] * b + e[8] * c;\r\n\r\n        return { x: x, y: y, z: z };\r\n\r\n      }\r\n\r\n      // Multiple matrix\r\n\r\n      var A = this.elements;\r\n      var B = elements;\r\n\r\n      var A0 = A[0], A1 = A[1], A2 = A[2];\r\n      var A3 = A[3], A4 = A[4], A5 = A[5];\r\n      var A6 = A[6], A7 = A[7], A8 = A[8];\r\n\r\n      var B0 = B[0], B1 = B[1], B2 = B[2];\r\n      var B3 = B[3], B4 = B[4], B5 = B[5];\r\n      var B6 = B[6], B7 = B[7], B8 = B[8];\r\n\r\n      this.elements[0] = A0 * B0 + A1 * B3 + A2 * B6;\r\n      this.elements[1] = A0 * B1 + A1 * B4 + A2 * B7;\r\n      this.elements[2] = A0 * B2 + A1 * B5 + A2 * B8;\r\n\r\n      this.elements[3] = A3 * B0 + A4 * B3 + A5 * B6;\r\n      this.elements[4] = A3 * B1 + A4 * B4 + A5 * B7;\r\n      this.elements[5] = A3 * B2 + A4 * B5 + A5 * B8;\r\n\r\n      this.elements[6] = A6 * B0 + A7 * B3 + A8 * B6;\r\n      this.elements[7] = A6 * B1 + A7 * B4 + A8 * B7;\r\n      this.elements[8] = A6 * B2 + A7 * B5 + A8 * B8;\r\n\r\n      return this.trigger(Two.Events.change);\r\n\r\n    },\r\n\r\n    inverse: function(out) {\r\n\r\n      var a = this.elements;\r\n      out = out || new Two.Matrix();\r\n\r\n      var a00 = a[0], a01 = a[1], a02 = a[2];\r\n      var a10 = a[3], a11 = a[4], a12 = a[5];\r\n      var a20 = a[6], a21 = a[7], a22 = a[8];\r\n\r\n      var b01 = a22 * a11 - a12 * a21;\r\n      var b11 = -a22 * a10 + a12 * a20;\r\n      var b21 = a21 * a10 - a11 * a20;\r\n\r\n      // Calculate the determinant\r\n      var det = a00 * b01 + a01 * b11 + a02 * b21;\r\n\r\n      if (!det) {\r\n        return null;\r\n      }\r\n\r\n      det = 1.0 / det;\r\n\r\n      out.elements[0] = b01 * det;\r\n      out.elements[1] = (-a22 * a01 + a02 * a21) * det;\r\n      out.elements[2] = (a12 * a01 - a02 * a11) * det;\r\n      out.elements[3] = b11 * det;\r\n      out.elements[4] = (a22 * a00 - a02 * a20) * det;\r\n      out.elements[5] = (-a12 * a00 + a02 * a10) * det;\r\n      out.elements[6] = b21 * det;\r\n      out.elements[7] = (-a21 * a00 + a01 * a20) * det;\r\n      out.elements[8] = (a11 * a00 - a01 * a10) * det;\r\n\r\n      return out;\r\n\r\n    },\r\n\r\n    /**\r\n     * Set a scalar onto the matrix.\r\n     */\r\n    scale: function(sx, sy) {\r\n\r\n      var l = arguments.length;\r\n      if (l <= 1) {\r\n        sy = sx;\r\n      }\r\n\r\n      return this.multiply(sx, 0, 0, 0, sy, 0, 0, 0, 1);\r\n\r\n    },\r\n\r\n    /**\r\n     * Rotate the matrix.\r\n     */\r\n    rotate: function(radians) {\r\n\r\n      var c = cos(radians);\r\n      var s = sin(radians);\r\n\r\n      return this.multiply(c, -s, 0, s, c, 0, 0, 0, 1);\r\n\r\n    },\r\n\r\n    /**\r\n     * Translate the matrix.\r\n     */\r\n    translate: function(x, y) {\r\n\r\n      return this.multiply(1, 0, x, 0, 1, y, 0, 0, 1);\r\n\r\n    },\r\n\r\n    /*\r\n     * Skew the matrix by an angle in the x axis direction.\r\n     */\r\n    skewX: function(radians) {\r\n\r\n      var a = tan(radians);\r\n\r\n      return this.multiply(1, a, 0, 0, 1, 0, 0, 0, 1);\r\n\r\n    },\r\n\r\n    /*\r\n     * Skew the matrix by an angle in the y axis direction.\r\n     */\r\n    skewY: function(radians) {\r\n\r\n      var a = tan(radians);\r\n\r\n      return this.multiply(1, 0, 0, a, 1, 0, 0, 0, 1);\r\n\r\n    },\r\n\r\n    /**\r\n     * Create a transform string to be used with rendering apis.\r\n     */\r\n    toString: function(fullMatrix) {\r\n      var temp = [];\r\n\r\n      this.toArray(fullMatrix, temp);\r\n\r\n      return temp.join(' ');\r\n\r\n    },\r\n\r\n    /**\r\n     * Create a transform array to be used with rendering apis.\r\n     */\r\n    toArray: function(fullMatrix, output) {\r\n\r\n     var elements = this.elements;\r\n     var hasOutput = !!output;\r\n\r\n     var a = parseFloat(elements[0].toFixed(3));\r\n     var b = parseFloat(elements[1].toFixed(3));\r\n     var c = parseFloat(elements[2].toFixed(3));\r\n     var d = parseFloat(elements[3].toFixed(3));\r\n     var e = parseFloat(elements[4].toFixed(3));\r\n     var f = parseFloat(elements[5].toFixed(3));\r\n\r\n      if (!!fullMatrix) {\r\n\r\n        var g = parseFloat(elements[6].toFixed(3));\r\n        var h = parseFloat(elements[7].toFixed(3));\r\n        var i = parseFloat(elements[8].toFixed(3));\r\n\r\n        if (hasOutput) {\r\n          output[0] = a;\r\n          output[1] = d;\r\n          output[2] = g;\r\n          output[3] = b;\r\n          output[4] = e;\r\n          output[5] = h;\r\n          output[6] = c;\r\n          output[7] = f;\r\n          output[8] = i;\r\n          return;\r\n        }\r\n\r\n        return [\r\n          a, d, g, b, e, h, c, f, i\r\n        ];\r\n      }\r\n\r\n      if (hasOutput) {\r\n        output[0] = a;\r\n        output[1] = d;\r\n        output[2] = b;\r\n        output[3] = e;\r\n        output[4] = c;\r\n        output[5] = f;\r\n        return;\r\n      }\r\n\r\n      return [\r\n        a, d, b, e, c, f  // Specific format see LN:19\r\n      ];\r\n\r\n    },\r\n\r\n    /**\r\n     * Clone the current matrix.\r\n     */\r\n    clone: function() {\r\n      var a, b, c, d, e, f, g, h, i;\r\n\r\n      a = this.elements[0];\r\n      b = this.elements[1];\r\n      c = this.elements[2];\r\n      d = this.elements[3];\r\n      e = this.elements[4];\r\n      f = this.elements[5];\r\n      g = this.elements[6];\r\n      h = this.elements[7];\r\n      i = this.elements[8];\r\n\r\n      return new Two.Matrix(a, b, c, d, e, f, g, h, i);\r\n\r\n    }\r\n\r\n  });\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  // Localize variables\r\n  var mod = Two.Utils.mod, toFixed = Two.Utils.toFixed;\r\n  var _ = Two.Utils;\r\n\r\n  var svg = {\r\n\r\n    version: 1.1,\r\n\r\n    ns: 'http://www.w3.org/2000/svg',\r\n    xlink: 'http://www.w3.org/1999/xlink',\r\n\r\n    alignments: {\r\n      left: 'start',\r\n      center: 'middle',\r\n      right: 'end'\r\n    },\r\n\r\n    /**\r\n     * Create an svg namespaced element.\r\n     */\r\n    createElement: function(name, attrs) {\r\n      var tag = name;\r\n      var elem = document.createElementNS(this.ns, tag);\r\n      if (tag === 'svg') {\r\n        attrs = _.defaults(attrs || {}, {\r\n          version: this.version\r\n        });\r\n      }\r\n      if (!_.isEmpty(attrs)) {\r\n        svg.setAttributes(elem, attrs);\r\n      }\r\n      return elem;\r\n    },\r\n\r\n    /**\r\n     * Add attributes from an svg element.\r\n     */\r\n    setAttributes: function(elem, attrs) {\r\n      var keys = Object.keys(attrs);\r\n      for (var i = 0; i < keys.length; i++) {\r\n        elem.setAttribute(keys[i], attrs[keys[i]]);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Remove attributes from an svg element.\r\n     */\r\n    removeAttributes: function(elem, attrs) {\r\n      for (var key in attrs) {\r\n        elem.removeAttribute(key);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Turn a set of vertices into a string for the d property of a path\r\n     * element. It is imperative that the string collation is as fast as\r\n     * possible, because this call will be happening multiple times a\r\n     * second.\r\n     */\r\n    toString: function(points, closed) {\r\n\r\n      var l = points.length,\r\n        last = l - 1,\r\n        d, // The elusive last Two.Commands.move point\r\n        ret = '';\r\n\r\n      for (var i = 0; i < l; i++) {\r\n        var b = points[i];\r\n        var command;\r\n        var prev = closed ? mod(i - 1, l) : Math.max(i - 1, 0);\r\n        var next = closed ? mod(i + 1, l) : Math.min(i + 1, last);\r\n\r\n        var a = points[prev];\r\n        var c = points[next];\r\n\r\n        var vx, vy, ux, uy, ar, bl, br, cl;\r\n\r\n        // Access x and y directly,\r\n        // bypassing the getter\r\n        var x = toFixed(b._x);\r\n        var y = toFixed(b._y);\r\n\r\n        switch (b._command) {\r\n\r\n          case Two.Commands.close:\r\n            command = Two.Commands.close;\r\n            break;\r\n\r\n          case Two.Commands.curve:\r\n\r\n            ar = (a.controls && a.controls.right) || Two.Vector.zero;\r\n            bl = (b.controls && b.controls.left) || Two.Vector.zero;\r\n\r\n            if (a._relative) {\r\n              vx = toFixed((ar.x + a.x));\r\n              vy = toFixed((ar.y + a.y));\r\n            } else {\r\n              vx = toFixed(ar.x);\r\n              vy = toFixed(ar.y);\r\n            }\r\n\r\n            if (b._relative) {\r\n              ux = toFixed((bl.x + b.x));\r\n              uy = toFixed((bl.y + b.y));\r\n            } else {\r\n              ux = toFixed(bl.x);\r\n              uy = toFixed(bl.y);\r\n            }\r\n\r\n            command = ((i === 0) ? Two.Commands.move : Two.Commands.curve) +\r\n              ' ' + vx + ' ' + vy + ' ' + ux + ' ' + uy + ' ' + x + ' ' + y;\r\n            break;\r\n\r\n          case Two.Commands.move:\r\n            d = b;\r\n            command = Two.Commands.move + ' ' + x + ' ' + y;\r\n            break;\r\n\r\n          default:\r\n            command = b._command + ' ' + x + ' ' + y;\r\n\r\n        }\r\n\r\n        // Add a final point and close it off\r\n\r\n        if (i >= last && closed) {\r\n\r\n          if (b._command === Two.Commands.curve) {\r\n\r\n            // Make sure we close to the most previous Two.Commands.move\r\n            c = d;\r\n\r\n            br = (b.controls && b.controls.right) || b;\r\n            cl = (c.controls && c.controls.left) || c;\r\n\r\n            if (b._relative) {\r\n              vx = toFixed((br.x + b.x));\r\n              vy = toFixed((br.y + b.y));\r\n            } else {\r\n              vx = toFixed(br.x);\r\n              vy = toFixed(br.y);\r\n            }\r\n\r\n            if (c._relative) {\r\n              ux = toFixed((cl.x + c.x));\r\n              uy = toFixed((cl.y + c.y));\r\n            } else {\r\n              ux = toFixed(cl.x);\r\n              uy = toFixed(cl.y);\r\n            }\r\n\r\n            x = toFixed(c.x);\r\n            y = toFixed(c.y);\r\n\r\n            command +=\r\n              ' C ' + vx + ' ' + vy + ' ' + ux + ' ' + uy + ' ' + x + ' ' + y;\r\n          }\r\n\r\n          command += ' Z';\r\n\r\n        }\r\n\r\n        ret += command + ' ';\r\n\r\n      }\r\n\r\n      return ret;\r\n\r\n    },\r\n\r\n    getClip: function(shape) {\r\n\r\n      var clip = shape._renderer.clip;\r\n\r\n      if (!clip) {\r\n\r\n        var root = shape;\r\n\r\n        while (root.parent) {\r\n          root = root.parent;\r\n        }\r\n\r\n        clip = shape._renderer.clip = svg.createElement('clipPath');\r\n        root.defs.appendChild(clip);\r\n\r\n      }\r\n\r\n      return clip;\r\n\r\n    },\r\n\r\n    group: {\r\n\r\n      // TODO: Can speed up.\r\n      // TODO: How does this effect a f\r\n      appendChild: function(object) {\r\n\r\n        var elem = object._renderer.elem;\r\n\r\n        if (!elem) {\r\n          return;\r\n        }\r\n\r\n        var tag = elem.nodeName;\r\n\r\n        if (!tag || /(radial|linear)gradient/i.test(tag) || object._clip) {\r\n          return;\r\n        }\r\n\r\n        this.elem.appendChild(elem);\r\n\r\n      },\r\n\r\n      removeChild: function(object) {\r\n\r\n        var elem = object._renderer.elem;\r\n\r\n        if (!elem || elem.parentNode != this.elem) {\r\n          return;\r\n        }\r\n\r\n        var tag = elem.nodeName;\r\n\r\n        if (!tag) {\r\n          return;\r\n        }\r\n\r\n        // Defer subtractions while clipping.\r\n        if (object._clip) {\r\n          return;\r\n        }\r\n\r\n        this.elem.removeChild(elem);\r\n\r\n      },\r\n\r\n      orderChild: function(object) {\r\n        this.elem.appendChild(object._renderer.elem);\r\n      },\r\n\r\n      renderChild: function(child) {\r\n        svg[child._renderer.type].render.call(child, this);\r\n      },\r\n\r\n      render: function(domElement) {\r\n\r\n        this._update();\r\n\r\n        // Shortcut for hidden objects.\r\n        // Doesn't reset the flags, so changes are stored and\r\n        // applied once the object is visible again\r\n        if (this._opacity === 0 && !this._flagOpacity) {\r\n          return this;\r\n        }\r\n\r\n        if (!this._renderer.elem) {\r\n          this._renderer.elem = svg.createElement('g', {\r\n            id: this.id\r\n          });\r\n          domElement.appendChild(this._renderer.elem);\r\n        }\r\n\r\n        // _Update styles for the <g>\r\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\r\n        var context = {\r\n          domElement: domElement,\r\n          elem: this._renderer.elem\r\n        };\r\n\r\n        if (flagMatrix) {\r\n          this._renderer.elem.setAttribute('transform', 'matrix(' + this._matrix.toString() + ')');\r\n        }\r\n\r\n        for (var i = 0; i < this.children.length; i++) {\r\n          var child = this.children[i];\r\n          svg[child._renderer.type].render.call(child, domElement);\r\n        }\r\n\r\n        if (this._flagOpacity) {\r\n          this._renderer.elem.setAttribute('opacity', this._opacity);\r\n        }\r\n\r\n        if (this._flagAdditions) {\r\n          this.additions.forEach(svg.group.appendChild, context);\r\n        }\r\n\r\n        if (this._flagSubtractions) {\r\n          this.subtractions.forEach(svg.group.removeChild, context);\r\n        }\r\n\r\n        if (this._flagOrder) {\r\n          this.children.forEach(svg.group.orderChild, context);\r\n        }\r\n\r\n        /**\r\n         * Commented two-way functionality of clips / masks with groups and\r\n         * polygons. Uncomment when this bug is fixed:\r\n         * https://code.google.com/p/chromium/issues/detail?id=370951\r\n         */\r\n\r\n        // if (this._flagClip) {\r\n\r\n        //   clip = svg.getClip(this);\r\n        //   elem = this._renderer.elem;\r\n\r\n        //   if (this._clip) {\r\n        //     elem.removeAttribute('id');\r\n        //     clip.setAttribute('id', this.id);\r\n        //     clip.appendChild(elem);\r\n        //   } else {\r\n        //     clip.removeAttribute('id');\r\n        //     elem.setAttribute('id', this.id);\r\n        //     this.parent._renderer.elem.appendChild(elem); // TODO: should be insertBefore\r\n        //   }\r\n\r\n        // }\r\n\r\n        if (this._flagMask) {\r\n          if (this._mask) {\r\n            this._renderer.elem.setAttribute('clip-path', 'url(#' + this._mask.id + ')');\r\n          } else {\r\n            this._renderer.elem.removeAttribute('clip-path');\r\n          }\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    path: {\r\n\r\n      render: function(domElement) {\r\n\r\n        this._update();\r\n\r\n        // Shortcut for hidden objects.\r\n        // Doesn't reset the flags, so changes are stored and\r\n        // applied once the object is visible again\r\n        if (this._opacity === 0 && !this._flagOpacity) {\r\n          return this;\r\n        }\r\n\r\n        // Collect any attribute that needs to be changed here\r\n        var changed = {};\r\n\r\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\r\n\r\n        if (flagMatrix) {\r\n          changed.transform = 'matrix(' + this._matrix.toString() + ')';\r\n        }\r\n\r\n        if (this._flagVertices) {\r\n          var vertices = svg.toString(this._vertices, this._closed);\r\n          changed.d = vertices;\r\n        }\r\n\r\n        if (this._fill && this._fill._renderer) {\r\n          this._fill._update();\r\n          svg[this._fill._renderer.type].render.call(this._fill, domElement, true);\r\n        }\r\n\r\n        if (this._flagFill) {\r\n          changed.fill = this._fill && this._fill.id\r\n            ? 'url(#' + this._fill.id + ')' : this._fill;\r\n        }\r\n\r\n        if (this._stroke && this._stroke._renderer) {\r\n          this._stroke._update();\r\n          svg[this._stroke._renderer.type].render.call(this._stroke, domElement, true);\r\n        }\r\n\r\n        if (this._flagStroke) {\r\n          changed.stroke = this._stroke && this._stroke.id\r\n            ? 'url(#' + this._stroke.id + ')' : this._stroke;\r\n        }\r\n\r\n        if (this._flagLinewidth) {\r\n          changed['stroke-width'] = this._linewidth;\r\n        }\r\n\r\n        if (this._flagOpacity) {\r\n          changed['stroke-opacity'] = this._opacity;\r\n          changed['fill-opacity'] = this._opacity;\r\n        }\r\n\r\n        if (this._flagVisible) {\r\n          changed.visibility = this._visible ? 'visible' : 'hidden';\r\n        }\r\n\r\n        if (this._flagCap) {\r\n          changed['stroke-linecap'] = this._cap;\r\n        }\r\n\r\n        if (this._flagJoin) {\r\n          changed['stroke-linejoin'] = this._join;\r\n        }\r\n\r\n        if (this._flagMiter) {\r\n          changed['stroke-miterlimit'] = this._miter;\r\n        }\r\n\r\n        // If there is no attached DOM element yet,\r\n        // create it with all necessary attributes.\r\n        if (!this._renderer.elem) {\r\n\r\n          changed.id = this.id;\r\n          this._renderer.elem = svg.createElement('path', changed);\r\n          domElement.appendChild(this._renderer.elem);\r\n\r\n        // Otherwise apply all pending attributes\r\n        } else {\r\n          svg.setAttributes(this._renderer.elem, changed);\r\n        }\r\n\r\n        if (this._flagClip) {\r\n\r\n          var clip = svg.getClip(this);\r\n          var elem = this._renderer.elem;\r\n\r\n          if (this._clip) {\r\n            elem.removeAttribute('id');\r\n            clip.setAttribute('id', this.id);\r\n            clip.appendChild(elem);\r\n          } else {\r\n            clip.removeAttribute('id');\r\n            elem.setAttribute('id', this.id);\r\n            this.parent._renderer.elem.appendChild(elem); // TODO: should be insertBefore\r\n          }\r\n\r\n        }\r\n\r\n        /**\r\n         * Commented two-way functionality of clips / masks with groups and\r\n         * polygons. Uncomment when this bug is fixed:\r\n         * https://code.google.com/p/chromium/issues/detail?id=370951\r\n         */\r\n\r\n        // if (this._flagMask) {\r\n        //   if (this._mask) {\r\n        //     elem.setAttribute('clip-path', 'url(#' + this._mask.id + ')');\r\n        //   } else {\r\n        //     elem.removeAttribute('clip-path');\r\n        //   }\r\n        // }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    text: {\r\n\r\n      render: function(domElement) {\r\n\r\n        this._update();\r\n\r\n        var changed = {};\r\n\r\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\r\n\r\n        if (flagMatrix) {\r\n          changed.transform = 'matrix(' + this._matrix.toString() + ')';\r\n        }\r\n\r\n        if (this._flagFamily) {\r\n          changed['font-family'] = this._family;\r\n        }\r\n        if (this._flagSize) {\r\n          changed['font-size'] = this._size;\r\n        }\r\n        if (this._flagLeading) {\r\n          changed['line-height'] = this._leading;\r\n        }\r\n        if (this._flagAlignment) {\r\n          changed['text-anchor'] = svg.alignments[this._alignment] || this._alignment;\r\n        }\r\n        if (this._flagBaseline) {\r\n          changed['alignment-baseline'] = changed['dominant-baseline'] = this._baseline;\r\n        }\r\n        if (this._flagStyle) {\r\n          changed['font-style'] = this._style;\r\n        }\r\n        if (this._flagWeight) {\r\n          changed['font-weight'] = this._weight;\r\n        }\r\n        if (this._flagDecoration) {\r\n          changed['text-decoration'] = this._decoration;\r\n        }\r\n        if (this._fill && this._fill._renderer) {\r\n          this._fill._update();\r\n          svg[this._fill._renderer.type].render.call(this._fill, domElement, true);\r\n        }\r\n        if (this._flagFill) {\r\n          changed.fill = this._fill && this._fill.id\r\n            ? 'url(#' + this._fill.id + ')' : this._fill;\r\n        }\r\n        if (this._stroke && this._stroke._renderer) {\r\n          this._stroke._update();\r\n          svg[this._stroke._renderer.type].render.call(this._stroke, domElement, true);\r\n        }\r\n        if (this._flagStroke) {\r\n          changed.stroke = this._stroke && this._stroke.id\r\n            ? 'url(#' + this._stroke.id + ')' : this._stroke;\r\n        }\r\n        if (this._flagLinewidth) {\r\n          changed['stroke-width'] = this._linewidth;\r\n        }\r\n        if (this._flagOpacity) {\r\n          changed.opacity = this._opacity;\r\n        }\r\n        if (this._flagVisible) {\r\n          changed.visibility = this._visible ? 'visible' : 'hidden';\r\n        }\r\n\r\n        if (!this._renderer.elem) {\r\n\r\n          changed.id = this.id;\r\n\r\n          this._renderer.elem = svg.createElement('text', changed);\r\n          domElement.defs.appendChild(this._renderer.elem);\r\n\r\n        } else {\r\n\r\n          svg.setAttributes(this._renderer.elem, changed);\r\n\r\n        }\r\n\r\n        if (this._flagClip) {\r\n\r\n          var clip = svg.getClip(this);\r\n          var elem = this._renderer.elem;\r\n\r\n          if (this._clip) {\r\n            elem.removeAttribute('id');\r\n            clip.setAttribute('id', this.id);\r\n            clip.appendChild(elem);\r\n          } else {\r\n            clip.removeAttribute('id');\r\n            elem.setAttribute('id', this.id);\r\n            this.parent._renderer.elem.appendChild(elem); // TODO: should be insertBefore\r\n          }\r\n\r\n        }\r\n\r\n        if (this._flagValue) {\r\n          this._renderer.elem.textContent = this._value;\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    'linear-gradient': {\r\n\r\n      render: function(domElement, silent) {\r\n\r\n        if (!silent) {\r\n          this._update();\r\n        }\r\n\r\n        var changed = {};\r\n\r\n        if (this._flagEndPoints) {\r\n          changed.x1 = this.left._x;\r\n          changed.y1 = this.left._y;\r\n          changed.x2 = this.right._x;\r\n          changed.y2 = this.right._y;\r\n        }\r\n\r\n        if (this._flagSpread) {\r\n          changed.spreadMethod = this._spread;\r\n        }\r\n\r\n        // If there is no attached DOM element yet,\r\n        // create it with all necessary attributes.\r\n        if (!this._renderer.elem) {\r\n\r\n          changed.id = this.id;\r\n          changed.gradientUnits = 'userSpaceOnUse';\r\n          this._renderer.elem = svg.createElement('linearGradient', changed);\r\n          domElement.defs.appendChild(this._renderer.elem);\r\n\r\n        // Otherwise apply all pending attributes\r\n        } else {\r\n\r\n          svg.setAttributes(this._renderer.elem, changed);\r\n\r\n        }\r\n\r\n        if (this._flagStops) {\r\n\r\n          var lengthChanged = this._renderer.elem.childNodes.length\r\n            !== this.stops.length;\r\n\r\n          if (lengthChanged) {\r\n            this._renderer.elem.childNodes.length = 0;\r\n          }\r\n\r\n          for (var i = 0; i < this.stops.length; i++) {\r\n\r\n            var stop = this.stops[i];\r\n            var attrs = {};\r\n\r\n            if (stop._flagOffset) {\r\n              attrs.offset = 100 * stop._offset + '%';\r\n            }\r\n            if (stop._flagColor) {\r\n              attrs['stop-color'] = stop._color;\r\n            }\r\n            if (stop._flagOpacity) {\r\n              attrs['stop-opacity'] = stop._opacity;\r\n            }\r\n\r\n            if (!stop._renderer.elem) {\r\n              stop._renderer.elem = svg.createElement('stop', attrs);\r\n            } else {\r\n              svg.setAttributes(stop._renderer.elem, attrs);\r\n            }\r\n\r\n            if (lengthChanged) {\r\n              this._renderer.elem.appendChild(stop._renderer.elem);\r\n            }\r\n            stop.flagReset();\r\n\r\n          }\r\n\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    'radial-gradient': {\r\n\r\n      render: function(domElement, silent) {\r\n\r\n        if (!silent) {\r\n          this._update();\r\n        }\r\n\r\n        var changed = {};\r\n\r\n        if (this._flagCenter) {\r\n          changed.cx = this.center._x;\r\n          changed.cy = this.center._y;\r\n        }\r\n        if (this._flagFocal) {\r\n          changed.fx = this.focal._x;\r\n          changed.fy = this.focal._y;\r\n        }\r\n\r\n        if (this._flagRadius) {\r\n          changed.r = this._radius;\r\n        }\r\n\r\n        if (this._flagSpread) {\r\n          changed.spreadMethod = this._spread;\r\n        }\r\n\r\n        // If there is no attached DOM element yet,\r\n        // create it with all necessary attributes.\r\n        if (!this._renderer.elem) {\r\n\r\n          changed.id = this.id;\r\n          changed.gradientUnits = 'userSpaceOnUse';\r\n          this._renderer.elem = svg.createElement('radialGradient', changed);\r\n          domElement.defs.appendChild(this._renderer.elem);\r\n\r\n        // Otherwise apply all pending attributes\r\n        } else {\r\n\r\n          svg.setAttributes(this._renderer.elem, changed);\r\n\r\n        }\r\n\r\n        if (this._flagStops) {\r\n\r\n          var lengthChanged = this._renderer.elem.childNodes.length\r\n            !== this.stops.length;\r\n\r\n          if (lengthChanged) {\r\n            this._renderer.elem.childNodes.length = 0;\r\n          }\r\n\r\n          for (var i = 0; i < this.stops.length; i++) {\r\n\r\n            var stop = this.stops[i];\r\n            var attrs = {};\r\n\r\n            if (stop._flagOffset) {\r\n              attrs.offset = 100 * stop._offset + '%';\r\n            }\r\n            if (stop._flagColor) {\r\n              attrs['stop-color'] = stop._color;\r\n            }\r\n            if (stop._flagOpacity) {\r\n              attrs['stop-opacity'] = stop._opacity;\r\n            }\r\n\r\n            if (!stop._renderer.elem) {\r\n              stop._renderer.elem = svg.createElement('stop', attrs);\r\n            } else {\r\n              svg.setAttributes(stop._renderer.elem, attrs);\r\n            }\r\n\r\n            if (lengthChanged) {\r\n              this._renderer.elem.appendChild(stop._renderer.elem);\r\n            }\r\n            stop.flagReset();\r\n\r\n          }\r\n\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    texture: {\r\n\r\n      render: function(domElement, silent) {\r\n\r\n        if (!silent) {\r\n          this._update();\r\n        }\r\n\r\n        var changed = {};\r\n        var styles = {};\r\n        var image = this.image;\r\n\r\n        if (this._flagLoaded && this.loaded) {\r\n\r\n          switch (image.nodeName.toLowerCase()) {\r\n\r\n            case 'canvas':\r\n              styles.href = image.toDataURL('image/png');\r\n              break;\r\n            case 'img':\r\n            case 'image':\r\n              styles.href = this.src;\r\n              break;\r\n\r\n          }\r\n\r\n        }\r\n\r\n        if (this._flagOffset || this._flagLoaded || this._flagScale) {\r\n\r\n          changed.x = this._offset.x;\r\n          changed.y = this._offset.y;\r\n\r\n          if (image) {\r\n\r\n            changed.x -= image.width / 2;\r\n            changed.y -= image.height / 2;\r\n\r\n            if (this._scale instanceof Two.Vector) {\r\n              changed.x *= this._scale.x;\r\n              changed.y *= this._scale.y;\r\n            } else {\r\n              changed.x *= this._scale;\r\n              changed.y *= this._scale;\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n        if (this._flagScale || this._flagLoaded || this._flagRepeat) {\r\n\r\n          changed.width = 0;\r\n          changed.height = 0;\r\n\r\n          if (image) {\r\n\r\n            styles.width = changed.width = image.width;\r\n            styles.height = changed.height = image.height;\r\n\r\n            // TODO: Hack / Bandaid\r\n            switch (this._repeat) {\r\n              case 'no-repeat':\r\n                changed.width += 1;\r\n                changed.height += 1;\r\n                break;\r\n            }\r\n\r\n            if (this._scale instanceof Two.Vector) {\r\n              changed.width *= this._scale.x;\r\n              changed.height *= this._scale.y;\r\n            } else {\r\n              changed.width *= this._scale;\r\n              changed.height *= this._scale;\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n        if (this._flagScale || this._flagLoaded) {\r\n          if (!this._renderer.image) {\r\n            this._renderer.image = svg.createElement('image', styles);\r\n          } else if (!_.isEmpty(styles)) {\r\n            svg.setAttributes(this._renderer.image, styles);\r\n          }\r\n        }\r\n\r\n        if (!this._renderer.elem) {\r\n\r\n          changed.id = this.id;\r\n          changed.patternUnits = 'userSpaceOnUse';\r\n          this._renderer.elem = svg.createElement('pattern', changed);\r\n          domElement.defs.appendChild(this._renderer.elem);\r\n\r\n        } else if (!_.isEmpty(changed)) {\r\n\r\n          svg.setAttributes(this._renderer.elem, changed);\r\n\r\n        }\r\n\r\n        if (this._renderer.elem && this._renderer.image && !this._renderer.appended) {\r\n          this._renderer.elem.appendChild(this._renderer.image);\r\n          this._renderer.appended = true;\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * @class\r\n   */\r\n  var Renderer = Two[Two.Types.svg] = function(params) {\r\n\r\n    this.domElement = params.domElement || svg.createElement('svg');\r\n\r\n    this.scene = new Two.Group();\r\n    this.scene.parent = this;\r\n\r\n    this.defs = svg.createElement('defs');\r\n    this.domElement.appendChild(this.defs);\r\n    this.domElement.defs = this.defs;\r\n    this.domElement.style.overflow = 'hidden';\r\n\r\n  };\r\n\r\n  _.extend(Renderer, {\r\n\r\n    Utils: svg\r\n\r\n  });\r\n\r\n  _.extend(Renderer.prototype, Two.Utils.Events, {\r\n\r\n    setSize: function(width, height) {\r\n\r\n      this.width = width;\r\n      this.height = height;\r\n\r\n      svg.setAttributes(this.domElement, {\r\n        width: width,\r\n        height: height\r\n      });\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    render: function() {\r\n\r\n      svg.group.render.call(this.scene, this.domElement);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  /**\r\n   * Constants\r\n   */\r\n  var mod = Two.Utils.mod, toFixed = Two.Utils.toFixed;\r\n  var getRatio = Two.Utils.getRatio;\r\n  var _ = Two.Utils;\r\n\r\n  // Returns true if this is a non-transforming matrix\r\n  var isDefaultMatrix = function (m) {\r\n    return (m[0] == 1 && m[3] == 0 && m[1] == 0 && m[4] == 1 && m[2] == 0 && m[5] == 0);\r\n  };\r\n\r\n  var canvas = {\r\n\r\n    isHidden: /(none|transparent)/i,\r\n\r\n    alignments: {\r\n      left: 'start',\r\n      middle: 'center',\r\n      right: 'end'\r\n    },\r\n\r\n    shim: function(elem) {\r\n      elem.tagName = 'canvas';\r\n      elem.nodeType = 1;\r\n      return elem;\r\n    },\r\n\r\n    group: {\r\n\r\n      renderChild: function(child) {\r\n        canvas[child._renderer.type].render.call(child, this.ctx, true, this.clip);\r\n      },\r\n\r\n      render: function(ctx) {\r\n\r\n        // TODO: Add a check here to only invoke _update if need be.\r\n        this._update();\r\n\r\n        var matrix = this._matrix.elements;\r\n        var parent = this.parent;\r\n        this._renderer.opacity = this._opacity * (parent && parent._renderer ? parent._renderer.opacity : 1);\r\n\r\n        var defaultMatrix = isDefaultMatrix(matrix);\r\n\r\n        var mask = this._mask;\r\n        // var clip = this._clip;\r\n\r\n        if (!this._renderer.context) {\r\n          this._renderer.context = {};\r\n        }\r\n\r\n        this._renderer.context.ctx = ctx;\r\n        // this._renderer.context.clip = clip;\r\n\r\n        if (!defaultMatrix) {\r\n          ctx.save();\r\n          ctx.transform(matrix[0], matrix[3], matrix[1], matrix[4], matrix[2], matrix[5]);\r\n        }\r\n\r\n        if (mask) {\r\n          canvas[mask._renderer.type].render.call(mask, ctx, true);\r\n        }\r\n\r\n        for (var i = 0; i < this.children.length; i++) {\r\n          var child = this.children[i];\r\n          canvas[child._renderer.type].render.call(child, ctx);\r\n        }\r\n\r\n        if (!defaultMatrix) {\r\n          ctx.restore();\r\n        }\r\n\r\n       /**\r\n         * Commented two-way functionality of clips / masks with groups and\r\n         * polygons. Uncomment when this bug is fixed:\r\n         * https://code.google.com/p/chromium/issues/detail?id=370951\r\n         */\r\n\r\n        // if (clip) {\r\n        //   ctx.clip();\r\n        // }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    path: {\r\n\r\n      render: function(ctx, forced, parentClipped) {\r\n\r\n        var matrix, stroke, linewidth, fill, opacity, visible, cap, join, miter,\r\n            closed, commands, length, last, next, prev, a, b, c, d, ux, uy, vx, vy,\r\n            ar, bl, br, cl, x, y, mask, clip, defaultMatrix, isOffset;\r\n\r\n        // TODO: Add a check here to only invoke _update if need be.\r\n        this._update();\r\n\r\n        matrix = this._matrix.elements;\r\n        stroke = this._stroke;\r\n        linewidth = this._linewidth;\r\n        fill = this._fill;\r\n        opacity = this._opacity * this.parent._renderer.opacity;\r\n        visible = this._visible;\r\n        cap = this._cap;\r\n        join = this._join;\r\n        miter = this._miter;\r\n        closed = this._closed;\r\n        commands = this._vertices; // Commands\r\n        length = commands.length;\r\n        last = length - 1;\r\n        defaultMatrix = isDefaultMatrix(matrix);\r\n\r\n        // mask = this._mask;\r\n        clip = this._clip;\r\n\r\n        if (!forced && (!visible || clip)) {\r\n          return this;\r\n        }\r\n\r\n        // Transform\r\n        if (!defaultMatrix) {\r\n          ctx.save();\r\n          ctx.transform(matrix[0], matrix[3], matrix[1], matrix[4], matrix[2], matrix[5]);\r\n        }\r\n\r\n       /**\r\n         * Commented two-way functionality of clips / masks with groups and\r\n         * polygons. Uncomment when this bug is fixed:\r\n         * https://code.google.com/p/chromium/issues/detail?id=370951\r\n         */\r\n\r\n        // if (mask) {\r\n        //   canvas[mask._renderer.type].render.call(mask, ctx, true);\r\n        // }\r\n\r\n        // Styles\r\n        if (fill) {\r\n          if (_.isString(fill)) {\r\n            ctx.fillStyle = fill;\r\n          } else {\r\n            canvas[fill._renderer.type].render.call(fill, ctx);\r\n            ctx.fillStyle = fill._renderer.effect;\r\n          }\r\n        }\r\n        if (stroke) {\r\n          if (_.isString(stroke)) {\r\n            ctx.strokeStyle = stroke;\r\n          } else {\r\n            canvas[stroke._renderer.type].render.call(stroke, ctx);\r\n            ctx.strokeStyle = stroke._renderer.effect;\r\n          }\r\n        }\r\n        if (linewidth) {\r\n          ctx.lineWidth = linewidth;\r\n        }\r\n        if (miter) {\r\n          ctx.miterLimit = miter;\r\n        }\r\n        if (join) {\r\n          ctx.lineJoin = join;\r\n        }\r\n        if (cap) {\r\n          ctx.lineCap = cap;\r\n        }\r\n        if (_.isNumber(opacity)) {\r\n          ctx.globalAlpha = opacity;\r\n        }\r\n\r\n        ctx.beginPath();\r\n\r\n        for (var i = 0; i < commands.length; i++) {\r\n\r\n          b = commands[i];\r\n\r\n          x = toFixed(b._x);\r\n          y = toFixed(b._y);\r\n\r\n          switch (b._command) {\r\n\r\n            case Two.Commands.close:\r\n              ctx.closePath();\r\n              break;\r\n\r\n            case Two.Commands.curve:\r\n\r\n              prev = closed ? mod(i - 1, length) : Math.max(i - 1, 0);\r\n              next = closed ? mod(i + 1, length) : Math.min(i + 1, last);\r\n\r\n              a = commands[prev];\r\n              c = commands[next];\r\n              ar = (a.controls && a.controls.right) || Two.Vector.zero;\r\n              bl = (b.controls && b.controls.left) || Two.Vector.zero;\r\n\r\n              if (a._relative) {\r\n                vx = (ar.x + toFixed(a._x));\r\n                vy = (ar.y + toFixed(a._y));\r\n              } else {\r\n                vx = toFixed(ar.x);\r\n                vy = toFixed(ar.y);\r\n              }\r\n\r\n              if (b._relative) {\r\n                ux = (bl.x + toFixed(b._x));\r\n                uy = (bl.y + toFixed(b._y));\r\n              } else {\r\n                ux = toFixed(bl.x);\r\n                uy = toFixed(bl.y);\r\n              }\r\n\r\n              ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\r\n\r\n              if (i >= last && closed) {\r\n\r\n                c = d;\r\n\r\n                br = (b.controls && b.controls.right) || Two.Vector.zero;\r\n                cl = (c.controls && c.controls.left) || Two.Vector.zero;\r\n\r\n                if (b._relative) {\r\n                  vx = (br.x + toFixed(b._x));\r\n                  vy = (br.y + toFixed(b._y));\r\n                } else {\r\n                  vx = toFixed(br.x);\r\n                  vy = toFixed(br.y);\r\n                }\r\n\r\n                if (c._relative) {\r\n                  ux = (cl.x + toFixed(c._x));\r\n                  uy = (cl.y + toFixed(c._y));\r\n                } else {\r\n                  ux = toFixed(cl.x);\r\n                  uy = toFixed(cl.y);\r\n                }\r\n\r\n                x = toFixed(c._x);\r\n                y = toFixed(c._y);\r\n\r\n                ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\r\n\r\n              }\r\n\r\n              break;\r\n\r\n            case Two.Commands.line:\r\n              ctx.lineTo(x, y);\r\n              break;\r\n\r\n            case Two.Commands.move:\r\n              d = b;\r\n              ctx.moveTo(x, y);\r\n              break;\r\n\r\n          }\r\n        }\r\n\r\n        // Loose ends\r\n\r\n        if (closed) {\r\n          ctx.closePath();\r\n        }\r\n\r\n        if (!clip && !parentClipped) {\r\n          if (!canvas.isHidden.test(fill)) {\r\n            isOffset = fill._renderer && fill._renderer.offset\r\n            if (isOffset) {\r\n              ctx.save();\r\n              ctx.translate(\r\n                - fill._renderer.offset.x, - fill._renderer.offset.y);\r\n              ctx.scale(fill._renderer.scale.x, fill._renderer.scale.y);\r\n            }\r\n            ctx.fill();\r\n            if (isOffset) {\r\n              ctx.restore();\r\n            }\r\n          }\r\n          if (!canvas.isHidden.test(stroke)) {\r\n            isOffset = stroke._renderer && stroke._renderer.offset;\r\n            if (isOffset) {\r\n              ctx.save();\r\n              ctx.translate(\r\n                - stroke._renderer.offset.x, - stroke._renderer.offset.y);\r\n              ctx.scale(stroke._renderer.scale.x, stroke._renderer.scale.y);\r\n              ctx.lineWidth = linewidth / stroke._renderer.scale.x;\r\n            }\r\n            ctx.stroke();\r\n            if (isOffset) {\r\n              ctx.restore();\r\n            }\r\n          }\r\n        }\r\n\r\n        if (!defaultMatrix) {\r\n          ctx.restore();\r\n        }\r\n\r\n        if (clip && !parentClipped) {\r\n          ctx.clip();\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    text: {\r\n\r\n      render: function(ctx, forced, parentClipped) {\r\n\r\n        // TODO: Add a check here to only invoke _update if need be.\r\n        this._update();\r\n\r\n        var matrix = this._matrix.elements;\r\n        var stroke = this._stroke;\r\n        var linewidth = this._linewidth;\r\n        var fill = this._fill;\r\n        var opacity = this._opacity * this.parent._renderer.opacity;\r\n        var visible = this._visible;\r\n        var defaultMatrix = isDefaultMatrix(matrix);\r\n        var isOffset = fill._renderer && fill._renderer.offset\r\n          && stroke._renderer && stroke._renderer.offset;\r\n\r\n        var a, b, c, d, e, sx, sy;\r\n\r\n        // mask = this._mask;\r\n        var clip = this._clip;\r\n\r\n        if (!forced && (!visible || clip)) {\r\n          return this;\r\n        }\r\n\r\n        // Transform\r\n        if (!defaultMatrix) {\r\n          ctx.save();\r\n          ctx.transform(matrix[0], matrix[3], matrix[1], matrix[4], matrix[2], matrix[5]);\r\n        }\r\n\r\n       /**\r\n         * Commented two-way functionality of clips / masks with groups and\r\n         * polygons. Uncomment when this bug is fixed:\r\n         * https://code.google.com/p/chromium/issues/detail?id=370951\r\n         */\r\n\r\n        // if (mask) {\r\n        //   canvas[mask._renderer.type].render.call(mask, ctx, true);\r\n        // }\r\n\r\n        if (!isOffset) {\r\n          ctx.font = [this._style, this._weight, this._size + 'px/' +\r\n            this._leading + 'px', this._family].join(' ');\r\n        }\r\n\r\n        ctx.textAlign = canvas.alignments[this._alignment] || this._alignment;\r\n        ctx.textBaseline = this._baseline;\r\n\r\n        // Styles\r\n        if (fill) {\r\n          if (_.isString(fill)) {\r\n            ctx.fillStyle = fill;\r\n          } else {\r\n            canvas[fill._renderer.type].render.call(fill, ctx);\r\n            ctx.fillStyle = fill._renderer.effect;\r\n          }\r\n        }\r\n        if (stroke) {\r\n          if (_.isString(stroke)) {\r\n            ctx.strokeStyle = stroke;\r\n          } else {\r\n            canvas[stroke._renderer.type].render.call(stroke, ctx);\r\n            ctx.strokeStyle = stroke._renderer.effect;\r\n          }\r\n        }\r\n        if (linewidth) {\r\n          ctx.lineWidth = linewidth;\r\n        }\r\n        if (_.isNumber(opacity)) {\r\n          ctx.globalAlpha = opacity;\r\n        }\r\n\r\n        if (!clip && !parentClipped) {\r\n\r\n          if (!canvas.isHidden.test(fill)) {\r\n\r\n            if (fill._renderer && fill._renderer.offset) {\r\n\r\n              sx = toFixed(fill._renderer.scale.x);\r\n              sy = toFixed(fill._renderer.scale.y);\r\n\r\n              ctx.save();\r\n              ctx.translate( - toFixed(fill._renderer.offset.x),\r\n                - toFixed(fill._renderer.offset.y));\r\n              ctx.scale(sx, sy);\r\n\r\n              a = this._size / fill._renderer.scale.y;\r\n              b = this._leading / fill._renderer.scale.y;\r\n              ctx.font = [this._style, this._weight, toFixed(a) + 'px/',\r\n                toFixed(b) + 'px', this._family].join(' ');\r\n\r\n              c = fill._renderer.offset.x / fill._renderer.scale.x;\r\n              d = fill._renderer.offset.y / fill._renderer.scale.y;\r\n\r\n              ctx.fillText(this.value, toFixed(c), toFixed(d));\r\n              ctx.restore();\r\n\r\n            } else {\r\n              ctx.fillText(this.value, 0, 0);\r\n            }\r\n\r\n          }\r\n\r\n          if (!canvas.isHidden.test(stroke)) {\r\n\r\n            if (stroke._renderer && stroke._renderer.offset) {\r\n\r\n              sx = toFixed(stroke._renderer.scale.x);\r\n              sy = toFixed(stroke._renderer.scale.y);\r\n\r\n              ctx.save();\r\n              ctx.translate(- toFixed(stroke._renderer.offset.x),\r\n                - toFixed(stroke._renderer.offset.y));\r\n              ctx.scale(sx, sy);\r\n\r\n              a = this._size / stroke._renderer.scale.y;\r\n              b = this._leading / stroke._renderer.scale.y;\r\n              ctx.font = [this._style, this._weight, toFixed(a) + 'px/',\r\n                toFixed(b) + 'px', this._family].join(' ');\r\n\r\n              c = stroke._renderer.offset.x / stroke._renderer.scale.x;\r\n              d = stroke._renderer.offset.y / stroke._renderer.scale.y;\r\n              e = linewidth / stroke._renderer.scale.x;\r\n\r\n              ctx.lineWidth = toFixed(e);\r\n              ctx.strokeText(this.value, toFixed(c), toFixed(d));\r\n              ctx.restore();\r\n\r\n            } else {\r\n              ctx.strokeText(this.value, 0, 0);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (!defaultMatrix) {\r\n          ctx.restore();\r\n        }\r\n\r\n        // TODO: Test for text\r\n        if (clip && !parentClipped) {\r\n          ctx.clip();\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    'linear-gradient': {\r\n\r\n      render: function(ctx) {\r\n\r\n        this._update();\r\n\r\n        if (!this._renderer.effect || this._flagEndPoints || this._flagStops) {\r\n\r\n          this._renderer.effect = ctx.createLinearGradient(\r\n            this.left._x, this.left._y,\r\n            this.right._x, this.right._y\r\n          );\r\n\r\n          for (var i = 0; i < this.stops.length; i++) {\r\n            var stop = this.stops[i];\r\n            this._renderer.effect.addColorStop(stop._offset, stop._color);\r\n          }\r\n\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    'radial-gradient': {\r\n\r\n      render: function(ctx) {\r\n\r\n        this._update();\r\n\r\n        if (!this._renderer.effect || this._flagCenter || this._flagFocal\r\n            || this._flagRadius || this._flagStops) {\r\n\r\n          this._renderer.effect = ctx.createRadialGradient(\r\n            this.center._x, this.center._y, 0,\r\n            this.focal._x, this.focal._y, this._radius\r\n          );\r\n\r\n          for (var i = 0; i < this.stops.length; i++) {\r\n            var stop = this.stops[i];\r\n            this._renderer.effect.addColorStop(stop._offset, stop._color);\r\n          }\r\n\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    texture: {\r\n\r\n      render: function(ctx) {\r\n\r\n        this._update();\r\n\r\n        var image = this.image;\r\n        var repeat;\r\n\r\n        if (!this._renderer.effect || ((this._flagLoaded || this._flagImage || this._flagRepeat) && this.loaded)) {\r\n          this._renderer.effect = ctx.createPattern(this.image, this._repeat);\r\n        }\r\n\r\n        if (this._flagOffset || this._flagLoaded || this._flagScale) {\r\n\r\n          if (!(this._renderer.offset instanceof Two.Vector)) {\r\n            this._renderer.offset = new Two.Vector();\r\n          }\r\n\r\n          this._renderer.offset.x = this._offset.x;\r\n          this._renderer.offset.y = this._offset.y;\r\n\r\n          if (image) {\r\n\r\n            this._renderer.offset.x -= image.width / 2;\r\n            this._renderer.offset.y += image.height / 2;\r\n\r\n            if (this._scale instanceof Two.Vector) {\r\n              this._renderer.offset.x *= this._scale.x;\r\n              this._renderer.offset.y *= this._scale.y;\r\n            } else {\r\n              this._renderer.offset.x *= this._scale;\r\n              this._renderer.offset.y *= this._scale;\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n        if (this._flagScale || this._flagLoaded) {\r\n\r\n          if (!(this._renderer.scale instanceof Two.Vector)) {\r\n            this._renderer.scale = new Two.Vector();\r\n          }\r\n\r\n          if (this._scale instanceof Two.Vector) {\r\n            this._renderer.scale.copy(this._scale);\r\n          } else {\r\n            this._renderer.scale.set(this._scale, this._scale);\r\n          }\r\n\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  var Renderer = Two[Two.Types.canvas] = function(params) {\r\n    // Smoothing property. Defaults to true\r\n    // Set it to false when working with pixel art.\r\n    // false can lead to better performance, since it would use a cheaper interpolation algorithm.\r\n    // It might not make a big difference on GPU backed canvases.\r\n    var smoothing = (params.smoothing !== false);\r\n    this.domElement = params.domElement || document.createElement('canvas');\r\n    this.ctx = this.domElement.getContext('2d');\r\n    this.overdraw = params.overdraw || false;\r\n\r\n    if (!_.isUndefined(this.ctx.imageSmoothingEnabled)) {\r\n      this.ctx.imageSmoothingEnabled = smoothing;\r\n    }\r\n\r\n    // Everything drawn on the canvas needs to be added to the scene.\r\n    this.scene = new Two.Group();\r\n    this.scene.parent = this;\r\n  };\r\n\r\n\r\n  _.extend(Renderer, {\r\n\r\n    Utils: canvas\r\n\r\n  });\r\n\r\n  _.extend(Renderer.prototype, Two.Utils.Events, {\r\n\r\n    setSize: function(width, height, ratio) {\r\n\r\n      this.width = width;\r\n      this.height = height;\r\n\r\n      this.ratio = _.isUndefined(ratio) ? getRatio(this.ctx) : ratio;\r\n\r\n      this.domElement.width = width * this.ratio;\r\n      this.domElement.height = height * this.ratio;\r\n\r\n      if (this.domElement.style) {\r\n        _.extend(this.domElement.style, {\r\n          width: width + 'px',\r\n          height: height + 'px'\r\n        });\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    render: function() {\r\n\r\n      var isOne = this.ratio === 1;\r\n\r\n      if (!isOne) {\r\n        this.ctx.save();\r\n        this.ctx.scale(this.ratio, this.ratio);\r\n      }\r\n\r\n      if (!this.overdraw) {\r\n        this.ctx.clearRect(0, 0, this.width, this.height);\r\n      }\r\n\r\n      canvas.group.render.call(this.scene, this.ctx);\r\n\r\n      if (!isOne) {\r\n        this.ctx.restore();\r\n      }\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  function resetTransform(ctx) {\r\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n  }\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  /**\r\n   * Constants\r\n   */\r\n\r\n  var root = Two.root,\r\n    multiplyMatrix = Two.Matrix.Multiply,\r\n    mod = Two.Utils.mod,\r\n    identity = [1, 0, 0, 0, 1, 0, 0, 0, 1],\r\n    transformation = new Two.Array(9),\r\n    getRatio = Two.Utils.getRatio,\r\n    getComputedMatrix = Two.Utils.getComputedMatrix,\r\n    toFixed = Two.Utils.toFixed,\r\n    _ = Two.Utils;\r\n\r\n  var webgl = {\r\n\r\n    isHidden: /(none|transparent)/i,\r\n\r\n    canvas: (root.document ? root.document.createElement('canvas') : { getContext: _.identity }),\r\n\r\n    alignments: {\r\n      left: 'start',\r\n      middle: 'center',\r\n      right: 'end'\r\n    },\r\n\r\n    matrix: new Two.Matrix(),\r\n\r\n    uv: new Two.Array([\r\n      0, 0,\r\n      1, 0,\r\n      0, 1,\r\n      0, 1,\r\n      1, 0,\r\n      1, 1\r\n    ]),\r\n\r\n    group: {\r\n\r\n      removeChild: function(child, gl) {\r\n        if (child.children) {\r\n          for (var i = 0; i < child.children.length; i++) {\r\n            webgl.group.removeChild(child.children[i], gl);\r\n          }\r\n          return;\r\n        }\r\n        // Deallocate texture to free up gl memory.\r\n        gl.deleteTexture(child._renderer.texture);\r\n        delete child._renderer.texture;\r\n      },\r\n\r\n      renderChild: function(child) {\r\n        webgl[child._renderer.type].render.call(child, this.gl, this.program);\r\n      },\r\n\r\n      render: function(gl, program) {\r\n\r\n        this._update();\r\n\r\n        var parent = this.parent;\r\n        var flagParentMatrix = (parent._matrix && parent._matrix.manual) || parent._flagMatrix;\r\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\r\n\r\n        if (flagParentMatrix || flagMatrix) {\r\n\r\n          if (!this._renderer.matrix) {\r\n            this._renderer.matrix = new Two.Array(9);\r\n          }\r\n\r\n          // Reduce amount of object / array creation / deletion\r\n          this._matrix.toArray(true, transformation);\r\n\r\n          multiplyMatrix(transformation, parent._renderer.matrix, this._renderer.matrix);\r\n          this._renderer.scale = this._scale * parent._renderer.scale;\r\n\r\n          if (flagParentMatrix) {\r\n            this._flagMatrix = true;\r\n          }\r\n\r\n        }\r\n\r\n        if (this._mask) {\r\n\r\n          gl.enable(gl.STENCIL_TEST);\r\n          gl.stencilFunc(gl.ALWAYS, 1, 1);\r\n\r\n          gl.colorMask(false, false, false, true);\r\n          gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);\r\n\r\n          webgl[this._mask._renderer.type].render.call(this._mask, gl, program, this);\r\n\r\n          gl.colorMask(true, true, true, true);\r\n          gl.stencilFunc(gl.NOTEQUAL, 0, 1);\r\n          gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\r\n\r\n        }\r\n\r\n        this._flagOpacity = parent._flagOpacity || this._flagOpacity;\r\n\r\n        this._renderer.opacity = this._opacity\r\n          * (parent && parent._renderer ? parent._renderer.opacity : 1);\r\n\r\n        if (this._flagSubtractions) {\r\n          for (var i = 0; i < this.subtractions.length; i++) {\r\n            webgl.group.removeChild(this.subtractions[i], gl);\r\n          }\r\n        }\r\n\r\n        this.children.forEach(webgl.group.renderChild, {\r\n          gl: gl,\r\n          program: program\r\n        });\r\n\r\n        if (this._mask) {\r\n\r\n          gl.colorMask(false, false, false, false);\r\n          gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);\r\n\r\n          webgl[this._mask._renderer.type].render.call(this._mask, gl, program, this);\r\n\r\n          gl.colorMask(true, true, true, true);\r\n          gl.stencilFunc(gl.NOTEQUAL, 0, 1);\r\n          gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\r\n\r\n          gl.disable(gl.STENCIL_TEST);\r\n\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    path: {\r\n\r\n      updateCanvas: function(elem) {\r\n\r\n        var next, prev, a, c, ux, uy, vx, vy, ar, bl, br, cl, x, y;\r\n        var isOffset;\r\n\r\n        var commands = elem._vertices;\r\n        var canvas = this.canvas;\r\n        var ctx = this.ctx;\r\n\r\n        // Styles\r\n        var scale = elem._renderer.scale;\r\n        var stroke = elem._stroke;\r\n        var linewidth = elem._linewidth;\r\n        var fill = elem._fill;\r\n        var opacity = elem._renderer.opacity || elem._opacity;\r\n        var cap = elem._cap;\r\n        var join = elem._join;\r\n        var miter = elem._miter;\r\n        var closed = elem._closed;\r\n        var length = commands.length;\r\n        var last = length - 1;\r\n\r\n        canvas.width = Math.max(Math.ceil(elem._renderer.rect.width * scale), 1);\r\n        canvas.height = Math.max(Math.ceil(elem._renderer.rect.height * scale), 1);\r\n\r\n        var centroid = elem._renderer.rect.centroid;\r\n        var cx = centroid.x;\r\n        var cy = centroid.y;\r\n\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        if (fill) {\r\n          if (_.isString(fill)) {\r\n            ctx.fillStyle = fill;\r\n          } else {\r\n            webgl[fill._renderer.type].render.call(fill, ctx, elem);\r\n            ctx.fillStyle = fill._renderer.effect;\r\n          }\r\n        }\r\n        if (stroke) {\r\n          if (_.isString(stroke)) {\r\n            ctx.strokeStyle = stroke;\r\n          } else {\r\n            webgl[stroke._renderer.type].render.call(stroke, ctx, elem);\r\n            ctx.strokeStyle = stroke._renderer.effect;\r\n          }\r\n        }\r\n        if (linewidth) {\r\n          ctx.lineWidth = linewidth;\r\n        }\r\n        if (miter) {\r\n          ctx.miterLimit = miter;\r\n        }\r\n        if (join) {\r\n          ctx.lineJoin = join;\r\n        }\r\n        if (cap) {\r\n          ctx.lineCap = cap;\r\n        }\r\n        if (_.isNumber(opacity)) {\r\n          ctx.globalAlpha = opacity;\r\n        }\r\n\r\n        var d;\r\n        ctx.save();\r\n        ctx.scale(scale, scale);\r\n        ctx.translate(cx, cy);\r\n\r\n        ctx.beginPath();\r\n        for (var i = 0; i < commands.length; i++) {\r\n\r\n          b = commands[i];\r\n\r\n          x = toFixed(b._x);\r\n          y = toFixed(b._y);\r\n\r\n          switch (b._command) {\r\n\r\n            case Two.Commands.close:\r\n              ctx.closePath();\r\n              break;\r\n\r\n            case Two.Commands.curve:\r\n\r\n              prev = closed ? mod(i - 1, length) : Math.max(i - 1, 0);\r\n              next = closed ? mod(i + 1, length) : Math.min(i + 1, last);\r\n\r\n              a = commands[prev];\r\n              c = commands[next];\r\n              ar = (a.controls && a.controls.right) || Two.Vector.zero;\r\n              bl = (b.controls && b.controls.left) || Two.Vector.zero;\r\n\r\n              if (a._relative) {\r\n                vx = toFixed((ar.x + a._x));\r\n                vy = toFixed((ar.y + a._y));\r\n              } else {\r\n                vx = toFixed(ar.x);\r\n                vy = toFixed(ar.y);\r\n              }\r\n\r\n              if (b._relative) {\r\n                ux = toFixed((bl.x + b._x));\r\n                uy = toFixed((bl.y + b._y));\r\n              } else {\r\n                ux = toFixed(bl.x);\r\n                uy = toFixed(bl.y);\r\n              }\r\n\r\n              ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\r\n\r\n              if (i >= last && closed) {\r\n\r\n                c = d;\r\n\r\n                br = (b.controls && b.controls.right) || Two.Vector.zero;\r\n                cl = (c.controls && c.controls.left) || Two.Vector.zero;\r\n\r\n                if (b._relative) {\r\n                  vx = toFixed((br.x + b._x));\r\n                  vy = toFixed((br.y + b._y));\r\n                } else {\r\n                  vx = toFixed(br.x);\r\n                  vy = toFixed(br.y);\r\n                }\r\n\r\n                if (c._relative) {\r\n                  ux = toFixed((cl.x + c._x));\r\n                  uy = toFixed((cl.y + c._y));\r\n                } else {\r\n                  ux = toFixed(cl.x);\r\n                  uy = toFixed(cl.y);\r\n                }\r\n\r\n                x = toFixed(c._x);\r\n                y = toFixed(c._y);\r\n\r\n                ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\r\n\r\n              }\r\n\r\n              break;\r\n\r\n            case Two.Commands.line:\r\n              ctx.lineTo(x, y);\r\n              break;\r\n\r\n            case Two.Commands.move:\r\n              d = b;\r\n              ctx.moveTo(x, y);\r\n              break;\r\n\r\n          }\r\n\r\n        }\r\n\r\n        // Loose ends\r\n\r\n        if (closed) {\r\n          ctx.closePath();\r\n        }\r\n\r\n        if (!webgl.isHidden.test(fill)) {\r\n          isOffset = fill._renderer && fill._renderer.offset\r\n          if (isOffset) {\r\n            ctx.save();\r\n            ctx.translate(\r\n              - fill._renderer.offset.x, - fill._renderer.offset.y);\r\n            ctx.scale(fill._renderer.scale.x, fill._renderer.scale.y);\r\n          }\r\n          ctx.fill();\r\n          if (isOffset) {\r\n            ctx.restore();\r\n          }\r\n        }\r\n\r\n        if (!webgl.isHidden.test(stroke)) {\r\n          isOffset = stroke._renderer && stroke._renderer.offset;\r\n          if (isOffset) {\r\n            ctx.save();\r\n            ctx.translate(\r\n              - stroke._renderer.offset.x, - stroke._renderer.offset.y);\r\n            ctx.scale(stroke._renderer.scale.x, stroke._renderer.scale.y);\r\n            ctx.lineWidth = linewidth / stroke._renderer.scale.x;\r\n          }\r\n          ctx.stroke();\r\n          if (isOffset) {\r\n            ctx.restore();\r\n          }\r\n        }\r\n\r\n        ctx.restore();\r\n\r\n      },\r\n\r\n      /**\r\n       * Returns the rect of a set of verts. Typically takes vertices that are\r\n       * \"centered\" around 0 and returns them to be anchored upper-left.\r\n       */\r\n      getBoundingClientRect: function(vertices, border, rect) {\r\n\r\n        var left = Infinity, right = -Infinity,\r\n            top = Infinity, bottom = -Infinity,\r\n            width, height;\r\n\r\n        vertices.forEach(function(v) {\r\n\r\n          var x = v.x, y = v.y, controls = v.controls;\r\n          var a, b, c, d, cl, cr;\r\n\r\n          top = Math.min(y, top);\r\n          left = Math.min(x, left);\r\n          right = Math.max(x, right);\r\n          bottom = Math.max(y, bottom);\r\n\r\n          if (!v.controls) {\r\n            return;\r\n          }\r\n\r\n          cl = controls.left;\r\n          cr = controls.right;\r\n\r\n          if (!cl || !cr) {\r\n            return;\r\n          }\r\n\r\n          a = v._relative ? cl.x + x : cl.x;\r\n          b = v._relative ? cl.y + y : cl.y;\r\n          c = v._relative ? cr.x + x : cr.x;\r\n          d = v._relative ? cr.y + y : cr.y;\r\n\r\n          if (!a || !b || !c || !d) {\r\n            return;\r\n          }\r\n\r\n          top = Math.min(b, d, top);\r\n          left = Math.min(a, c, left);\r\n          right = Math.max(a, c, right);\r\n          bottom = Math.max(b, d, bottom);\r\n\r\n        });\r\n\r\n        // Expand borders\r\n\r\n        if (_.isNumber(border)) {\r\n          top -= border;\r\n          left -= border;\r\n          right += border;\r\n          bottom += border;\r\n        }\r\n\r\n        width = right - left;\r\n        height = bottom - top;\r\n\r\n        rect.top = top;\r\n        rect.left = left;\r\n        rect.right = right;\r\n        rect.bottom = bottom;\r\n        rect.width = width;\r\n        rect.height = height;\r\n\r\n        if (!rect.centroid) {\r\n          rect.centroid = {};\r\n        }\r\n\r\n        rect.centroid.x = - left;\r\n        rect.centroid.y = - top;\r\n\r\n      },\r\n\r\n      render: function(gl, program, forcedParent) {\r\n\r\n        if (!this._visible || !this._opacity) {\r\n          return this;\r\n        }\r\n\r\n        this._update();\r\n\r\n        // Calculate what changed\r\n\r\n        var parent = this.parent;\r\n        var flagParentMatrix = parent._matrix.manual || parent._flagMatrix;\r\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\r\n        var flagTexture = this._flagVertices || this._flagFill\r\n          || (this._fill instanceof Two.LinearGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagEndPoints))\r\n          || (this._fill instanceof Two.RadialGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagRadius || this._fill._flagCenter || this._fill._flagFocal))\r\n          || (this._fill instanceof Two.Texture && (this._fill._flagLoaded && this._fill.loaded || this._fill._flagOffset || this._fill._flagScale))\r\n          || (this._stroke instanceof Two.LinearGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagEndPoints))\r\n          || (this._stroke instanceof Two.RadialGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagRadius || this._stroke._flagCenter || this._stroke._flagFocal))\r\n          || (this._stroke instanceof Two.Texture && (this._stroke._flagLoaded && this._stroke.loaded || this._stroke._flagOffset || this._fill._flagScale))\r\n          || this._flagStroke || this._flagLinewidth || this._flagOpacity\r\n          || parent._flagOpacity || this._flagVisible || this._flagCap\r\n          || this._flagJoin || this._flagMiter || this._flagScale\r\n          || !this._renderer.texture;\r\n\r\n        if (flagParentMatrix || flagMatrix) {\r\n\r\n          if (!this._renderer.matrix) {\r\n            this._renderer.matrix = new Two.Array(9);\r\n          }\r\n\r\n          // Reduce amount of object / array creation / deletion\r\n\r\n          this._matrix.toArray(true, transformation);\r\n\r\n          multiplyMatrix(transformation, parent._renderer.matrix, this._renderer.matrix);\r\n          this._renderer.scale = this._scale * parent._renderer.scale;\r\n\r\n        }\r\n\r\n        if (flagTexture) {\r\n\r\n          if (!this._renderer.rect) {\r\n            this._renderer.rect = {};\r\n          }\r\n\r\n          if (!this._renderer.triangles) {\r\n            this._renderer.triangles = new Two.Array(12);\r\n          }\r\n\r\n          this._renderer.opacity = this._opacity * parent._renderer.opacity;\r\n\r\n          webgl.path.getBoundingClientRect(this._vertices, this._linewidth, this._renderer.rect);\r\n          webgl.getTriangles(this._renderer.rect, this._renderer.triangles);\r\n\r\n          webgl.updateBuffer.call(webgl, gl, this, program);\r\n          webgl.updateTexture.call(webgl, gl, this);\r\n\r\n        }\r\n\r\n        // if (this._mask) {\r\n        //   webgl[this._mask._renderer.type].render.call(mask, gl, program, this);\r\n        // }\r\n\r\n        if (this._clip && !forcedParent) {\r\n          return;\r\n        }\r\n\r\n        // Draw Texture\r\n\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._renderer.textureCoordsBuffer);\r\n\r\n        gl.vertexAttribPointer(program.textureCoords, 2, gl.FLOAT, false, 0, 0);\r\n\r\n        gl.bindTexture(gl.TEXTURE_2D, this._renderer.texture);\r\n\r\n\r\n        // Draw Rect\r\n\r\n        gl.uniformMatrix3fv(program.matrix, false, this._renderer.matrix);\r\n\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._renderer.buffer);\r\n\r\n        gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0);\r\n\r\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    text: {\r\n\r\n      updateCanvas: function(elem) {\r\n\r\n        var canvas = this.canvas;\r\n        var ctx = this.ctx;\r\n\r\n        // Styles\r\n        var scale = elem._renderer.scale;\r\n        var stroke = elem._stroke;\r\n        var linewidth = elem._linewidth * scale;\r\n        var fill = elem._fill;\r\n        var opacity = elem._renderer.opacity || elem._opacity;\r\n\r\n        canvas.width = Math.max(Math.ceil(elem._renderer.rect.width * scale), 1);\r\n        canvas.height = Math.max(Math.ceil(elem._renderer.rect.height * scale), 1);\r\n\r\n        var centroid = elem._renderer.rect.centroid;\r\n        var cx = centroid.x;\r\n        var cy = centroid.y;\r\n\r\n        var a, b, c, d, e, sx, sy;\r\n        var isOffset = fill._renderer && fill._renderer.offset\r\n          && stroke._renderer && stroke._renderer.offset;\r\n\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        if (!isOffset) {\r\n          ctx.font = [elem._style, elem._weight, elem._size + 'px/' +\r\n            elem._leading + 'px', elem._family].join(' ');\r\n        }\r\n\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'middle';\r\n\r\n        // Styles\r\n        if (fill) {\r\n          if (_.isString(fill)) {\r\n            ctx.fillStyle = fill;\r\n          } else {\r\n            webgl[fill._renderer.type].render.call(fill, ctx, elem);\r\n            ctx.fillStyle = fill._renderer.effect;\r\n          }\r\n        }\r\n        if (stroke) {\r\n          if (_.isString(stroke)) {\r\n            ctx.strokeStyle = stroke;\r\n          } else {\r\n            webgl[stroke._renderer.type].render.call(stroke, ctx, elem);\r\n            ctx.strokeStyle = stroke._renderer.effect;\r\n          }\r\n        }\r\n        if (linewidth) {\r\n          ctx.lineWidth = linewidth;\r\n        }\r\n        if (_.isNumber(opacity)) {\r\n          ctx.globalAlpha = opacity;\r\n        }\r\n\r\n        ctx.save();\r\n        ctx.scale(scale, scale);\r\n        ctx.translate(cx, cy);\r\n\r\n        if (!webgl.isHidden.test(fill)) {\r\n\r\n          if (fill._renderer && fill._renderer.offset) {\r\n\r\n            sx = toFixed(fill._renderer.scale.x);\r\n            sy = toFixed(fill._renderer.scale.y);\r\n\r\n            ctx.save();\r\n            ctx.translate( - toFixed(fill._renderer.offset.x),\r\n              - toFixed(fill._renderer.offset.y));\r\n            ctx.scale(sx, sy);\r\n\r\n            a = elem._size / fill._renderer.scale.y;\r\n            b = elem._leading / fill._renderer.scale.y;\r\n            ctx.font = [elem._style, elem._weight, toFixed(a) + 'px/',\r\n              toFixed(b) + 'px', elem._family].join(' ');\r\n\r\n            c = fill._renderer.offset.x / fill._renderer.scale.x;\r\n            d = fill._renderer.offset.y / fill._renderer.scale.y;\r\n\r\n            ctx.fillText(elem.value, toFixed(c), toFixed(d));\r\n            ctx.restore();\r\n\r\n          } else {\r\n            ctx.fillText(elem.value, 0, 0);\r\n          }\r\n\r\n        }\r\n\r\n        if (!webgl.isHidden.test(stroke)) {\r\n\r\n          if (stroke._renderer && stroke._renderer.offset) {\r\n\r\n            sx = toFixed(stroke._renderer.scale.x);\r\n            sy = toFixed(stroke._renderer.scale.y);\r\n\r\n            ctx.save();\r\n            ctx.translate(- toFixed(stroke._renderer.offset.x),\r\n              - toFixed(stroke._renderer.offset.y));\r\n            ctx.scale(sx, sy);\r\n\r\n            a = elem._size / stroke._renderer.scale.y;\r\n            b = elem._leading / stroke._renderer.scale.y;\r\n            ctx.font = [elem._style, elem._weight, toFixed(a) + 'px/',\r\n              toFixed(b) + 'px', elem._family].join(' ');\r\n\r\n            c = stroke._renderer.offset.x / stroke._renderer.scale.x;\r\n            d = stroke._renderer.offset.y / stroke._renderer.scale.y;\r\n            e = linewidth / stroke._renderer.scale.x;\r\n\r\n            ctx.lineWidth = toFixed(e);\r\n            ctx.strokeText(elem.value, toFixed(c), toFixed(d));\r\n            ctx.restore();\r\n\r\n          } else {\r\n            ctx.strokeText(elem.value, 0, 0);\r\n          }\r\n\r\n        }\r\n\r\n        ctx.restore();\r\n\r\n      },\r\n\r\n      getBoundingClientRect: function(elem, rect) {\r\n\r\n        var ctx = webgl.ctx;\r\n\r\n        ctx.font = [elem._style, elem._weight, elem._size + 'px/' +\r\n          elem._leading + 'px', elem._family].join(' ');\r\n\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = elem._baseline;\r\n\r\n        // TODO: Estimate this better\r\n        var width = ctx.measureText(elem._value).width;\r\n        var height = Math.max(elem._size || elem._leading);\r\n\r\n        if (this._linewidth && !webgl.isHidden.test(this._stroke)) {\r\n          // width += this._linewidth; // TODO: Not sure if the `measure` calcs this.\r\n          height += this._linewidth;\r\n        }\r\n\r\n        var w = width / 2;\r\n        var h = height / 2;\r\n\r\n        switch (webgl.alignments[elem._alignment] || elem._alignment) {\r\n\r\n          case webgl.alignments.left:\r\n            rect.left = 0;\r\n            rect.right = width;\r\n            break;\r\n          case webgl.alignments.right:\r\n            rect.left = - width;\r\n            rect.right = 0;\r\n            break;\r\n          default:\r\n            rect.left = - w;\r\n            rect.right = w;\r\n        }\r\n\r\n        // TODO: Gradients aren't inherited...\r\n        switch (elem._baseline) {\r\n          case 'bottom':\r\n            rect.top = - height;\r\n            rect.bottom = 0;\r\n            break;\r\n          case 'top':\r\n            rect.top = 0;\r\n            rect.bottom = height;\r\n            break;\r\n          default:\r\n            rect.top = - h;\r\n            rect.bottom = h;\r\n        }\r\n\r\n        rect.width = width;\r\n        rect.height = height;\r\n\r\n        if (!rect.centroid) {\r\n          rect.centroid = {};\r\n        }\r\n\r\n        // TODO:\r\n        rect.centroid.x = w;\r\n        rect.centroid.y = h;\r\n\r\n      },\r\n\r\n      render: function(gl, program, forcedParent) {\r\n\r\n        if (!this._visible || !this._opacity) {\r\n          return this;\r\n        }\r\n\r\n        this._update();\r\n\r\n        // Calculate what changed\r\n\r\n        var parent = this.parent;\r\n        var flagParentMatrix = parent._matrix.manual || parent._flagMatrix;\r\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\r\n        var flagTexture = this._flagVertices || this._flagFill\r\n          || (this._fill instanceof Two.LinearGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagEndPoints))\r\n          || (this._fill instanceof Two.RadialGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagRadius || this._fill._flagCenter || this._fill._flagFocal))\r\n          || (this._fill instanceof Two.Texture && (this._fill._flagLoaded && this._fill.loaded))\r\n          || (this._stroke instanceof Two.LinearGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagEndPoints))\r\n          || (this._stroke instanceof Two.RadialGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagRadius || this._stroke._flagCenter || this._stroke._flagFocal))\r\n          || (this._texture instanceof Two.Texture && (this._texture._flagLoaded && this._texture.loaded))\r\n          || this._flagStroke || this._flagLinewidth || this._flagOpacity\r\n          || parent._flagOpacity || this._flagVisible || this._flagScale\r\n          || this._flagValue || this._flagFamily || this._flagSize\r\n          || this._flagLeading || this._flagAlignment || this._flagBaseline\r\n          || this._flagStyle || this._flagWeight || this._flagDecoration\r\n          || !this._renderer.texture;\r\n\r\n        if (flagParentMatrix || flagMatrix) {\r\n\r\n          if (!this._renderer.matrix) {\r\n            this._renderer.matrix = new Two.Array(9);\r\n          }\r\n\r\n          // Reduce amount of object / array creation / deletion\r\n\r\n          this._matrix.toArray(true, transformation);\r\n\r\n          multiplyMatrix(transformation, parent._renderer.matrix, this._renderer.matrix);\r\n          this._renderer.scale = this._scale * parent._renderer.scale;\r\n\r\n        }\r\n\r\n        if (flagTexture) {\r\n\r\n          if (!this._renderer.rect) {\r\n            this._renderer.rect = {};\r\n          }\r\n\r\n          if (!this._renderer.triangles) {\r\n            this._renderer.triangles = new Two.Array(12);\r\n          }\r\n\r\n          this._renderer.opacity = this._opacity * parent._renderer.opacity;\r\n\r\n          webgl.text.getBoundingClientRect(this, this._renderer.rect);\r\n          webgl.getTriangles(this._renderer.rect, this._renderer.triangles);\r\n\r\n          webgl.updateBuffer.call(webgl, gl, this, program);\r\n          webgl.updateTexture.call(webgl, gl, this);\r\n\r\n        }\r\n\r\n        // if (this._mask) {\r\n        //   webgl[this._mask._renderer.type].render.call(mask, gl, program, this);\r\n        // }\r\n\r\n        if (this._clip && !forcedParent) {\r\n          return;\r\n        }\r\n\r\n        // Draw Texture\r\n\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._renderer.textureCoordsBuffer);\r\n\r\n        gl.vertexAttribPointer(program.textureCoords, 2, gl.FLOAT, false, 0, 0);\r\n\r\n        gl.bindTexture(gl.TEXTURE_2D, this._renderer.texture);\r\n\r\n\r\n        // Draw Rect\r\n\r\n        gl.uniformMatrix3fv(program.matrix, false, this._renderer.matrix);\r\n\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._renderer.buffer);\r\n\r\n        gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0);\r\n\r\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    'linear-gradient': {\r\n\r\n      render: function(ctx, elem) {\r\n\r\n        if (!ctx.canvas.getContext('2d')) {\r\n          return;\r\n        }\r\n\r\n        this._update();\r\n\r\n        if (!this._renderer.effect || this._flagEndPoints || this._flagStops) {\r\n\r\n          this._renderer.effect = ctx.createLinearGradient(\r\n            this.left._x, this.left._y,\r\n            this.right._x, this.right._y\r\n          );\r\n\r\n          for (var i = 0; i < this.stops.length; i++) {\r\n            var stop = this.stops[i];\r\n            this._renderer.effect.addColorStop(stop._offset, stop._color);\r\n          }\r\n\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    'radial-gradient': {\r\n\r\n      render: function(ctx, elem) {\r\n\r\n        if (!ctx.canvas.getContext('2d')) {\r\n          return;\r\n        }\r\n\r\n        this._update();\r\n\r\n        if (!this._renderer.effect || this._flagCenter || this._flagFocal\r\n            || this._flagRadius || this._flagStops) {\r\n\r\n          this._renderer.effect = ctx.createRadialGradient(\r\n            this.center._x, this.center._y, 0,\r\n            this.focal._x, this.focal._y, this._radius\r\n          );\r\n\r\n          for (var i = 0; i < this.stops.length; i++) {\r\n            var stop = this.stops[i];\r\n            this._renderer.effect.addColorStop(stop._offset, stop._color);\r\n          }\r\n\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    texture: {\r\n\r\n      render: function(ctx, elem) {\r\n\r\n        if (!ctx.canvas.getContext('2d')) {\r\n          return;\r\n        }\r\n\r\n        this._update();\r\n\r\n        var image = this.image;\r\n        var repeat;\r\n\r\n        if (!this._renderer.effect || ((this._flagLoaded || this._flagRepeat) && this.loaded)) {\r\n          this._renderer.effect = ctx.createPattern(image, this._repeat);\r\n        }\r\n\r\n        if (this._flagOffset || this._flagLoaded || this._flagScale) {\r\n\r\n          if (!(this._renderer.offset instanceof Two.Vector)) {\r\n            this._renderer.offset = new Two.Vector();\r\n          }\r\n\r\n          this._renderer.offset.x = this._offset.x;\r\n          this._renderer.offset.y = this._offset.y;\r\n\r\n          if (image) {\r\n\r\n            this._renderer.offset.x -= image.width / 2;\r\n            this._renderer.offset.y += image.height / 2;\r\n\r\n            if (this._scale instanceof Two.Vector) {\r\n              this._renderer.offset.x *= this._scale.x;\r\n              this._renderer.offset.y *= this._scale.y;\r\n            } else {\r\n              this._renderer.offset.x *= this._scale;\r\n              this._renderer.offset.y *= this._scale;\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n        if (this._flagScale || this._flagLoaded) {\r\n\r\n          if (!(this._renderer.scale instanceof Two.Vector)) {\r\n            this._renderer.scale = new Two.Vector();\r\n          }\r\n\r\n          if (this._scale instanceof Two.Vector) {\r\n            this._renderer.scale.copy(this._scale);\r\n          } else {\r\n            this._renderer.scale.set(this._scale, this._scale);\r\n          }\r\n\r\n        }\r\n\r\n        return this.flagReset();\r\n\r\n      }\r\n\r\n    },\r\n\r\n    getTriangles: function(rect, triangles) {\r\n\r\n      var top = rect.top,\r\n          left = rect.left,\r\n          right = rect.right,\r\n          bottom = rect.bottom;\r\n\r\n      // First Triangle\r\n\r\n      triangles[0] = left;\r\n      triangles[1] = top;\r\n\r\n      triangles[2] = right;\r\n      triangles[3] = top;\r\n\r\n      triangles[4] = left;\r\n      triangles[5] = bottom;\r\n\r\n      // Second Triangle\r\n\r\n      triangles[6] = left;\r\n      triangles[7] = bottom;\r\n\r\n      triangles[8] = right;\r\n      triangles[9] = top;\r\n\r\n      triangles[10] = right;\r\n      triangles[11] = bottom;\r\n\r\n    },\r\n\r\n    updateTexture: function(gl, elem) {\r\n\r\n      this[elem._renderer.type].updateCanvas.call(webgl, elem);\r\n\r\n      if (elem._renderer.texture) {\r\n        gl.deleteTexture(elem._renderer.texture);\r\n      }\r\n\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, elem._renderer.textureCoordsBuffer);\r\n\r\n      // TODO: Is this necessary every time or can we do once?\r\n      // TODO: Create a registry for textures\r\n      elem._renderer.texture = gl.createTexture();\r\n      gl.bindTexture(gl.TEXTURE_2D, elem._renderer.texture);\r\n\r\n      // Set the parameters so we can render any size image.\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n      // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n      // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n      // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n\r\n      if (this.canvas.width <= 0 || this.canvas.height <= 0) {\r\n        return;\r\n      }\r\n\r\n      // Upload the image into the texture.\r\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.canvas);\r\n\r\n    },\r\n\r\n    updateBuffer: function(gl, elem, program) {\r\n\r\n      if (_.isObject(elem._renderer.buffer)) {\r\n        gl.deleteBuffer(elem._renderer.buffer);\r\n      }\r\n\r\n      elem._renderer.buffer = gl.createBuffer();\r\n\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, elem._renderer.buffer);\r\n      gl.enableVertexAttribArray(program.position);\r\n\r\n      gl.bufferData(gl.ARRAY_BUFFER, elem._renderer.triangles, gl.STATIC_DRAW);\r\n\r\n      if (_.isObject(elem._renderer.textureCoordsBuffer)) {\r\n        gl.deleteBuffer(elem._renderer.textureCoordsBuffer);\r\n      }\r\n\r\n      elem._renderer.textureCoordsBuffer = gl.createBuffer();\r\n\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, elem._renderer.textureCoordsBuffer);\r\n      gl.enableVertexAttribArray(program.textureCoords);\r\n\r\n      gl.bufferData(gl.ARRAY_BUFFER, this.uv, gl.STATIC_DRAW);\r\n\r\n    },\r\n\r\n    program: {\r\n\r\n      create: function(gl, shaders) {\r\n        var program, linked, error;\r\n        program = gl.createProgram();\r\n        _.each(shaders, function(s) {\r\n          gl.attachShader(program, s);\r\n        });\r\n\r\n        gl.linkProgram(program);\r\n        linked = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n        if (!linked) {\r\n          error = gl.getProgramInfoLog(program);\r\n          gl.deleteProgram(program);\r\n          throw new Two.Utils.Error('unable to link program: ' + error);\r\n        }\r\n\r\n        return program;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    shaders: {\r\n\r\n      create: function(gl, source, type) {\r\n        var shader, compiled, error;\r\n        shader = gl.createShader(gl[type]);\r\n        gl.shaderSource(shader, source);\r\n        gl.compileShader(shader);\r\n\r\n        compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n        if (!compiled) {\r\n          error = gl.getShaderInfoLog(shader);\r\n          gl.deleteShader(shader);\r\n          throw new Two.Utils.Error('unable to compile shader ' + shader + ': ' + error);\r\n        }\r\n\r\n        return shader;\r\n\r\n      },\r\n\r\n      types: {\r\n        vertex: 'VERTEX_SHADER',\r\n        fragment: 'FRAGMENT_SHADER'\r\n      },\r\n\r\n      vertex: [\r\n        'attribute vec2 a_position;',\r\n        'attribute vec2 a_textureCoords;',\r\n        '',\r\n        'uniform mat3 u_matrix;',\r\n        'uniform vec2 u_resolution;',\r\n        '',\r\n        'varying vec2 v_textureCoords;',\r\n        '',\r\n        'void main() {',\r\n        '   vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;',\r\n        '   vec2 normal = projected / u_resolution;',\r\n        '   vec2 clipspace = (normal * 2.0) - 1.0;',\r\n        '',\r\n        '   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);',\r\n        '   v_textureCoords = a_textureCoords;',\r\n        '}'\r\n      ].join('\\n'),\r\n\r\n      fragment: [\r\n        'precision mediump float;',\r\n        '',\r\n        'uniform sampler2D u_image;',\r\n        'varying vec2 v_textureCoords;',\r\n        '',\r\n        'void main() {',\r\n        '  gl_FragColor = texture2D(u_image, v_textureCoords);',\r\n        '}'\r\n      ].join('\\n')\r\n\r\n    },\r\n\r\n    TextureRegistry: new Two.Registry()\r\n\r\n  };\r\n\r\n  webgl.ctx = webgl.canvas.getContext('2d');\r\n\r\n  var Renderer = Two[Two.Types.webgl] = function(options) {\r\n\r\n    var params, gl, vs, fs;\r\n    this.domElement = options.domElement || document.createElement('canvas');\r\n\r\n    // Everything drawn on the canvas needs to come from the stage.\r\n    this.scene = new Two.Group();\r\n    this.scene.parent = this;\r\n\r\n    this._renderer = {\r\n      matrix: new Two.Array(identity),\r\n      scale: 1,\r\n      opacity: 1\r\n    };\r\n    this._flagMatrix = true;\r\n\r\n    // http://games.greggman.com/game/webgl-and-alpha/\r\n    // http://www.khronos.org/registry/webgl/specs/latest/#5.2\r\n    params = _.defaults(options || {}, {\r\n      antialias: false,\r\n      alpha: true,\r\n      premultipliedAlpha: true,\r\n      stencil: true,\r\n      preserveDrawingBuffer: true,\r\n      overdraw: false\r\n    });\r\n\r\n    this.overdraw = params.overdraw;\r\n\r\n    gl = this.ctx = this.domElement.getContext('webgl', params) ||\r\n      this.domElement.getContext('experimental-webgl', params);\r\n\r\n    if (!this.ctx) {\r\n      throw new Two.Utils.Error(\r\n        'unable to create a webgl context. Try using another renderer.');\r\n    }\r\n\r\n    // Compile Base Shaders to draw in pixel space.\r\n    vs = webgl.shaders.create(\r\n      gl, webgl.shaders.vertex, webgl.shaders.types.vertex);\r\n    fs = webgl.shaders.create(\r\n      gl, webgl.shaders.fragment, webgl.shaders.types.fragment);\r\n\r\n    this.program = webgl.program.create(gl, [vs, fs]);\r\n    gl.useProgram(this.program);\r\n\r\n    // Create and bind the drawing buffer\r\n\r\n    // look up where the vertex data needs to go.\r\n    this.program.position = gl.getAttribLocation(this.program, 'a_position');\r\n    this.program.matrix = gl.getUniformLocation(this.program, 'u_matrix');\r\n    this.program.textureCoords = gl.getAttribLocation(this.program, 'a_textureCoords');\r\n\r\n    // Copied from Three.js WebGLRenderer\r\n    gl.disable(gl.DEPTH_TEST);\r\n\r\n    // Setup some initial statements of the gl context\r\n    gl.enable(gl.BLEND);\r\n\r\n    // https://code.google.com/p/chromium/issues/detail?id=316393\r\n    // gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, gl.TRUE);\r\n\r\n    gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\r\n    gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA,\r\n      gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\r\n\r\n  };\r\n\r\n  _.extend(Renderer, {\r\n\r\n    Utils: webgl\r\n\r\n  });\r\n\r\n  _.extend(Renderer.prototype, Two.Utils.Events, {\r\n\r\n    setSize: function(width, height, ratio) {\r\n\r\n      this.width = width;\r\n      this.height = height;\r\n\r\n      this.ratio = _.isUndefined(ratio) ? getRatio(this.ctx) : ratio;\r\n\r\n      this.domElement.width = width * this.ratio;\r\n      this.domElement.height = height * this.ratio;\r\n\r\n      _.extend(this.domElement.style, {\r\n        width: width + 'px',\r\n        height: height + 'px'\r\n      });\r\n\r\n      width *= this.ratio;\r\n      height *= this.ratio;\r\n\r\n      // Set for this.stage parent scaling to account for HDPI\r\n      this._renderer.matrix[0] = this._renderer.matrix[4] = this._renderer.scale = this.ratio;\r\n\r\n      this._flagMatrix = true;\r\n\r\n      this.ctx.viewport(0, 0, width, height);\r\n\r\n      var resolutionLocation = this.ctx.getUniformLocation(\r\n        this.program, 'u_resolution');\r\n      this.ctx.uniform2f(resolutionLocation, width, height);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    render: function() {\r\n\r\n      var gl = this.ctx;\r\n\r\n      if (!this.overdraw) {\r\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n      }\r\n\r\n      webgl.group.render.call(this.scene, gl, this.program);\r\n      this._flagMatrix = false;\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var _ = Two.Utils;\r\n\r\n  var Shape = Two.Shape = function() {\r\n\r\n    // Private object for renderer specific variables.\r\n    this._renderer = {};\r\n    this._renderer.flagMatrix = _.bind(Shape.FlagMatrix, this);\r\n    this.isShape = true;\r\n\r\n    this.id = Two.Identifier + Two.uniqueId();\r\n    this.classList = [];\r\n\r\n    // Define matrix properties which all inherited\r\n    // objects of Shape have.\r\n\r\n    this._matrix = new Two.Matrix();\r\n\r\n    this.translation = new Two.Vector();\r\n    this.rotation = 0;\r\n    this.scale = 1;\r\n\r\n  };\r\n\r\n  _.extend(Shape, {\r\n\r\n    FlagMatrix: function() {\r\n      this._flagMatrix = true;\r\n    },\r\n\r\n    MakeObservable: function(object) {\r\n\r\n      Object.defineProperty(object, 'translation', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._translation;\r\n        },\r\n        set: function(v) {\r\n          if (this._translation) {\r\n            this._translation.unbind(Two.Events.change, this._renderer.flagMatrix);\r\n          }\r\n          this._translation = v;\r\n          this._translation.bind(Two.Events.change, this._renderer.flagMatrix);\r\n          Shape.FlagMatrix.call(this);\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'rotation', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._rotation;\r\n        },\r\n        set: function(v) {\r\n          this._rotation = v;\r\n          this._flagMatrix = true;\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'scale', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._scale;\r\n        },\r\n        set: function(v) {\r\n\r\n          if (this._scale instanceof Two.Vector) {\r\n            this._scale.unbind(Two.Events.change, this._renderer.flagMatrix);\r\n          }\r\n\r\n          this._scale = v;\r\n\r\n          if (this._scale instanceof Two.Vector) {\r\n            this._scale.bind(Two.Events.change, this._renderer.flagMatrix);\r\n          }\r\n\r\n          this._flagMatrix = true;\r\n          this._flagScale = true;\r\n\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Shape.prototype, Two.Utils.Events, {\r\n\r\n    // Flags\r\n\r\n    _flagMatrix: true,\r\n    _flagScale: false,\r\n\r\n    // _flagMask: false,\r\n    // _flagClip: false,\r\n\r\n    // Underlying Properties\r\n\r\n    _rotation: 0,\r\n    _scale: 1,\r\n    _translation: null,\r\n\r\n    // _mask: null,\r\n    // _clip: false,\r\n\r\n    addTo: function(group) {\r\n      group.add(this);\r\n      return this;\r\n    },\r\n\r\n    clone: function() {\r\n      var clone = new Shape();\r\n      clone.translation.copy(this.translation);\r\n      clone.rotation = this.rotation;\r\n      clone.scale = this.scale;\r\n      _.each(Shape.Properties, function(k) {\r\n        clone[k] = this[k];\r\n      }, this);\r\n      return clone._update();\r\n    },\r\n\r\n    /**\r\n     * To be called before render that calculates and collates all information\r\n     * to be as up-to-date as possible for the render. Called once a frame.\r\n     */\r\n    _update: function(deep) {\r\n\r\n      if (!this._matrix.manual && this._flagMatrix) {\r\n\r\n        this._matrix\r\n          .identity()\r\n          .translate(this.translation.x, this.translation.y);\r\n\r\n          if (this._scale instanceof Two.Vector) {\r\n            this._matrix.scale(this._scale.x, this._scale.y);\r\n          } else {\r\n            this._matrix.scale(this._scale);\r\n          }\r\n\r\n          this._matrix.rotate(this.rotation);\r\n\r\n      }\r\n\r\n      if (deep) {\r\n        // Bubble up to parents mainly for `getBoundingClientRect` method.\r\n        if (this.parent && this.parent._update) {\r\n          this.parent._update();\r\n        }\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagMatrix = this._flagScale = false;\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Shape.MakeObservable(Shape.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  /**\r\n   * Constants\r\n   */\r\n\r\n  var min = Math.min, max = Math.max, round = Math.round,\r\n    getComputedMatrix = Two.Utils.getComputedMatrix;\r\n\r\n  var commands = {};\r\n  var _ = Two.Utils;\r\n\r\n  _.each(Two.Commands, function(v, k) {\r\n    commands[k] = new RegExp(v);\r\n  });\r\n\r\n  var Path = Two.Path = function(vertices, closed, curved, manual) {\r\n\r\n    Two.Shape.call(this);\r\n\r\n    this._renderer.type = 'path';\r\n    this._renderer.flagVertices = _.bind(Path.FlagVertices, this);\r\n    this._renderer.bindVertices = _.bind(Path.BindVertices, this);\r\n    this._renderer.unbindVertices = _.bind(Path.UnbindVertices, this);\r\n\r\n    this._renderer.flagFill = _.bind(Path.FlagFill, this);\r\n    this._renderer.flagStroke = _.bind(Path.FlagStroke, this);\r\n\r\n    this._closed = !!closed;\r\n    this._curved = !!curved;\r\n\r\n    this.beginning = 0;\r\n    this.ending = 1;\r\n\r\n    // Style properties\r\n\r\n    this.fill = '#fff';\r\n    this.stroke = '#000';\r\n    this.linewidth = 1.0;\r\n    this.opacity = 1.0;\r\n    this.visible = true;\r\n\r\n    this.cap = 'butt';      // Default of Adobe Illustrator\r\n    this.join = 'miter';    // Default of Adobe Illustrator\r\n    this.miter = 4;         // Default of Adobe Illustrator\r\n\r\n    this._vertices = [];\r\n    this.vertices = vertices;\r\n\r\n    // Determines whether or not two.js should calculate curves, lines, and\r\n    // commands automatically for you or to let the developer manipulate them\r\n    // for themselves.\r\n    this.automatic = !manual;\r\n\r\n  };\r\n\r\n  _.extend(Path, {\r\n\r\n    Properties: [\r\n      'fill',\r\n      'stroke',\r\n      'linewidth',\r\n      'opacity',\r\n      'visible',\r\n      'cap',\r\n      'join',\r\n      'miter',\r\n\r\n      'closed',\r\n      'curved',\r\n      'automatic',\r\n      'beginning',\r\n      'ending'\r\n    ],\r\n\r\n    FlagVertices: function() {\r\n      this._flagVertices = true;\r\n      this._flagLength = true;\r\n    },\r\n\r\n    BindVertices: function(items) {\r\n\r\n      // This function is called a lot\r\n      // when importing a large SVG\r\n      var i = items.length;\r\n      while (i--) {\r\n        items[i].bind(Two.Events.change, this._renderer.flagVertices);\r\n      }\r\n\r\n      this._renderer.flagVertices();\r\n\r\n    },\r\n\r\n    UnbindVertices: function(items) {\r\n\r\n      var i = items.length;\r\n      while (i--) {\r\n        items[i].unbind(Two.Events.change, this._renderer.flagVertices);\r\n      }\r\n\r\n      this._renderer.flagVertices();\r\n\r\n    },\r\n\r\n    FlagFill: function() {\r\n      this._flagFill = true;\r\n    },\r\n\r\n    FlagStroke: function() {\r\n      this._flagStroke = true;\r\n    },\r\n\r\n    MakeObservable: function(object) {\r\n\r\n      Two.Shape.MakeObservable(object);\r\n\r\n      // Only the 6 defined properties are flagged like this. The subsequent\r\n      // properties behave differently and need to be hand written.\r\n      _.each(Path.Properties.slice(2, 8), Two.Utils.defineProperty, object);\r\n\r\n      Object.defineProperty(object, 'fill', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._fill;\r\n        },\r\n        set: function(f) {\r\n\r\n          if (this._fill instanceof Two.Gradient\r\n            || this._fill instanceof Two.LinearGradient\r\n            || this._fill instanceof Two.RadialGradient\r\n            || this._fill instanceof Two.Texture) {\r\n            this._fill.unbind(Two.Events.change, this._renderer.flagFill);\r\n          }\r\n\r\n          this._fill = f;\r\n          this._flagFill = true;\r\n\r\n          if (this._fill instanceof Two.Gradient\r\n            || this._fill instanceof Two.LinearGradient\r\n            || this._fill instanceof Two.RadialGradient\r\n            || this._fill instanceof Two.Texture) {\r\n            this._fill.bind(Two.Events.change, this._renderer.flagFill);\r\n          }\r\n\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'stroke', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._stroke;\r\n        },\r\n        set: function(f) {\r\n\r\n          if (this._stroke instanceof Two.Gradient\r\n            || this._stroke instanceof Two.LinearGradient\r\n            || this._stroke instanceof Two.RadialGradient\r\n            || this._stroke instanceof Two.Texture) {\r\n            this._stroke.unbind(Two.Events.change, this._renderer.flagStroke);\r\n          }\r\n\r\n          this._stroke = f;\r\n          this._flagStroke = true;\r\n\r\n          if (this._stroke instanceof Two.Gradient\r\n            || this._stroke instanceof Two.LinearGradient\r\n            || this._stroke instanceof Two.RadialGradient\r\n            || this._stroke instanceof Two.Texture) {\r\n            this._stroke.bind(Two.Events.change, this._renderer.flagStroke);\r\n          }\r\n\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'length', {\r\n        get: function() {\r\n          if (this._flagLength) {\r\n            this._updateLength();\r\n          }\r\n          return this._length;\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'closed', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._closed;\r\n        },\r\n        set: function(v) {\r\n          this._closed = !!v;\r\n          this._flagVertices = true;\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'curved', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._curved;\r\n        },\r\n        set: function(v) {\r\n          this._curved = !!v;\r\n          this._flagVertices = true;\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'automatic', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._automatic;\r\n        },\r\n        set: function(v) {\r\n          if (v === this._automatic) {\r\n            return;\r\n          }\r\n          this._automatic = !!v;\r\n          var method = this._automatic ? 'ignore' : 'listen';\r\n          _.each(this.vertices, function(v) {\r\n            v[method]();\r\n          });\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'beginning', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._beginning;\r\n        },\r\n        set: function(v) {\r\n          this._beginning = v;\r\n          this._flagVertices = true;\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'ending', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._ending;\r\n        },\r\n        set: function(v) {\r\n          this._ending = v;\r\n          this._flagVertices = true;\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'vertices', {\r\n\r\n        enumerable: true,\r\n\r\n        get: function() {\r\n          return this._collection;\r\n        },\r\n\r\n        set: function(vertices) {\r\n\r\n          var updateVertices = this._renderer.flagVertices;\r\n          var bindVertices = this._renderer.bindVertices;\r\n          var unbindVertices = this._renderer.unbindVertices;\r\n\r\n          // Remove previous listeners\r\n          if (this._collection) {\r\n            this._collection\r\n              .unbind(Two.Events.insert, bindVertices)\r\n              .unbind(Two.Events.remove, unbindVertices);\r\n          }\r\n\r\n          // Create new Collection with copy of vertices\r\n          this._collection = new Two.Utils.Collection((vertices || []).slice(0));\r\n\r\n          // Listen for Collection changes and bind / unbind\r\n          this._collection\r\n            .bind(Two.Events.insert, bindVertices)\r\n            .bind(Two.Events.remove, unbindVertices);\r\n\r\n          // Bind Initial Vertices\r\n          bindVertices(this._collection);\r\n\r\n        }\r\n\r\n      });\r\n\r\n      Object.defineProperty(object, 'clip', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._clip;\r\n        },\r\n        set: function(v) {\r\n          this._clip = v;\r\n          this._flagClip = true;\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Path.prototype, Two.Shape.prototype, {\r\n\r\n    // Flags\r\n    // http://en.wikipedia.org/wiki/Flag\r\n\r\n    _flagVertices: true,\r\n    _flagLength: true,\r\n\r\n    _flagFill: true,\r\n    _flagStroke: true,\r\n    _flagLinewidth: true,\r\n    _flagOpacity: true,\r\n    _flagVisible: true,\r\n\r\n    _flagCap: true,\r\n    _flagJoin: true,\r\n    _flagMiter: true,\r\n\r\n    _flagClip: false,\r\n\r\n    // Underlying Properties\r\n\r\n    _length: 0,\r\n\r\n    _fill: '#fff',\r\n    _stroke: '#000',\r\n    _linewidth: 1.0,\r\n    _opacity: 1.0,\r\n    _visible: true,\r\n\r\n    _cap: 'round',\r\n    _join: 'round',\r\n    _miter: 4,\r\n\r\n    _closed: true,\r\n    _curved: false,\r\n    _automatic: true,\r\n    _beginning: 0,\r\n    _ending: 1.0,\r\n\r\n    _clip: false,\r\n\r\n    clone: function(parent) {\r\n\r\n      parent = parent || this.parent;\r\n\r\n      var points = _.map(this.vertices, function(v) {\r\n        return v.clone();\r\n      });\r\n\r\n      var clone = new Path(points, this.closed, this.curved, !this.automatic);\r\n\r\n      _.each(Two.Path.Properties, function(k) {\r\n        clone[k] = this[k];\r\n      }, this);\r\n\r\n      clone.translation.copy(this.translation);\r\n      clone.rotation = this.rotation;\r\n      clone.scale = this.scale;\r\n\r\n      if (parent) {\r\n        parent.add(clone);\r\n      }\r\n\r\n      return clone;\r\n\r\n    },\r\n\r\n    toObject: function() {\r\n\r\n      var result = {\r\n        vertices: _.map(this.vertices, function(v) {\r\n          return v.toObject();\r\n        })\r\n      };\r\n\r\n      _.each(Two.Shape.Properties, function(k) {\r\n        result[k] = this[k];\r\n      }, this);\r\n\r\n      result.translation = this.translation.toObject;\r\n      result.rotation = this.rotation;\r\n      result.scale = this.scale;\r\n\r\n      return result;\r\n\r\n    },\r\n\r\n    noFill: function() {\r\n      this.fill = 'transparent';\r\n      return this;\r\n    },\r\n\r\n    noStroke: function() {\r\n      this.stroke = 'transparent';\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Orient the vertices of the shape to the upper lefthand\r\n     * corner of the path.\r\n     */\r\n    corner: function() {\r\n\r\n      var rect = this.getBoundingClientRect(true);\r\n\r\n      rect.centroid = {\r\n        x: rect.left + rect.width / 2,\r\n        y: rect.top + rect.height / 2\r\n      };\r\n\r\n      _.each(this.vertices, function(v) {\r\n        v.addSelf(rect.centroid);\r\n      });\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    /**\r\n     * Orient the vertices of the shape to the center of the\r\n     * path.\r\n     */\r\n    center: function() {\r\n\r\n      var rect = this.getBoundingClientRect(true);\r\n\r\n      rect.centroid = {\r\n        x: rect.left + rect.width / 2,\r\n        y: rect.top + rect.height / 2\r\n      };\r\n\r\n      _.each(this.vertices, function(v) {\r\n        v.subSelf(rect.centroid);\r\n      });\r\n\r\n      // this.translation.addSelf(rect.centroid);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    /**\r\n     * Remove self from the scene / parent.\r\n     */\r\n    remove: function() {\r\n\r\n      if (!this.parent) {\r\n        return this;\r\n      }\r\n\r\n      this.parent.remove(this);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    /**\r\n     * Return an object with top, left, right, bottom, width, and height\r\n     * parameters of the group.\r\n     */\r\n    getBoundingClientRect: function(shallow) {\r\n      var matrix, border, l, x, y, i, v;\r\n\r\n      var left = Infinity, right = -Infinity,\r\n          top = Infinity, bottom = -Infinity;\r\n\r\n      // TODO: Update this to not __always__ update. Just when it needs to.\r\n      this._update(true);\r\n\r\n      matrix = !!shallow ? this._matrix : getComputedMatrix(this);\r\n\r\n      border = this.linewidth / 2;\r\n      l = this._vertices.length;\r\n\r\n      if (l <= 0) {\r\n        v = matrix.multiply(0, 0, 1);\r\n        return {\r\n          top: v.y,\r\n          left: v.x,\r\n          right: v.x,\r\n          bottom: v.y,\r\n          width: 0,\r\n          height: 0\r\n        };\r\n      }\r\n\r\n      for (i = 0; i < l; i++) {\r\n        v = this._vertices[i];\r\n\r\n        x = v.x;\r\n        y = v.y;\r\n\r\n        v = matrix.multiply(x, y, 1);\r\n        top = min(v.y - border, top);\r\n        left = min(v.x - border, left);\r\n        right = max(v.x + border, right);\r\n        bottom = max(v.y + border, bottom);\r\n      }\r\n\r\n      return {\r\n        top: top,\r\n        left: left,\r\n        right: right,\r\n        bottom: bottom,\r\n        width: right - left,\r\n        height: bottom - top\r\n      };\r\n\r\n    },\r\n\r\n    /**\r\n     * Given a float `t` from 0 to 1, return a point or assign a passed `obj`'s\r\n     * coordinates to that percentage on this Two.Path's curve.\r\n     */\r\n    getPointAt: function(t, obj) {\r\n      var x, x1, x2, x3, x4, y, y1, y2, y3, y4, left, right;\r\n      var target = this.length * Math.min(Math.max(t, 0), 1);\r\n      var length = this.vertices.length;\r\n      var last = length - 1;\r\n\r\n      var a = null;\r\n      var b = null;\r\n\r\n      for (var i = 0, l = this._lengths.length, sum = 0; i < l; i++) {\r\n\r\n        if (sum + this._lengths[i] > target) {\r\n          a = this.vertices[this.closed ? Two.Utils.mod(i, length) : i];\r\n          b = this.vertices[Math.min(Math.max(i - 1, 0), last)];\r\n          target -= sum;\r\n          t = target / this._lengths[i];\r\n          break;\r\n        }\r\n\r\n        sum += this._lengths[i];\r\n\r\n      }\r\n\r\n      if (_.isNull(a) || _.isNull(b)) {\r\n        return null;\r\n      }\r\n\r\n      right = b.controls && b.controls.right;\r\n      left = a.controls && a.controls.left;\r\n\r\n      x1 = b.x;\r\n      y1 = b.y;\r\n      x2 = (right || b).x;\r\n      y2 = (right || b).y;\r\n      x3 = (left || a).x;\r\n      y3 = (left || a).y;\r\n      x4 = a.x;\r\n      y4 = a.y;\r\n\r\n      if (right && b._relative) {\r\n        x2 += b.x;\r\n        y2 += b.y;\r\n      }\r\n\r\n      if (left && a._relative) {\r\n        x3 += a.x;\r\n        y3 += a.y;\r\n      }\r\n\r\n      x = Two.Utils.getPointOnCubicBezier(t, x1, x2, x3, x4);\r\n      y = Two.Utils.getPointOnCubicBezier(t, y1, y2, y3, y4);\r\n\r\n      if (_.isObject(obj)) {\r\n        obj.x = x;\r\n        obj.y = y;\r\n        return obj;\r\n      }\r\n\r\n      return new Two.Vector(x, y);\r\n\r\n    },\r\n\r\n    /**\r\n     * Based on closed / curved and sorting of vertices plot where all points\r\n     * should be and where the respective handles should be too.\r\n     */\r\n    plot: function() {\r\n\r\n      if (this.curved) {\r\n        Two.Utils.getCurveFromPoints(this._vertices, this.closed);\r\n        return this;\r\n      }\r\n\r\n      for (var i = 0; i < this._vertices.length; i++) {\r\n        this._vertices[i]._command = i === 0 ? Two.Commands.move : Two.Commands.line;\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    subdivide: function(limit) {\r\n      //TODO: DRYness (function below)\r\n      this._update();\r\n\r\n      var last = this.vertices.length - 1;\r\n      var b = this.vertices[last];\r\n      var closed = this._closed || this.vertices[last]._command === Two.Commands.close;\r\n      var points = [];\r\n      _.each(this.vertices, function(a, i) {\r\n\r\n        if (i <= 0 && !closed) {\r\n          b = a;\r\n          return;\r\n        }\r\n\r\n        if (a.command === Two.Commands.move) {\r\n          points.push(new Two.Anchor(b.x, b.y));\r\n          if (i > 0) {\r\n            points[points.length - 1].command = Two.Commands.line;\r\n          }\r\n          b = a;\r\n          return;\r\n        }\r\n\r\n        var verts = getSubdivisions(a, b, limit);\r\n        points = points.concat(verts);\r\n\r\n        // Assign commands to all the verts\r\n        _.each(verts, function(v, i) {\r\n          if (i <= 0 && b.command === Two.Commands.move) {\r\n            v.command = Two.Commands.move;\r\n          } else {\r\n            v.command = Two.Commands.line;\r\n          }\r\n        });\r\n\r\n        if (i >= last) {\r\n\r\n          // TODO: Add check if the two vectors in question are the same values.\r\n          if (this._closed && this._automatic) {\r\n\r\n            b = a;\r\n\r\n            verts = getSubdivisions(a, b, limit);\r\n            points = points.concat(verts);\r\n\r\n            // Assign commands to all the verts\r\n            _.each(verts, function(v, i) {\r\n              if (i <= 0 && b.command === Two.Commands.move) {\r\n                v.command = Two.Commands.move;\r\n              } else {\r\n                v.command = Two.Commands.line;\r\n              }\r\n            });\r\n\r\n          } else if (closed) {\r\n            points.push(new Two.Anchor(a.x, a.y));\r\n          }\r\n\r\n          points[points.length - 1].command = closed ? Two.Commands.close : Two.Commands.line;\r\n\r\n        }\r\n\r\n        b = a;\r\n\r\n      }, this);\r\n\r\n      this._automatic = false;\r\n      this._curved = false;\r\n      this.vertices = points;\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    _updateLength: function(limit) {\r\n      //TODO: DRYness (function above)\r\n      this._update();\r\n\r\n      var last = this.vertices.length - 1;\r\n      var b = this.vertices[last];\r\n      var closed = this._closed || this.vertices[last]._command === Two.Commands.close;\r\n      var sum = 0;\r\n\r\n      if (_.isUndefined(this._lengths)) {\r\n        this._lengths = [];\r\n      }\r\n\r\n      _.each(this.vertices, function(a, i) {\r\n\r\n        if ((i <= 0 && !closed) || a.command === Two.Commands.move) {\r\n          b = a;\r\n          this._lengths[i] = 0;\r\n          return;\r\n        }\r\n\r\n        this._lengths[i] = getCurveLength(a, b, limit);\r\n        sum += this._lengths[i];\r\n\r\n        if (i >= last && closed) {\r\n\r\n          b = a;\r\n\r\n          this._lengths[i + 1] = getCurveLength(a, b, limit);\r\n          sum += this._lengths[i + 1];\r\n\r\n        }\r\n\r\n        b = a;\r\n\r\n      }, this);\r\n\r\n      this._length = sum;\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagVertices) {\r\n\r\n        var l = this.vertices.length;\r\n        var last = l - 1, v;\r\n\r\n        // TODO: Should clamp this so that `ia` and `ib`\r\n        // cannot select non-verts.\r\n        var ia = round((this._beginning) * last);\r\n        var ib = round((this._ending) * last);\r\n\r\n        this._vertices.length = 0;\r\n\r\n        for (var i = ia; i < ib + 1; i++) {\r\n          v = this.vertices[i];\r\n          this._vertices.push(v);\r\n        }\r\n\r\n        if (this._automatic) {\r\n          this.plot();\r\n        }\r\n\r\n      }\r\n\r\n      Two.Shape.prototype._update.apply(this, arguments);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagVertices =  this._flagFill =  this._flagStroke =\r\n         this._flagLinewidth = this._flagOpacity = this._flagVisible =\r\n         this._flagCap = this._flagJoin = this._flagMiter =\r\n         this._flagClip = false;\r\n\r\n      Two.Shape.prototype.flagReset.call(this);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Path.MakeObservable(Path.prototype);\r\n\r\n  /**\r\n   * Utility functions\r\n   */\r\n\r\n  function getCurveLength(a, b, limit) {\r\n    // TODO: DRYness\r\n    var x1, x2, x3, x4, y1, y2, y3, y4;\r\n\r\n    var right = b.controls && b.controls.right;\r\n    var left = a.controls && a.controls.left;\r\n\r\n    x1 = b.x;\r\n    y1 = b.y;\r\n    x2 = (right || b).x;\r\n    y2 = (right || b).y;\r\n    x3 = (left || a).x;\r\n    y3 = (left || a).y;\r\n    x4 = a.x;\r\n    y4 = a.y;\r\n\r\n    if (right && b._relative) {\r\n      x2 += b.x;\r\n      y2 += b.y;\r\n    }\r\n\r\n    if (left && a._relative) {\r\n      x3 += a.x;\r\n      y3 += a.y;\r\n    }\r\n\r\n    return Two.Utils.getCurveLength(x1, y1, x2, y2, x3, y3, x4, y4, limit);\r\n\r\n  }\r\n\r\n  function getSubdivisions(a, b, limit) {\r\n    // TODO: DRYness\r\n    var x1, x2, x3, x4, y1, y2, y3, y4;\r\n\r\n    var right = b.controls && b.controls.right;\r\n    var left = a.controls && a.controls.left;\r\n\r\n    x1 = b.x;\r\n    y1 = b.y;\r\n    x2 = (right || b).x;\r\n    y2 = (right || b).y;\r\n    x3 = (left || a).x;\r\n    y3 = (left || a).y;\r\n    x4 = a.x;\r\n    y4 = a.y;\r\n\r\n    if (right && b._relative) {\r\n      x2 += b.x;\r\n      y2 += b.y;\r\n    }\r\n\r\n    if (left && a._relative) {\r\n      x3 += a.x;\r\n      y3 += a.y;\r\n    }\r\n\r\n    return Two.Utils.subdivide(x1, y1, x2, y2, x3, y3, x4, y4, limit);\r\n\r\n  }\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var Path = Two.Path;\r\n  var _ = Two.Utils;\r\n\r\n  var Line = Two.Line = function(x1, y1, x2, y2) {\r\n\r\n    var width = x2 - x1;\r\n    var height = y2 - y1;\r\n\r\n    var w2 = width / 2;\r\n    var h2 = height / 2;\r\n\r\n    Path.call(this, [\r\n        new Two.Anchor(- w2, - h2),\r\n        new Two.Anchor(w2, h2)\r\n    ]);\r\n\r\n    this.translation.set(x1 + w2, y1 + h2);\r\n\r\n  };\r\n\r\n  _.extend(Line.prototype, Path.prototype);\r\n\r\n  Path.MakeObservable(Line.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var Path = Two.Path;\r\n  var _ = Two.Utils;\r\n\r\n  var Rectangle = Two.Rectangle = function(x, y, width, height) {\r\n\r\n    Path.call(this, [\r\n      new Two.Anchor(),\r\n      new Two.Anchor(),\r\n      new Two.Anchor(),\r\n      new Two.Anchor()\r\n    ], true);\r\n\r\n    this.width = width;\r\n    this.height = height;\r\n    this._update();\r\n\r\n    this.translation.set(x, y);\r\n\r\n  };\r\n\r\n  _.extend(Rectangle, {\r\n\r\n    Properties: ['width', 'height'],\r\n\r\n    MakeObservable: function(obj) {\r\n      Path.MakeObservable(obj);\r\n      _.each(Rectangle.Properties, Two.Utils.defineProperty, obj);\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Rectangle.prototype, Path.prototype, {\r\n\r\n    _width: 0,\r\n    _height: 0,\r\n\r\n    _flagWidth: 0,\r\n    _flagHeight: 0,\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagWidth || this._flagHeight) {\r\n\r\n        var xr = this._width / 2;\r\n        var yr = this._height / 2;\r\n\r\n        this.vertices[0].set(-xr, -yr);\r\n        this.vertices[1].set(xr, -yr);\r\n        this.vertices[2].set(xr, yr);\r\n        this.vertices[3].set(-xr, yr);\r\n\r\n      }\r\n\r\n      Path.prototype._update.call(this);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagWidth = this._flagHeight = false;\r\n      Path.prototype.flagReset.call(this);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Rectangle.MakeObservable(Rectangle.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var Path = Two.Path, TWO_PI = Math.PI * 2, cos = Math.cos, sin = Math.sin;\r\n  var _ = Two.Utils;\r\n\r\n  var Ellipse = Two.Ellipse = function(ox, oy, rx, ry) {\r\n\r\n    if (!_.isNumber(ry)) {\r\n      ry = rx;\r\n    }\r\n\r\n    var amount = Two.Resolution;\r\n\r\n    var points = _.map(_.range(amount), function(i) {\r\n      return new Two.Anchor();\r\n    }, this);\r\n\r\n    Path.call(this, points, true, true);\r\n\r\n    this.width = rx * 2;\r\n    this.height = ry * 2;\r\n\r\n    this._update();\r\n    this.translation.set(ox, oy);\r\n\r\n  };\r\n\r\n  _.extend(Ellipse, {\r\n\r\n    Properties: ['width', 'height'],\r\n\r\n    MakeObservable: function(obj) {\r\n\r\n      Path.MakeObservable(obj);\r\n      _.each(Ellipse.Properties, Two.Utils.defineProperty, obj);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Ellipse.prototype, Path.prototype, {\r\n\r\n    _width: 0,\r\n    _height: 0,\r\n\r\n    _flagWidth: false,\r\n    _flagHeight: false,\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagWidth || this._flagHeight) {\r\n        for (var i = 0, l = this.vertices.length; i < l; i++) {\r\n          var pct = i / l;\r\n          var theta = pct * TWO_PI;\r\n          var x = this._width * cos(theta) / 2;\r\n          var y = this._height * sin(theta) / 2;\r\n          this.vertices[i].set(x, y);\r\n        }\r\n      }\r\n\r\n      Path.prototype._update.call(this);\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagWidth = this._flagHeight = false;\r\n\r\n      Path.prototype.flagReset.call(this);\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Ellipse.MakeObservable(Ellipse.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var Path = Two.Path, TWO_PI = Math.PI * 2, cos = Math.cos, sin = Math.sin;\r\n  var _ = Two.Utils;\r\n\r\n  var Circle = Two.Circle = function(ox, oy, r) {\r\n\r\n    var amount = Two.Resolution;\r\n\r\n    var points = _.map(_.range(amount), function(i) {\r\n      return new Two.Anchor();\r\n    }, this);\r\n\r\n    Path.call(this, points, true, true);\r\n\r\n    this.radius = r;\r\n\r\n    this._update();\r\n    this.translation.set(ox, oy);\r\n\r\n  };\r\n\r\n  _.extend(Circle, {\r\n\r\n    Properties: ['radius'],\r\n\r\n    MakeObservable: function(obj) {\r\n\r\n      Path.MakeObservable(obj);\r\n      _.each(Circle.Properties, Two.Utils.defineProperty, obj);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Circle.prototype, Path.prototype, {\r\n\r\n    _radius: 0,\r\n    _flagRadius: false,\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagRadius) {\r\n        for (var i = 0, l = this.vertices.length; i < l; i++) {\r\n          var pct = i / l;\r\n          var theta = pct * TWO_PI;\r\n          var x = this._radius * cos(theta);\r\n          var y = this._radius * sin(theta);\r\n          this.vertices[i].set(x, y);\r\n        }\r\n      }\r\n\r\n      Path.prototype._update.call(this);\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagRadius = false;\r\n\r\n      Path.prototype.flagReset.call(this);\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Circle.MakeObservable(Circle.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var Path = Two.Path, TWO_PI = Math.PI * 2, cos = Math.cos, sin = Math.sin;\r\n  var _ = Two.Utils;\r\n\r\n  var Polygon = Two.Polygon = function(ox, oy, r, sides) {\r\n\r\n    sides = Math.max(sides || 0, 3);\r\n\r\n    var points = _.map(_.range(sides), function(i) {\r\n      return new Two.Anchor();\r\n    });\r\n\r\n    Path.call(this, points, true);\r\n\r\n    this.width = r * 2;\r\n    this.height = r * 2;\r\n    this.sides = sides;\r\n\r\n    this._update();\r\n    this.translation.set(ox, oy);\r\n\r\n  };\r\n\r\n  _.extend(Polygon, {\r\n\r\n    Properties: ['width', 'height', 'sides'],\r\n\r\n    MakeObservable: function(obj) {\r\n\r\n      Path.MakeObservable(obj);\r\n      _.each(Polygon.Properties, Two.Utils.defineProperty, obj);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Polygon.prototype, Path.prototype, {\r\n\r\n    _width: 0,\r\n    _height: 0,\r\n    _sides: 0,\r\n\r\n    _flagWidth: false,\r\n    _flagHeight: false,\r\n    _flagSides: false,\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagWidth || this._flagHeight || this._flagSides) {\r\n\r\n        var sides = this._sides;\r\n        var amount = this.vertices.length;\r\n\r\n        if (amount > sides) {\r\n          this.vertices.splice(sides - 1, amount - sides);\r\n        }\r\n\r\n        for (var i = 0; i < sides; i++) {\r\n\r\n          var pct = (i + 0.5) / sides;\r\n          var theta = TWO_PI * pct + Math.PI / 2;\r\n          var x = this._width * cos(theta);\r\n          var y = this._height * sin(theta);\r\n\r\n          if (i >= amount) {\r\n            this.vertices.push(new Two.Anchor(x, y));\r\n          } else {\r\n            this.vertices[i].set(x, y);\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n      Path.prototype._update.call(this);\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagWidth = this._flagHeight = this._flagSides = false;\r\n      Path.prototype.flagReset.call(this);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Polygon.MakeObservable(Polygon.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var Path = Two.Path, PI = Math.PI, TWO_PI = Math.PI * 2, HALF_PI = Math.PI / 2,\r\n    cos = Math.cos, sin = Math.sin, abs = Math.abs, _ = Two.Utils;\r\n\r\n  var ArcSegment = Two.ArcSegment = function(ox, oy, ir, or, sa, ea, res) {\r\n\r\n    var points = _.map(_.range(res || (Two.Resolution * 3)), function() {\r\n      return new Two.Anchor();\r\n    });\r\n\r\n    Path.call(this, points, false, false, true);\r\n\r\n    this.innerRadius = ir;\r\n    this.outerRadius = or;\r\n\r\n    this.startAngle = sa;\r\n    this.endAngle = ea;\r\n\r\n    this._update();\r\n    this.translation.set(ox, oy);\r\n\r\n  }\r\n\r\n  _.extend(ArcSegment, {\r\n\r\n    Properties: ['startAngle', 'endAngle', 'innerRadius', 'outerRadius'],\r\n\r\n    MakeObservable: function(obj) {\r\n\r\n      Path.MakeObservable(obj);\r\n      _.each(ArcSegment.Properties, Two.Utils.defineProperty, obj);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(ArcSegment.prototype, Path.prototype, {\r\n\r\n    _flagStartAngle: false,\r\n    _flagEndAngle: false,\r\n    _flagInnerRadius: false,\r\n    _flagOuterRadius: false,\r\n\r\n    _startAngle: 0,\r\n    _endAngle: TWO_PI,\r\n    _innerRadius: 0,\r\n    _outerRadius: 0,\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagStartAngle || this._flagEndAngle || this._flagInnerRadius\r\n        || this._flagOuterRadius) {\r\n\r\n        var sa = this._startAngle;\r\n        var ea = this._endAngle;\r\n\r\n        var ir = this._innerRadius;\r\n        var or = this._outerRadius;\r\n\r\n        var connected = mod(sa, TWO_PI) === mod(ea, TWO_PI);\r\n        var punctured = ir > 0;\r\n\r\n        var vertices = this.vertices;\r\n        var length = (punctured ? vertices.length / 2 : vertices.length);\r\n        var command, id = 0;\r\n\r\n        if (connected) {\r\n          length--;\r\n        } else if (!punctured) {\r\n          length -= 2;\r\n        }\r\n\r\n        /**\r\n         * Outer Circle\r\n         */\r\n        for (var i = 0, last = length - 1; i < length; i++) {\r\n\r\n          var pct = i / last;\r\n          var v = vertices[id];\r\n          var theta = pct * (ea - sa) + sa;\r\n          var step = (ea - sa) / length;\r\n\r\n          var x = or * Math.cos(theta);\r\n          var y = or * Math.sin(theta);\r\n\r\n          switch (i) {\r\n            case 0:\r\n              command = Two.Commands.move;\r\n              break;\r\n            default:\r\n              command = Two.Commands.curve;\r\n          }\r\n\r\n          v.command = command;\r\n          v.x = x;\r\n          v.y = y;\r\n          v.controls.left.clear();\r\n          v.controls.right.clear();\r\n\r\n          if (v.command === Two.Commands.curve) {\r\n            var amp = or * step / Math.PI;\r\n            v.controls.left.x = amp * Math.cos(theta - HALF_PI);\r\n            v.controls.left.y = amp * Math.sin(theta - HALF_PI);\r\n            v.controls.right.x = amp * Math.cos(theta + HALF_PI);\r\n            v.controls.right.y = amp * Math.sin(theta + HALF_PI);\r\n            if (i === 1) {\r\n              v.controls.left.multiplyScalar(2);\r\n            }\r\n            if (i === last) {\r\n              v.controls.right.multiplyScalar(2);\r\n            }\r\n          }\r\n\r\n          id++;\r\n\r\n        }\r\n\r\n        if (punctured) {\r\n\r\n          if (connected) {\r\n            vertices[id].command = Two.Commands.close;\r\n            id++;\r\n          } else {\r\n            length--;\r\n            last = length - 1;\r\n          }\r\n\r\n          /**\r\n           * Inner Circle\r\n           */\r\n          for (i = 0; i < length; i++) {\r\n\r\n            pct = i / last;\r\n            v = vertices[id];\r\n            theta = (1 - pct) * (ea - sa) + sa;\r\n            step = (ea - sa) / length;\r\n\r\n            x = ir * Math.cos(theta);\r\n            y = ir * Math.sin(theta);\r\n            command = Two.Commands.curve;\r\n            if (i <= 0) {\r\n              command = connected ? Two.Commands.move : Two.Commands.line;\r\n            }\r\n\r\n            v.command = command;\r\n            v.x = x;\r\n            v.y = y;\r\n            v.controls.left.clear();\r\n            v.controls.right.clear();\r\n\r\n            if (v.command === Two.Commands.curve) {\r\n              amp = ir * step / Math.PI;\r\n              v.controls.left.x = amp * Math.cos(theta + HALF_PI);\r\n              v.controls.left.y = amp * Math.sin(theta + HALF_PI);\r\n              v.controls.right.x = amp * Math.cos(theta - HALF_PI);\r\n              v.controls.right.y = amp * Math.sin(theta - HALF_PI);\r\n              if (i === 1) {\r\n                v.controls.left.multiplyScalar(2);\r\n              }\r\n              if (i === last) {\r\n                v.controls.right.multiplyScalar(2);\r\n              }\r\n            }\r\n\r\n            id++;\r\n\r\n          }\r\n\r\n        } else if (!connected) {\r\n\r\n          vertices[id].command = Two.Commands.line;\r\n          vertices[id].x = 0;\r\n          vertices[id].y = 0;\r\n          id++;\r\n\r\n        }\r\n\r\n        /**\r\n         * Final Point\r\n         */\r\n        vertices[id].command = Two.Commands.close;\r\n\r\n      }\r\n\r\n      Path.prototype._update.call(this);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      Path.prototype.flagReset.call(this);\r\n\r\n      this._flagStartAngle = this._flagEndAngle\r\n        = this._flagInnerRadius = this._flagOuterRadius = false;\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  ArcSegment.MakeObservable(ArcSegment.prototype);\r\n\r\n  function mod(v, l) {\r\n    while (v < 0) {\r\n      v += l;\r\n    }\r\n    return v % l;\r\n  }\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var Path = Two.Path, TWO_PI = Math.PI * 2, cos = Math.cos, sin = Math.sin;\r\n  var _ = Two.Utils;\r\n\r\n  var Star = Two.Star = function(ox, oy, or, ir, sides) {\r\n\r\n    if (!_.isNumber(ir)) {\r\n      ir = or / 2;\r\n    }\r\n\r\n    if (!_.isNumber(sides) || sides <= 0) {\r\n      sides = 5;\r\n    }\r\n\r\n    var length = sides * 2;\r\n\r\n    var points = _.map(_.range(length), function(i) {\r\n      return new Two.Anchor();\r\n    });\r\n\r\n    Path.call(this, points, true);\r\n\r\n    this.innerRadius = ir;\r\n    this.outerRadius = or;\r\n    this.sides = sides;\r\n\r\n    this._update();\r\n    this.translation.set(ox, oy);\r\n\r\n  };\r\n\r\n  _.extend(Star, {\r\n\r\n    Properties: ['innerRadius', 'outerRadius', 'sides'],\r\n\r\n    MakeObservable: function(obj) {\r\n\r\n      Path.MakeObservable(obj);\r\n      _.each(Star.Properties, Two.Utils.defineProperty, obj);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Star.prototype, Path.prototype, {\r\n\r\n    _innerRadius: 0,\r\n    _outerRadius: 0,\r\n    _sides: 0,\r\n\r\n    _flagInnerRadius: false,\r\n    _flagOuterRadius: false,\r\n    _flagSides: false,\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagInnerRadius || this._flagOuterRadius || this._flagSides) {\r\n\r\n        var sides = this._sides * 2;\r\n        var amount = this.vertices.length;\r\n\r\n        if (amount > sides) {\r\n          this.vertices.splice(sides - 1, amount - sides);\r\n        }\r\n\r\n        for (var i = 0; i < sides; i++) {\r\n\r\n          var pct = (i + 0.5) / sides;\r\n          var theta = TWO_PI * pct;\r\n          var r = (i % 2 ? this._innerRadius : this._outerRadius);\r\n          var x = r * cos(theta);\r\n          var y = r * sin(theta);\r\n\r\n          if (i >= amount) {\r\n            this.vertices.push(new Two.Anchor(x, y));\r\n          } else {\r\n            this.vertices[i].set(x, y);\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n      Path.prototype._update.call(this);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagInnerRadius = this._flagOuterRadius = this._flagSides = false;\r\n      Path.prototype.flagReset.call(this);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Star.MakeObservable(Star.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var Path = Two.Path;\r\n  var _ = Two.Utils;\r\n\r\n  var RoundedRectangle = Two.RoundedRectangle = function(ox, oy, width, height, radius) {\r\n\r\n    if (!_.isNumber(radius)) {\r\n      radius = Math.floor(Math.min(width, height) / 12);\r\n    }\r\n\r\n    var amount = 10;\r\n\r\n    var points = _.map(_.range(amount), function(i) {\r\n      return new Two.Anchor(0, 0, 0, 0, 0, 0,\r\n        i === 0 ? Two.Commands.move : Two.Commands.curve);\r\n    });\r\n\r\n    points[points.length - 1].command = Two.Commands.close;\r\n\r\n    Path.call(this, points, false, false, true);\r\n\r\n    this.width = width;\r\n    this.height = height;\r\n    this.radius = radius;\r\n\r\n    this._update();\r\n    this.translation.set(ox, oy);\r\n\r\n  };\r\n\r\n  _.extend(RoundedRectangle, {\r\n\r\n    Properties: ['width', 'height', 'radius'],\r\n\r\n    MakeObservable: function(obj) {\r\n\r\n      Path.MakeObservable(obj);\r\n      _.each(RoundedRectangle.Properties, Two.Utils.defineProperty, obj);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(RoundedRectangle.prototype, Path.prototype, {\r\n\r\n    _width: 0,\r\n    _height: 0,\r\n    _radius: 0,\r\n\r\n    _flagWidth: false,\r\n    _flagHeight: false,\r\n    _flagRadius: false,\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagWidth || this._flagHeight || this._flagRadius) {\r\n\r\n        var width = this._width;\r\n        var height = this._height;\r\n        var radius = Math.min(Math.max(this._radius, 0),\r\n          Math.min(width, height));\r\n\r\n        var v;\r\n        var w = width / 2;\r\n        var h = height / 2;\r\n\r\n        v = this.vertices[0];\r\n        v.x = - (w - radius);\r\n        v.y = - h;\r\n\r\n        // Upper Right Corner\r\n\r\n        v = this.vertices[1];\r\n        v.x = (w - radius);\r\n        v.y = - h;\r\n        v.controls.left.clear();\r\n        v.controls.right.x = radius;\r\n        v.controls.right.y = 0;\r\n\r\n        v = this.vertices[2];\r\n        v.x = w;\r\n        v.y = - (h - radius);\r\n        v.controls.right.clear();\r\n        v.controls.left.clear();\r\n\r\n        // Bottom Right Corner\r\n\r\n        v = this.vertices[3];\r\n        v.x = w;\r\n        v.y = (h - radius);\r\n        v.controls.left.clear();\r\n        v.controls.right.x = 0;\r\n        v.controls.right.y = radius;\r\n\r\n        v = this.vertices[4];\r\n        v.x = (w - radius);\r\n        v.y = h;\r\n        v.controls.right.clear();\r\n        v.controls.left.clear();\r\n\r\n        // Bottom Left Corner\r\n\r\n        v = this.vertices[5];\r\n        v.x = - (w - radius);\r\n        v.y = h;\r\n        v.controls.left.clear();\r\n        v.controls.right.x = - radius;\r\n        v.controls.right.y = 0;\r\n\r\n        v = this.vertices[6];\r\n        v.x = - w;\r\n        v.y = (h - radius);\r\n        v.controls.left.clear();\r\n        v.controls.right.clear();\r\n\r\n        // Upper Left Corner\r\n\r\n        v = this.vertices[7];\r\n        v.x = - w;\r\n        v.y = - (h - radius);\r\n        v.controls.left.clear();\r\n        v.controls.right.x = 0;\r\n        v.controls.right.y = - radius;\r\n\r\n        v = this.vertices[8];\r\n        v.x = - (w - radius);\r\n        v.y = - h;\r\n        v.controls.left.clear();\r\n        v.controls.right.clear();\r\n\r\n        v = this.vertices[9];\r\n        v.copy(this.vertices[8]);\r\n\r\n      }\r\n\r\n      Path.prototype._update.call(this);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagWidth = this._flagHeight = this._flagRadius = false;\r\n      Path.prototype.flagReset.call(this);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  RoundedRectangle.MakeObservable(RoundedRectangle.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var root = Two.root;\r\n  var getComputedMatrix = Two.Utils.getComputedMatrix;\r\n  var _ = Two.Utils;\r\n\r\n  var canvas = (root.document ? root.document.createElement('canvas') : { getContext: _.identity });\r\n  var ctx = canvas.getContext('2d');\r\n\r\n  var Text = Two.Text = function(message, x, y, styles) {\r\n\r\n    Two.Shape.call(this);\r\n\r\n    this._renderer.type = 'text';\r\n    this._renderer.flagFill = _.bind(Text.FlagFill, this);\r\n    this._renderer.flagStroke = _.bind(Text.FlagStroke, this);\r\n\r\n    this.value = message;\r\n\r\n    if (_.isNumber(x)) {\r\n        this.translation.x = x;\r\n    }\r\n    if (_.isNumber(y)) {\r\n        this.translation.y = y;\r\n    }\r\n\r\n    if (!_.isObject(styles)) {\r\n      return this;\r\n    }\r\n\r\n    _.each(Two.Text.Properties, function(property) {\r\n\r\n      if (property in styles) {\r\n        this[property] = styles[property];\r\n      }\r\n\r\n    }, this);\r\n\r\n  };\r\n\r\n  _.extend(Two.Text, {\r\n\r\n    Properties: [\r\n      'value', 'family', 'size', 'leading', 'alignment', 'linewidth', 'style',\r\n      'weight', 'decoration', 'baseline', 'opacity', 'visible', 'fill', 'stroke'\r\n    ],\r\n\r\n    FlagFill: function() {\r\n      this._flagFill = true;\r\n    },\r\n\r\n    FlagStroke: function() {\r\n      this._flagStroke = true;\r\n    },\r\n\r\n    MakeObservable: function(object) {\r\n\r\n      Two.Shape.MakeObservable(object);\r\n\r\n      _.each(Two.Text.Properties.slice(0, 12), Two.Utils.defineProperty, object);\r\n\r\n      Object.defineProperty(object, 'fill', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._fill;\r\n        },\r\n        set: function(f) {\r\n\r\n          if (this._fill instanceof Two.Gradient\r\n            || this._fill instanceof Two.LinearGradient\r\n            || this._fill instanceof Two.RadialGradient\r\n            || this._fill instanceof Two.Texture) {\r\n            this._fill.unbind(Two.Events.change, this._renderer.flagFill);\r\n          }\r\n\r\n          this._fill = f;\r\n          this._flagFill = true;\r\n\r\n          if (this._fill instanceof Two.Gradient\r\n            || this._fill instanceof Two.LinearGradient\r\n            || this._fill instanceof Two.RadialGradient\r\n            || this._fill instanceof Two.Texture) {\r\n            this._fill.bind(Two.Events.change, this._renderer.flagFill);\r\n          }\r\n\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'stroke', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._stroke;\r\n        },\r\n        set: function(f) {\r\n\r\n          if (this._stroke instanceof Two.Gradient\r\n            || this._stroke instanceof Two.LinearGradient\r\n            || this._stroke instanceof Two.RadialGradient\r\n            || this._stroke instanceof Two.Texture) {\r\n            this._stroke.unbind(Two.Events.change, this._renderer.flagStroke);\r\n          }\r\n\r\n          this._stroke = f;\r\n          this._flagStroke = true;\r\n\r\n          if (this._stroke instanceof Two.Gradient\r\n            || this._stroke instanceof Two.LinearGradient\r\n            || this._stroke instanceof Two.RadialGradient\r\n            || this._stroke instanceof Two.Texture) {\r\n            this._stroke.bind(Two.Events.change, this._renderer.flagStroke);\r\n          }\r\n\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'clip', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._clip;\r\n        },\r\n        set: function(v) {\r\n          this._clip = v;\r\n          this._flagClip = true;\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Two.Text.prototype, Two.Shape.prototype, {\r\n\r\n    // Flags\r\n    // http://en.wikipedia.org/wiki/Flag\r\n\r\n    _flagValue: true,\r\n    _flagFamily: true,\r\n    _flagSize: true,\r\n    _flagLeading: true,\r\n    _flagAlignment: true,\r\n    _flagBaseline: true,\r\n    _flagStyle: true,\r\n    _flagWeight: true,\r\n    _flagDecoration: true,\r\n\r\n    _flagFill: true,\r\n    _flagStroke: true,\r\n    _flagLinewidth: true,\r\n    _flagOpacity: true,\r\n    _flagVisible: true,\r\n\r\n    _flagClip: false,\r\n\r\n    // Underlying Properties\r\n\r\n    _value: '',\r\n    _family: 'sans-serif',\r\n    _size: 13,\r\n    _leading: 17,\r\n    _alignment: 'center',\r\n    _baseline: 'middle',\r\n    _style: 'normal',\r\n    _weight: 500,\r\n    _decoration: 'none',\r\n\r\n    _fill: '#000',\r\n    _stroke: 'transparent',\r\n    _linewidth: 1,\r\n    _opacity: 1,\r\n    _visible: true,\r\n\r\n    _clip: false,\r\n\r\n    remove: function() {\r\n\r\n      if (!this.parent) {\r\n        return this;\r\n      }\r\n\r\n      this.parent.remove(this);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    clone: function(parent) {\r\n\r\n      var parent = parent || this.parent;\r\n\r\n      var clone = new Two.Text(this.value);\r\n      clone.translation.copy(this.translation);\r\n      clone.rotation = this.rotation;\r\n      clone.scale = this.scale;\r\n\r\n      _.each(Two.Text.Properties, function(property) {\r\n        clone[property] = this[property];\r\n      }, this);\r\n\r\n      if (parent) {\r\n        parent.add(clone);\r\n      }\r\n\r\n      return clone;\r\n\r\n    },\r\n\r\n    toObject: function() {\r\n\r\n      var result = {\r\n        translation: this.translation.toObject(),\r\n        rotation: this.rotation,\r\n        scale: this.scale\r\n      };\r\n\r\n      _.each(Two.Text.Properties, function(property) {\r\n        result[property] = this[property];\r\n      }, this);\r\n\r\n      return result;\r\n\r\n    },\r\n\r\n    noStroke: function() {\r\n      this.stroke = 'transparent';\r\n      return this;\r\n    },\r\n\r\n    noFill: function() {\r\n      this.fill = 'transparent';\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * A shim to not break `getBoundingClientRect` calls. TODO: Implement a\r\n     * way to calculate proper bounding boxes of `Two.Text`.\r\n     */\r\n    getBoundingClientRect: function(shallow) {\r\n\r\n      var matrix, border, l, x, y, i, v;\r\n\r\n      var left = Infinity, right = -Infinity,\r\n          top = Infinity, bottom = -Infinity;\r\n\r\n      // TODO: Update this to not __always__ update. Just when it needs to.\r\n      this._update(true);\r\n\r\n      matrix = !!shallow ? this._matrix : getComputedMatrix(this);\r\n\r\n      v = matrix.multiply(0, 0, 1);\r\n\r\n      return {\r\n        top: v.x,\r\n        left: v.y,\r\n        right: v.x,\r\n        bottom: v.y,\r\n        width: 0,\r\n        height: 0\r\n      };\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagValue = this._flagFamily = this._flagSize =\r\n        this._flagLeading = this._flagAlignment = this._flagFill =\r\n        this._flagStroke = this._flagLinewidth = this._flagOpaicty =\r\n        this._flagVisible = this._flagClip = this._flagDecoration =\r\n        this._flagBaseline = false;\r\n\r\n      Two.Shape.prototype.flagReset.call(this);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Two.Text.MakeObservable(Two.Text.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var _ = Two.Utils;\r\n\r\n  var Stop = Two.Stop = function(offset, color, opacity) {\r\n\r\n    this._renderer = {};\r\n    this._renderer.type = 'stop';\r\n\r\n    this.offset = _.isNumber(offset) ? offset\r\n      : Stop.Index <= 0 ? 0 : 1;\r\n\r\n    this.opacity = _.isNumber(opacity) ? opacity : 1;\r\n\r\n    this.color = _.isString(color) ? color\r\n      : Stop.Index <= 0 ? '#fff' : '#000';\r\n\r\n    Stop.Index = (Stop.Index + 1) % 2;\r\n\r\n  };\r\n\r\n  _.extend(Stop, {\r\n\r\n    Index: 0,\r\n\r\n    Properties: [\r\n      'offset',\r\n      'opacity',\r\n      'color'\r\n    ],\r\n\r\n    MakeObservable: function(object) {\r\n\r\n      _.each(Stop.Properties, function(property) {\r\n\r\n        var object = this;\r\n        var secret = '_' + property;\r\n        var flag = '_flag' + property.charAt(0).toUpperCase() + property.slice(1);\r\n\r\n        Object.defineProperty(object, property, {\r\n          enumerable: true,\r\n          get: function() {\r\n            return this[secret];\r\n          },\r\n          set: function(v) {\r\n            this[secret] = v;\r\n            this[flag] = true;\r\n            if (this.parent) {\r\n              this.parent._flagStops = true;\r\n            }\r\n          }\r\n        });\r\n\r\n      }, object);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Stop.prototype, Two.Utils.Events, {\r\n\r\n    clone: function() {\r\n\r\n      var clone = new Stop();\r\n\r\n      _.each(Stop.Properties, function(property) {\r\n        clone[property] = this[property];\r\n      }, this);\r\n\r\n      return clone;\r\n\r\n    },\r\n\r\n    toObject: function() {\r\n\r\n      var result = {};\r\n\r\n      _.each(Stop.Properties, function(k) {\r\n        result[k] = this[k];\r\n      }, this);\r\n\r\n      return result;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagOffset = this._flagColor = this._flagOpacity = false;\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Stop.MakeObservable(Stop.prototype);\r\n\r\n  var Gradient = Two.Gradient = function(stops) {\r\n\r\n    this._renderer = {};\r\n    this._renderer.type = 'gradient';\r\n\r\n    this.id = Two.Identifier + Two.uniqueId();\r\n    this.classList = [];\r\n\r\n    this._renderer.flagStops = _.bind(Gradient.FlagStops, this);\r\n    this._renderer.bindStops = _.bind(Gradient.BindStops, this);\r\n    this._renderer.unbindStops = _.bind(Gradient.UnbindStops, this);\r\n\r\n    this.spread = 'pad';\r\n\r\n    this.stops = stops;\r\n\r\n  };\r\n\r\n  _.extend(Gradient, {\r\n\r\n    Stop: Stop,\r\n\r\n    Properties: [\r\n      'spread'\r\n    ],\r\n\r\n    MakeObservable: function(object) {\r\n\r\n      _.each(Gradient.Properties, Two.Utils.defineProperty, object);\r\n\r\n      Object.defineProperty(object, 'stops', {\r\n\r\n        enumerable: true,\r\n\r\n        get: function() {\r\n          return this._stops;\r\n        },\r\n\r\n        set: function(stops) {\r\n\r\n          var updateStops = this._renderer.flagStops;\r\n          var bindStops = this._renderer.bindStops;\r\n          var unbindStops = this._renderer.unbindStops;\r\n\r\n          // Remove previous listeners\r\n          if (this._stops) {\r\n            this._stops\r\n              .unbind(Two.Events.insert, bindStops)\r\n              .unbind(Two.Events.remove, unbindStops);\r\n          }\r\n\r\n          // Create new Collection with copy of Stops\r\n          this._stops = new Two.Utils.Collection((stops || []).slice(0));\r\n\r\n          // Listen for Collection changes and bind / unbind\r\n          this._stops\r\n            .bind(Two.Events.insert, bindStops)\r\n            .bind(Two.Events.remove, unbindStops);\r\n\r\n          // Bind Initial Stops\r\n          bindStops(this._stops);\r\n\r\n        }\r\n\r\n      });\r\n\r\n    },\r\n\r\n    FlagStops: function() {\r\n      this._flagStops = true;\r\n    },\r\n\r\n    BindStops: function(items) {\r\n\r\n      // This function is called a lot\r\n      // when importing a large SVG\r\n      var i = items.length;\r\n      while(i--) {\r\n        items[i].bind(Two.Events.change, this._renderer.flagStops);\r\n        items[i].parent = this;\r\n      }\r\n\r\n      this._renderer.flagStops();\r\n\r\n    },\r\n\r\n    UnbindStops: function(items) {\r\n\r\n      var i = items.length;\r\n      while(i--) {\r\n        items[i].unbind(Two.Events.change, this._renderer.flagStops);\r\n        delete items[i].parent;\r\n      }\r\n\r\n      this._renderer.flagStops();\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Gradient.prototype, Two.Utils.Events, {\r\n\r\n    _flagStops: false,\r\n    _flagSpread: false,\r\n\r\n    clone: function(parent) {\r\n\r\n      parent = parent || this.parent;\r\n\r\n      var stops = _.map(this.stops, function(s) {\r\n        return s.clone();\r\n      });\r\n\r\n      var clone = new Gradient(stops);\r\n\r\n      _.each(Two.Gradient.Properties, function(k) {\r\n        clone[k] = this[k];\r\n      }, this);\r\n\r\n      if (parent) {\r\n        parent.add(clone);\r\n      }\r\n\r\n      return clone;\r\n\r\n    },\r\n\r\n    toObject: function() {\r\n\r\n      var result = {\r\n        stops: _.map(this.stops, function(s) {\r\n          return s.toObject();\r\n        })\r\n      };\r\n\r\n      _.each(Gradient.Properties, function(k) {\r\n        result[k] = this[k];\r\n      }, this);\r\n\r\n      return result;\r\n\r\n    },\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagSpread || this._flagStops) {\r\n        this.trigger(Two.Events.change);\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagSpread = this._flagStops = false;\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Gradient.MakeObservable(Gradient.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var _ = Two.Utils;\r\n\r\n  var LinearGradient = Two.LinearGradient = function(x1, y1, x2, y2, stops) {\r\n\r\n    Two.Gradient.call(this, stops);\r\n\r\n    this._renderer.type = 'linear-gradient';\r\n\r\n    var flagEndPoints = _.bind(LinearGradient.FlagEndPoints, this);\r\n    this.left = new Two.Vector().bind(Two.Events.change, flagEndPoints);\r\n    this.right = new Two.Vector().bind(Two.Events.change, flagEndPoints);\r\n\r\n    if (_.isNumber(x1)) {\r\n      this.left.x = x1;\r\n    }\r\n    if (_.isNumber(y1)) {\r\n      this.left.y = y1;\r\n    }\r\n    if (_.isNumber(x2)) {\r\n      this.right.x = x2;\r\n    }\r\n    if (_.isNumber(y2)) {\r\n      this.right.y = y2;\r\n    }\r\n\r\n  };\r\n\r\n  _.extend(LinearGradient, {\r\n\r\n    Stop: Two.Gradient.Stop,\r\n\r\n    MakeObservable: function(object) {\r\n      Two.Gradient.MakeObservable(object);\r\n    },\r\n\r\n    FlagEndPoints: function() {\r\n      this._flagEndPoints = true;\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(LinearGradient.prototype, Two.Gradient.prototype, {\r\n\r\n    _flagEndPoints: false,\r\n\r\n    clone: function(parent) {\r\n\r\n      parent = parent || this.parent;\r\n\r\n      var stops = _.map(this.stops, function(stop) {\r\n        return stop.clone();\r\n      });\r\n\r\n      var clone = new LinearGradient(this.left._x, this.left._y,\r\n        this.right._x, this.right._y, stops);\r\n\r\n      _.each(Two.Gradient.Properties, function(k) {\r\n        clone[k] = this[k];\r\n      }, this);\r\n\r\n      if (parent) {\r\n        parent.add(clone);\r\n      }\r\n\r\n      return clone;\r\n\r\n    },\r\n\r\n    toObject: function() {\r\n\r\n      var result = Two.Gradient.prototype.toObject.call(this);\r\n\r\n      result.left = this.left.toObject();\r\n      result.right = this.right.toObject();\r\n\r\n      return result;\r\n\r\n    },\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagEndPoints || this._flagSpread || this._flagStops) {\r\n        this.trigger(Two.Events.change);\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagEndPoints = false;\r\n\r\n      Two.Gradient.prototype.flagReset.call(this);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  LinearGradient.MakeObservable(LinearGradient.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var _ = Two.Utils;\r\n\r\n  var RadialGradient = Two.RadialGradient = function(cx, cy, r, stops, fx, fy) {\r\n\r\n    Two.Gradient.call(this, stops);\r\n\r\n    this._renderer.type = 'radial-gradient';\r\n\r\n    this.center = new Two.Vector()\r\n      .bind(Two.Events.change, _.bind(function() {\r\n        this._flagCenter = true;\r\n      }, this));\r\n\r\n    this.radius = _.isNumber(r) ? r : 20;\r\n\r\n    this.focal = new Two.Vector()\r\n      .bind(Two.Events.change, _.bind(function() {\r\n        this._flagFocal = true;\r\n      }, this));\r\n\r\n    if (_.isNumber(cx)) {\r\n      this.center.x = cx;\r\n    }\r\n    if (_.isNumber(cy)) {\r\n      this.center.y = cy;\r\n    }\r\n\r\n    this.focal.copy(this.center);\r\n\r\n    if (_.isNumber(fx)) {\r\n      this.focal.x = fx;\r\n    }\r\n    if (_.isNumber(fy)) {\r\n      this.focal.y = fy;\r\n    }\r\n\r\n  };\r\n\r\n  _.extend(RadialGradient, {\r\n\r\n    Stop: Two.Gradient.Stop,\r\n\r\n    Properties: [\r\n      'radius'\r\n    ],\r\n\r\n    MakeObservable: function(object) {\r\n\r\n      Two.Gradient.MakeObservable(object);\r\n\r\n      _.each(RadialGradient.Properties, Two.Utils.defineProperty, object);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(RadialGradient.prototype, Two.Gradient.prototype, {\r\n\r\n    _flagRadius: false,\r\n    _flagCenter: false,\r\n    _flagFocal: false,\r\n\r\n    clone: function(parent) {\r\n\r\n      parent = parent || this.parent;\r\n\r\n      var stops = _.map(this.stops, function(stop) {\r\n        return stop.clone();\r\n      });\r\n\r\n      var clone = new RadialGradient(this.center._x, this.center._y,\r\n          this._radius, stops, this.focal._x, this.focal._y);\r\n\r\n      _.each(Two.Gradient.Properties.concat(RadialGradient.Properties), function(k) {\r\n        clone[k] = this[k];\r\n      }, this);\r\n\r\n      if (parent) {\r\n        parent.add(clone);\r\n      }\r\n\r\n      return clone;\r\n\r\n    },\r\n\r\n    toObject: function() {\r\n\r\n      var result = Two.Gradient.prototype.toObject.call(this);\r\n\r\n      _.each(RadialGradient.Properties, function(k) {\r\n        result[k] = this[k];\r\n      }, this);\r\n\r\n      result.center = this.center.toObject();\r\n      result.focal = this.focal.toObject();\r\n\r\n      return result;\r\n\r\n    },\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagRadius || this._flatCenter || this._flagFocal\r\n        || this._flagSpread || this._flagStops) {\r\n        this.trigger(Two.Events.change);\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagRadius = this._flagCenter = this._flagFocal = false;\r\n\r\n      Two.Gradient.prototype.flagReset.call(this);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  RadialGradient.MakeObservable(RadialGradient.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var _ = Two.Utils;\r\n  var regex = {\r\n    video: /\\.(mp4|webm)$/i,\r\n    image: /\\.(jpe?g|png|gif|tiff)$/i\r\n  };\r\n\r\n  var Texture = Two.Texture = function(src, callback) {\r\n\r\n    this._renderer = {};\r\n    this._renderer.type = 'texture';\r\n    this._renderer.flagOffset = _.bind(Texture.FlagOffset, this);\r\n    this._renderer.flagScale = _.bind(Texture.FlagScale, this);\r\n\r\n    this.id = Two.Identifier + Two.uniqueId();\r\n    this.classList = [];\r\n\r\n    this.offset = new Two.Vector();\r\n\r\n    if (_.isFunction(callback)) {\r\n      var loaded = _.bind(function() {\r\n        this.unbind(Two.Events.load, loaded);\r\n        if (_.isFunction(callback)) {\r\n          callback();\r\n        }\r\n      }, this);\r\n      this.bind(Two.Events.load, loaded);\r\n    }\r\n\r\n    if (_.isString(src)) {\r\n      this.src = src;\r\n    } else if (_.isElement(src)) {\r\n      this.image = src;\r\n    }\r\n\r\n    this._update();\r\n\r\n  };\r\n\r\n  _.extend(Texture, {\r\n\r\n    Properties: [\r\n      'src',\r\n      'image',\r\n      'loaded',\r\n      'repeat'\r\n    ],\r\n\r\n    ImageRegistry: new Two.Registry(),\r\n\r\n    getImage: function(src) {\r\n\r\n      if (Texture.ImageRegistry.contains(src)) {\r\n        return Texture.ImageRegistry.get(src);\r\n      }\r\n\r\n      var image;\r\n\r\n      if (regex.video.test(src)) {\r\n        image = document.createElement('video');\r\n      } else {\r\n        image = document.createElement('img');\r\n      }\r\n\r\n      image.crossOrigin = 'anonymous';\r\n\r\n      return image;\r\n\r\n    },\r\n\r\n    Register: {\r\n      canvas: function(texture, callback) {\r\n        texture._src = '#' + texture.id;\r\n        Texture.ImageRegistry.add(texture.src, texture.image);\r\n        if (_.isFunction(callback)) {\r\n          callback();\r\n        }\r\n      },\r\n      img: function(texture, callback) {\r\n\r\n        if (texture.image && texture.image.getAttribute('two-src')) {\r\n          return;\r\n        }\r\n\r\n        var loaded = function(e) {\r\n          texture.image.removeEventListener('load', loaded, false);\r\n          texture.image.removeEventListener('error', error, false);\r\n          if (_.isFunction(callback)) {\r\n            callback();\r\n          }\r\n        };\r\n        var error = function(e) {\r\n          texture.image.removeEventListener('load', loaded, false);\r\n          texture.image.removeEventListener('error', error, false);\r\n          throw new Two.Utils.Error('unable to load ' + texture.src);\r\n        };\r\n\r\n        texture.image.addEventListener('load', loaded, false);\r\n        texture.image.addEventListener('error', error, false);\r\n        texture.image.setAttribute('two-src', texture.src);\r\n        Texture.ImageRegistry.add(texture.src, texture.image);\r\n        texture.image.src = texture.src;\r\n\r\n      },\r\n      video: function(texture, callback) {\r\n\r\n        if (texture.image && texture.image.getAttribute('two-src')) {\r\n          return;\r\n        }\r\n\r\n        var loaded = function(e) {\r\n          texture.image.removeEventListener('load', loaded, false);\r\n          texture.image.removeEventListener('error', error, false);\r\n          texture.image.width = texture.image.videoWidth;\r\n          texture.image.height = texture.image.videoHeight;\r\n          texture.image.play();\r\n          if (_.isFunction(callback)) {\r\n            callback();\r\n          }\r\n        };\r\n        var error = function(e) {\r\n          texture.image.removeEventListener('load', loaded, false);\r\n          texture.image.removeEventListener('error', error, false);\r\n          throw new Two.Utils.Error('unable to load ' + texture.src);\r\n        };\r\n\r\n        texture.image.addEventListener('canplaythrough', loaded, false);\r\n        texture.image.addEventListener('error', error, false);\r\n        texture.image.setAttribute('two-src', texture.src);\r\n        Texture.ImageRegistry.add(texture.src, texture.image);\r\n        texture.image.src = texture.src;\r\n        texture.image.loop = true;\r\n        texture.image.load();\r\n\r\n      }\r\n    },\r\n\r\n    load: function(texture, callback) {\r\n\r\n      var src = texture.src;\r\n      var image = texture.image;\r\n      var tag = image && image.nodeName.toLowerCase();\r\n\r\n      if (texture._flagImage) {\r\n        if (/canvas/i.test(tag)) {\r\n          Texture.Register.canvas(texture, callback);\r\n        } else {\r\n          texture._src = image.getAttribute('two-src') || image.src;\r\n          Texture.Register[tag](texture, callback);\r\n        }\r\n      }\r\n\r\n      if (texture._flagSrc) {\r\n        if (!image) {\r\n          texture.image = Texture.getImage(texture.src);\r\n        }\r\n        tag = texture.image.nodeName.toLowerCase();\r\n        Texture.Register[tag](texture, callback);\r\n      }\r\n\r\n    },\r\n\r\n    FlagOffset: function() {\r\n      this._flagOffset = true;\r\n    },\r\n\r\n    FlagScale: function() {\r\n      this._flagScale = true;\r\n    },\r\n\r\n    MakeObservable: function(object) {\r\n\r\n      _.each(Texture.Properties, Two.Utils.defineProperty, object);\r\n\r\n      Object.defineProperty(object, 'offset', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._offset;\r\n        },\r\n        set: function(v) {\r\n          if (this._offset) {\r\n            this._offset.unbind(Two.Events.change, this._renderer.flagOffset);\r\n          }\r\n          this._offset = v;\r\n          this._offset.bind(Two.Events.change, this._renderer.flagOffset);\r\n          this._flagOffset = true;\r\n        }\r\n      });\r\n\r\n      Object.defineProperty(object, 'scale', {\r\n        enumerable: true,\r\n        get: function() {\r\n          return this._scale;\r\n        },\r\n        set: function(v) {\r\n\r\n          if (this._scale instanceof Two.Vector) {\r\n            this._scale.unbind(Two.Events.change, this._renderer.flagScale);\r\n          }\r\n\r\n          this._scale = v;\r\n\r\n          if (this._scale instanceof Two.Vector) {\r\n            this._scale.bind(Two.Events.change, this._renderer.flagScale);\r\n          }\r\n\r\n          this._flagScale = true;\r\n\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Texture.prototype, Two.Utils.Events, Two.Shape.prototype, {\r\n\r\n    _flagSrc: false,\r\n    _flagImage: false,\r\n    _flagLoaded: false,\r\n    _flagRepeat: false,\r\n\r\n    _flagOffset: false,\r\n    _flagScale: false,\r\n\r\n    _src: '',\r\n    _image: null,\r\n    _loaded: false,\r\n    _repeat: 'no-repeat',\r\n\r\n    _scale: 1,\r\n    _offset: null,\r\n\r\n    clone: function() {\r\n      return new Texture(this.src);\r\n    },\r\n\r\n    toObject: function() {\r\n      return {\r\n        src: this.src,\r\n        image: this.image\r\n      }\r\n    },\r\n\r\n    _update: function() {\r\n\r\n      if (this._flagSrc || this._flagImage) {\r\n        this.trigger(Two.Events.change);\r\n        this.loaded = false;\r\n        Texture.load(this, _.bind(function() {\r\n          this.loaded = true;\r\n          this\r\n            .trigger(Two.Events.change)\r\n            .trigger(Two.Events.load);\r\n        }, this));\r\n      }\r\n\r\n      if (this.image.readyState >= 4) {\r\n        this._flagImage = true;\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagSrc = this._flagImage = this._flagLoaded\r\n        = this._flagScale = this._flagOffset = false;\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Texture.MakeObservable(Texture.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var _ = Two.Utils;\r\n  var Path = Two.Path;\r\n  var Rectangle = Two.Rectangle;\r\n\r\n  var Sprite = Two.Sprite = function(path, ox, oy, cols, rows, frameRate) {\r\n\r\n    Path.call(this, [\r\n      new Two.Anchor(),\r\n      new Two.Anchor(),\r\n      new Two.Anchor(),\r\n      new Two.Anchor()\r\n    ], true);\r\n\r\n    this.noStroke();\r\n    this.noFill();\r\n\r\n    if (path instanceof Two.Texture) {\r\n      this.texture = path;\r\n    } else if (_.isString(path)) {\r\n      this.texture = new Two.Texture(path);\r\n    }\r\n\r\n    this._update();\r\n    this.translation.set(ox || 0, oy || 0);\r\n\r\n    if (_.isNumber(cols)) {\r\n      this.columns = cols;\r\n    }\r\n    if (_.isNumber(rows)) {\r\n      this.rows = rows;\r\n    }\r\n    if (_.isNumber(frameRate)) {\r\n      this.frameRate = frameRate;\r\n    }\r\n\r\n  };\r\n\r\n  _.extend(Sprite, {\r\n\r\n    Properties: [\r\n      'texture', 'columns', 'rows', 'frameRate'\r\n    ],\r\n\r\n    MakeObservable: function(obj) {\r\n\r\n      Rectangle.MakeObservable(obj);\r\n      _.each(Sprite.Properties, Two.Utils.defineProperty, obj);\r\n\r\n    }\r\n\r\n  })\r\n\r\n  _.extend(Sprite.prototype, Rectangle.prototype, {\r\n\r\n    _flagTexture: false,\r\n    _flagColumns: false,\r\n    _flagRows: false,\r\n    _flagFrameRate: false,\r\n\r\n    // Private variables\r\n    _amount: 1,\r\n    _duration: 0,\r\n    _index: 0,\r\n    _startTime: 0,\r\n    _playing: false,\r\n    _firstFrame: 0,\r\n    _lastFrame: 0,\r\n    _loop: true,\r\n\r\n    // Exposed through getter-setter\r\n    _texture: null,\r\n    _columns: 1,\r\n    _rows: 1,\r\n    _frameRate: 0,\r\n\r\n    play: function(firstFrame, lastFrame, onLastFrame) {\r\n\r\n      this._playing = true;\r\n      this._firstFrame = 0;\r\n      this._lastFrame = this.amount - 1;\r\n      this._startTime = _.performance.now();\r\n\r\n      if (_.isNumber(firstFrame)) {\r\n        this._firstFrame = firstFrame;\r\n      }\r\n      if (_.isNumber(lastFrame)) {\r\n        this._lastFrame = lastFrame;\r\n      }\r\n      if (_.isFunction(onLastFrame)) {\r\n        this._onLastFrame = onLastFrame;\r\n      } else {\r\n        delete this._onLastFrame;\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    pause: function() {\r\n\r\n      this._playing = false;\r\n      return this;\r\n\r\n    },\r\n\r\n    stop: function() {\r\n\r\n      this._playing = false;\r\n      this._index = 0;\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    clone: function(parent) {\r\n\r\n      parent = parent || this.parent;\r\n\r\n      var clone = new Sprite(\r\n        this.texture, this.translation.x, this.translation.y,\r\n        this.columns, this.rows, this.frameRate\r\n      );\r\n\r\n      if (this.playing) {\r\n        clone.play(this._firstFrame, this._lastFrame);\r\n        clone._loop = this._loop;\r\n      }\r\n\r\n      if (parent) {\r\n        parent.add(clone);\r\n      }\r\n\r\n      return clone;\r\n\r\n    },\r\n\r\n    _update: function() {\r\n\r\n      var effect = this._texture;\r\n      var cols = this._columns;\r\n      var rows = this._rows;\r\n\r\n      var width, height, elapsed, amount, duration;\r\n      var index, iw, ih, isRange;\r\n\r\n      if (this._flagColumns || this._flagRows) {\r\n        this._amount = this._columns * this._rows;\r\n      }\r\n\r\n      if (this._flagFrameRate) {\r\n        this._duration = 1000 * this._amount / this._frameRate;\r\n      }\r\n\r\n      if (this._flagTexture) {\r\n        this.fill = this._texture;\r\n      }\r\n\r\n      if (this._texture.loaded) {\r\n\r\n        iw = effect.image.width;\r\n        ih = effect.image.height;\r\n\r\n        width = iw / cols;\r\n        height = ih / rows;\r\n        amount = this._amount;\r\n\r\n        if (this.width !== width) {\r\n          this.width = width;\r\n        }\r\n        if (this.height !== height) {\r\n          this.height = height;\r\n        }\r\n\r\n        if (this._playing && this._frameRate > 0) {\r\n\r\n          if (_.isNaN(this._lastFrame)) {\r\n            this._lastFrame = amount - 1;\r\n          }\r\n\r\n          // TODO: Offload perf logic to instance of `Two`.\r\n          elapsed = _.performance.now() - this._startTime;\r\n          duration = 1000 * (this._lastFrame - this._firstFrame)\r\n            / this._frameRate;\r\n\r\n          if (this._loop) {\r\n            elapsed = elapsed % duration;\r\n          } else {\r\n            elapsed = Math.min(elapsed, duration);\r\n          }\r\n\r\n          index = _.lerp(this._firstFrame, this._lastFrame, elapsed / duration);\r\n          index = Math.floor(index);\r\n\r\n          if (index !== this._index) {\r\n            this._index = index;\r\n            if (index >= this._lastFrame - 1 && this._onLastFrame) {\r\n              this._onLastFrame();  // Shortcut for chainable sprite animations\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n        var ox = (iw - width) / 2 + width * ((this._index % cols) + 1);\r\n        var oy = height * Math.floor((this._index / cols))\r\n          - (ih - height) / 2;\r\n\r\n        // TODO: Improve performance\r\n        if (ox !== effect.offset.x) {\r\n          effect.offset.x = ox;\r\n        }\r\n        if (oy !== effect.offset.y) {\r\n          effect.offset.y = oy;\r\n        }\r\n\r\n      }\r\n\r\n      Rectangle.prototype._update.call(this);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagTexture = this._flagColumns = this._flagRows\r\n        = this._flagFrameRate = false;\r\n\r\n      Rectangle.prototype.flagReset.call(this);\r\n\r\n      return this;\r\n    }\r\n\r\n\r\n  });\r\n\r\n  Sprite.MakeObservable(Sprite.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  var _ = Two.Utils;\r\n  var Path = Two.Path;\r\n  var Rectangle = Two.Rectangle;\r\n\r\n  var ImageSequence = Two.ImageSequence = function(paths, ox, oy, frameRate) {\r\n\r\n    Path.call(this, [\r\n      new Two.Anchor(),\r\n      new Two.Anchor(),\r\n      new Two.Anchor(),\r\n      new Two.Anchor()\r\n    ], true);\r\n\r\n    this._renderer.flagTextures = _.bind(ImageSequence.FlagTextures, this);\r\n    this._renderer.bindTextures = _.bind(ImageSequence.BindTextures, this);\r\n    this._renderer.unbindTextures = _.bind(ImageSequence.UnbindTextures, this);\r\n\r\n    this.noStroke();\r\n    this.noFill();\r\n\r\n    this.textures = _.map(paths, ImageSequence.GenerateTexture, this);\r\n\r\n    this._update();\r\n    this.translation.set(ox || 0, oy || 0);\r\n\r\n    if (_.isNumber(frameRate)) {\r\n      this.frameRate = frameRate;\r\n    } else {\r\n      this.frameRate = ImageSequence.DefaultFrameRate;\r\n    }\r\n\r\n  };\r\n\r\n  _.extend(ImageSequence, {\r\n\r\n    Properties: [\r\n      'frameRate'\r\n    ],\r\n\r\n    DefaultFrameRate: 30,\r\n\r\n    FlagTextures: function() {\r\n      this._flagTextures = true;\r\n    },\r\n\r\n    BindTextures: function(items) {\r\n\r\n      var i = items.length;\r\n      while (i--) {\r\n        items[i].bind(Two.Events.change, this._renderer.flagTextures);\r\n      }\r\n\r\n      this._renderer.flagTextures();\r\n\r\n    },\r\n\r\n    UnbindTextures: function(items) {\r\n\r\n      var i = items.length;\r\n      while (i--) {\r\n        items[i].unbind(Two.Events.change, this._renderer.flagTextures);\r\n      }\r\n\r\n      this._renderer.flagTextures();\r\n\r\n    },\r\n\r\n    MakeObservable: function(obj) {\r\n\r\n      Rectangle.MakeObservable(obj);\r\n      _.each(ImageSequence.Properties, Two.Utils.defineProperty, obj);\r\n\r\n      Object.defineProperty(obj, 'textures', {\r\n\r\n        enumerable: true,\r\n\r\n        get: function() {\r\n          return this._textures;\r\n        },\r\n\r\n        set: function(textures) {\r\n\r\n          var updateTextures = this._renderer.flagTextures;\r\n          var bindTextures = this._renderer.bindTextures;\r\n          var unbindTextures = this._renderer.unbindTextures;\r\n\r\n          // Remove previous listeners\r\n          if (this._textures) {\r\n            this._textures\r\n              .unbind(Two.Events.insert, bindTextures)\r\n              .unbind(Two.Events.remove, unbindTextures);\r\n          }\r\n\r\n          // Create new Collection with copy of vertices\r\n          this._textures = new Two.Utils.Collection((textures || []).slice(0));\r\n\r\n          // Listen for Collection changes and bind / unbind\r\n          this._textures\r\n            .bind(Two.Events.insert, bindTextures)\r\n            .bind(Two.Events.remove, unbindTextures);\r\n\r\n          // Bind Initial Textures\r\n          bindTextures(this._textures);\r\n\r\n        }\r\n\r\n      });\r\n\r\n    },\r\n\r\n    GenerateTexture: function(obj) {\r\n      if (obj instanceof Two.Texture) {\r\n        return obj;\r\n      } else if (_.isString(obj)) {\r\n        return new Two.Texture(obj);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(ImageSequence.prototype, Rectangle.prototype, {\r\n\r\n    _flagTextures: false,\r\n    _flagFrameRate: false,\r\n\r\n    // Private variables\r\n    _amount: 1,\r\n    _duration: 0,\r\n    _index: 0,\r\n    _startTime: 0,\r\n    _playing: false,\r\n    _firstFrame: 0,\r\n    _lastFrame: 0,\r\n    _loop: true,\r\n\r\n    // Exposed through getter-setter\r\n    _textures: null,\r\n    _frameRate: 0,\r\n\r\n    play: function(firstFrame, lastFrame, onLastFrame) {\r\n\r\n      this._playing = true;\r\n      this._firstFrame = 0;\r\n      this._lastFrame = this.amount - 1;\r\n      this._startTime = _.performance.now();\r\n\r\n      if (_.isNumber(firstFrame)) {\r\n        this._firstFrame = firstFrame;\r\n      }\r\n      if (_.isNumber(lastFrame)) {\r\n        this._lastFrame = lastFrame;\r\n      }\r\n      if (_.isFunction(onLastFrame)) {\r\n        this._onLastFrame = onLastFrame;\r\n      } else {\r\n        delete this._onLastFrame;\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    pause: function() {\r\n\r\n      this._playing = false;\r\n      return this;\r\n\r\n    },\r\n\r\n    stop: function() {\r\n\r\n      this._playing = false;\r\n      this._index = 0;\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    clone: function(parent) {\r\n\r\n      parent = parent || this.parent;\r\n\r\n      var clone = new ImageSequence(this.textures, this.translation.x,\r\n        this.translation.y, this.frameRate)\r\n\r\n        clone._loop = this._loop;\r\n\r\n        if (this._playing) {\r\n          clone.play();\r\n        }\r\n\r\n        if (parent) {\r\n          parent.add(clone);\r\n        }\r\n\r\n        return clone;\r\n\r\n    },\r\n\r\n    _update: function() {\r\n\r\n      var effects = this._textures;\r\n      var width, height, elapsed, amount, duration, texture;\r\n      var index;\r\n\r\n      if (this._flagTextures) {\r\n        this._amount = effects.length;\r\n      }\r\n\r\n      if (this._flagFrameRate) {\r\n        this._duration = 1000 * this._amount / this._frameRate;\r\n      }\r\n\r\n      if (this._playing && this._frameRate > 0) {\r\n\r\n        amount = this._amount;\r\n\r\n        if (_.isNaN(this._lastFrame)) {\r\n          this._lastFrame = amount - 1;\r\n        }\r\n\r\n        // TODO: Offload perf logic to instance of `Two`.\r\n        elapsed = _.performance.now() - this._startTime;\r\n        duration = 1000 * (this._lastFrame - this._firstFrame)\r\n          / this._frameRate;\r\n\r\n        if (this._loop) {\r\n          elapsed = elapsed % duration;\r\n        } else {\r\n          elapsed = Math.min(elapsed, duration);\r\n        }\r\n\r\n        index = _.lerp(this._firstFrame, this._lastFrame, elapsed / duration);\r\n        index = Math.floor(index);\r\n\r\n        if (index !== this._index) {\r\n\r\n          this._index = index;\r\n          texture = effects[this._index];\r\n\r\n          if (texture.loaded) {\r\n\r\n            width = texture.image.width;\r\n            height = texture.image.height;\r\n\r\n            if (this.width !== width) {\r\n              this.width = width;\r\n            }\r\n            if (this.height !== height) {\r\n              this.height = height;\r\n            }\r\n\r\n            this.fill = texture;\r\n\r\n            if (index >= this._lastFrame - 1 && this._onLastFrame) {\r\n              this._onLastFrame();  // Shortcut for chainable sprite animations\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n\r\n      } else if (!(this.fill instanceof Two.Texture)) {\r\n\r\n        texture = effects[this._index];\r\n\r\n        if (texture.loaded) {\r\n\r\n          width = texture.image.width;\r\n          height = texture.image.height;\r\n\r\n          if (this.width !== width) {\r\n            this.width = width;\r\n          }\r\n          if (this.height !== height) {\r\n            this.height = height;\r\n          }\r\n\r\n          this.fill = texture;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      Rectangle.prototype._update.call(this);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      this._flagTextures = this._flagFrameRate = false;\r\n      Rectangle.prototype.flagReset.call(this);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  ImageSequence.MakeObservable(ImageSequence.prototype);\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\r\n\r\n(function(Two) {\r\n\r\n  /**\r\n   * Constants\r\n   */\r\n  var min = Math.min, max = Math.max;\r\n  var _ = Two.Utils;\r\n\r\n  /**\r\n   * A children collection which is accesible both by index and by object id\r\n   * @constructor\r\n   */\r\n  var Children = function() {\r\n\r\n    Two.Utils.Collection.apply(this, arguments);\r\n\r\n    Object.defineProperty(this, '_events', {\r\n      value : {},\r\n      enumerable: false\r\n    });\r\n\r\n    this.ids = {};\r\n\r\n    this.on(Two.Events.insert, this.attach);\r\n    this.on(Two.Events.remove, this.detach);\r\n    Children.prototype.attach.apply(this, arguments);\r\n\r\n  };\r\n\r\n  Children.prototype = new Two.Utils.Collection();\r\n  Children.prototype.constructor = Children;\r\n\r\n  _.extend(Children.prototype, {\r\n\r\n    attach: function(children) {\r\n      for (var i = 0; i < children.length; i++) {\r\n        this.ids[children[i].id] = children[i];\r\n      }\r\n      return this;\r\n    },\r\n\r\n    detach: function(children) {\r\n      for (var i = 0; i < children.length; i++) {\r\n        delete this.ids[children[i].id];\r\n      }\r\n      return this;\r\n    }\r\n\r\n  });\r\n\r\n  var Group = Two.Group = function() {\r\n\r\n    Two.Shape.call(this, true);\r\n\r\n    this._renderer.type = 'group';\r\n\r\n    this.additions = [];\r\n    this.subtractions = [];\r\n\r\n    this.children = arguments;\r\n\r\n  };\r\n\r\n  _.extend(Group, {\r\n\r\n    Children: Children,\r\n\r\n    InsertChildren: function(children) {\r\n      for (var i = 0; i < children.length; i++) {\r\n        replaceParent.call(this, children[i], this);\r\n      }\r\n    },\r\n\r\n    RemoveChildren: function(children) {\r\n      for (var i = 0; i < children.length; i++) {\r\n        replaceParent.call(this, children[i]);\r\n      }\r\n    },\r\n\r\n    OrderChildren: function(children) {\r\n      this._flagOrder = true;\r\n    },\r\n\r\n    MakeObservable: function(object) {\r\n\r\n      var properties = Two.Path.Properties.slice(0);\r\n      var oi = _.indexOf(properties, 'opacity');\r\n\r\n      if (oi >= 0) {\r\n\r\n        properties.splice(oi, 1);\r\n\r\n        Object.defineProperty(object, 'opacity', {\r\n\r\n          enumerable: true,\r\n\r\n          get: function() {\r\n            return this._opacity;\r\n          },\r\n\r\n          set: function(v) {\r\n            // Only set flag if there is an actual difference\r\n            this._flagOpacity = (this._opacity != v);\r\n            this._opacity = v;\r\n          }\r\n\r\n        });\r\n\r\n      }\r\n\r\n      Two.Shape.MakeObservable(object);\r\n      Group.MakeGetterSetters(object, properties);\r\n\r\n      Object.defineProperty(object, 'children', {\r\n\r\n        enumerable: true,\r\n\r\n        get: function() {\r\n          return this._children;\r\n        },\r\n\r\n        set: function(children) {\r\n\r\n          var insertChildren = _.bind(Group.InsertChildren, this);\r\n          var removeChildren = _.bind(Group.RemoveChildren, this);\r\n          var orderChildren = _.bind(Group.OrderChildren, this);\r\n\r\n          if (this._children) {\r\n            this._children.unbind();\r\n          }\r\n\r\n          this._children = new Children(children);\r\n          this._children.bind(Two.Events.insert, insertChildren);\r\n          this._children.bind(Two.Events.remove, removeChildren);\r\n          this._children.bind(Two.Events.order, orderChildren);\r\n\r\n        }\r\n\r\n      });\r\n\r\n      Object.defineProperty(object, 'mask', {\r\n\r\n        enumerable: true,\r\n\r\n        get: function() {\r\n          return this._mask;\r\n        },\r\n\r\n        set: function(v) {\r\n          this._mask = v;\r\n          this._flagMask = true;\r\n          if (!v.clip) {\r\n            v.clip = true;\r\n          }\r\n        }\r\n\r\n      });\r\n\r\n    },\r\n\r\n    MakeGetterSetters: function(group, properties) {\r\n\r\n      if (!_.isArray(properties)) {\r\n        properties = [properties];\r\n      }\r\n\r\n      _.each(properties, function(k) {\r\n        Group.MakeGetterSetter(group, k);\r\n      });\r\n\r\n    },\r\n\r\n    MakeGetterSetter: function(group, k) {\r\n\r\n      var secret = '_' + k;\r\n\r\n      Object.defineProperty(group, k, {\r\n\r\n        enumerable: true,\r\n\r\n        get: function() {\r\n          return this[secret];\r\n        },\r\n\r\n        set: function(v) {\r\n          this[secret] = v;\r\n          _.each(this.children, function(child) { // Trickle down styles\r\n            child[k] = v;\r\n          });\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(Group.prototype, Two.Shape.prototype, {\r\n\r\n    // Flags\r\n    // http://en.wikipedia.org/wiki/Flag\r\n\r\n    _flagAdditions: false,\r\n    _flagSubtractions: false,\r\n    _flagOrder: false,\r\n    _flagOpacity: true,\r\n\r\n    _flagMask: false,\r\n\r\n    // Underlying Properties\r\n\r\n    _fill: '#fff',\r\n    _stroke: '#000',\r\n    _linewidth: 1.0,\r\n    _opacity: 1.0,\r\n    _visible: true,\r\n\r\n    _cap: 'round',\r\n    _join: 'round',\r\n    _miter: 4,\r\n\r\n    _closed: true,\r\n    _curved: false,\r\n    _automatic: true,\r\n    _beginning: 0,\r\n    _ending: 1.0,\r\n\r\n    _mask: null,\r\n\r\n    /**\r\n     * TODO: Group has a gotcha in that it's at the moment required to be bound to\r\n     * an instance of two in order to add elements correctly. This needs to\r\n     * be rethought and fixed.\r\n     */\r\n    clone: function(parent) {\r\n\r\n      parent = parent || this.parent;\r\n\r\n      var group = new Group();\r\n      var children = _.map(this.children, function(child) {\r\n        return child.clone(group);\r\n      });\r\n\r\n      group.add(children);\r\n\r\n      group.opacity = this.opacity;\r\n\r\n      if (this.mask) {\r\n        group.mask = this.mask;\r\n      }\r\n\r\n      group.translation.copy(this.translation);\r\n      group.rotation = this.rotation;\r\n      group.scale = this.scale;\r\n\r\n      if (parent) {\r\n        parent.add(group);\r\n      }\r\n\r\n      return group;\r\n\r\n    },\r\n\r\n    /**\r\n     * Export the data from the instance of Two.Group into a plain JavaScript\r\n     * object. This also makes all children plain JavaScript objects. Great\r\n     * for turning into JSON and storing in a database.\r\n     */\r\n    toObject: function() {\r\n\r\n      var result = {\r\n        children: [],\r\n        translation: this.translation.toObject(),\r\n        rotation: this.rotation,\r\n        scale: this.scale,\r\n        opacity: this.opacity,\r\n        mask: (this.mask ? this.mask.toObject() : null)\r\n      };\r\n\r\n      _.each(this.children, function(child, i) {\r\n        result.children[i] = child.toObject();\r\n      }, this);\r\n\r\n      return result;\r\n\r\n    },\r\n\r\n    /**\r\n     * Anchor all children to the upper left hand corner\r\n     * of the group.\r\n     */\r\n    corner: function() {\r\n\r\n      var rect = this.getBoundingClientRect(true),\r\n       corner = { x: rect.left, y: rect.top };\r\n\r\n      this.children.forEach(function(child) {\r\n        child.translation.subSelf(corner);\r\n      });\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    /**\r\n     * Anchors all children around the center of the group,\r\n     * effectively placing the shape around the unit circle.\r\n     */\r\n    center: function() {\r\n\r\n      var rect = this.getBoundingClientRect(true);\r\n\r\n      rect.centroid = {\r\n        x: rect.left + rect.width / 2,\r\n        y: rect.top + rect.height / 2\r\n      };\r\n\r\n      this.children.forEach(function(child) {\r\n        if (child.isShape) {\r\n          child.translation.subSelf(rect.centroid);\r\n        }\r\n      });\r\n\r\n      // this.translation.copy(rect.centroid);\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    /**\r\n     * Recursively search for id. Returns the first element found.\r\n     * Returns null if none found.\r\n     */\r\n    getById: function (id) {\r\n      var search = function (node, id) {\r\n        if (node.id === id) {\r\n          return node;\r\n        } else if (node.children) {\r\n          var i = node.children.length;\r\n          while (i--) {\r\n            var found = search(node.children[i], id);\r\n            if (found) return found;\r\n          }\r\n        }\r\n\r\n      };\r\n      return search(this, id) || null;\r\n    },\r\n\r\n    /**\r\n     * Recursively search for classes. Returns an array of matching elements.\r\n     * Empty array if none found.\r\n     */\r\n    getByClassName: function (cl) {\r\n      var found = [];\r\n      var search = function (node, cl) {\r\n        if (node.classList.indexOf(cl) != -1) {\r\n          found.push(node);\r\n        } else if (node.children) {\r\n          node.children.forEach(function (child) {\r\n            search(child, cl);\r\n          });\r\n        }\r\n        return found;\r\n      };\r\n      return search(this, cl);\r\n    },\r\n\r\n    /**\r\n     * Recursively search for children of a specific type,\r\n     * e.g. Two.Polygon. Pass a reference to this type as the param.\r\n     * Returns an empty array if none found.\r\n     */\r\n    getByType: function(type) {\r\n      var found = [];\r\n      var search = function (node, type) {\r\n        for (var id in node.children) {\r\n          if (node.children[id] instanceof type) {\r\n            found.push(node.children[id]);\r\n          } else if (node.children[id] instanceof Two.Group) {\r\n            search(node.children[id], type);\r\n          }\r\n        }\r\n        return found;\r\n      };\r\n      return search(this, type);\r\n    },\r\n\r\n    /**\r\n     * Add objects to the group.\r\n     */\r\n    add: function(objects) {\r\n\r\n      // Allow to pass multiple objects either as array or as multiple arguments\r\n      // If it's an array also create copy of it in case we're getting passed\r\n      // a childrens array directly.\r\n      if (!(objects instanceof Array)) {\r\n        objects = _.toArray(arguments);\r\n      } else {\r\n        objects = objects.slice();\r\n      }\r\n\r\n      // Add the objects\r\n      for (var i = 0; i < objects.length; i++) {\r\n        if (!(objects[i] && objects[i].id)) continue;\r\n        this.children.push(objects[i]);\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    /**\r\n     * Remove objects from the group.\r\n     */\r\n    remove: function(objects) {\r\n\r\n      var l = arguments.length,\r\n        grandparent = this.parent;\r\n\r\n      // Allow to call remove without arguments\r\n      // This will detach the object from the scene.\r\n      if (l <= 0 && grandparent) {\r\n        grandparent.remove(this);\r\n        return this;\r\n      }\r\n\r\n      // Allow to pass multiple objects either as array or as multiple arguments\r\n      // If it's an array also create copy of it in case we're getting passed\r\n      // a childrens array directly.\r\n      if (!(objects instanceof Array)) {\r\n        objects = _.toArray(arguments);\r\n      } else {\r\n        objects = objects.slice();\r\n      }\r\n\r\n      // Remove the objects\r\n      for (var i = 0; i < objects.length; i++) {\r\n        if (!objects[i] || !(this.children.ids[objects[i].id])) continue;\r\n        this.children.splice(_.indexOf(this.children, objects[i]), 1);\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    /**\r\n     * Return an object with top, left, right, bottom, width, and height\r\n     * parameters of the group.\r\n     */\r\n    getBoundingClientRect: function(shallow) {\r\n      var rect;\r\n\r\n      // TODO: Update this to not __always__ update. Just when it needs to.\r\n      this._update(true);\r\n\r\n      // Variables need to be defined here, because of nested nature of groups.\r\n      var left = Infinity, right = -Infinity,\r\n          top = Infinity, bottom = -Infinity;\r\n\r\n      this.children.forEach(function(child) {\r\n\r\n        if (/(linear-gradient|radial-gradient|gradient)/.test(child._renderer.type)) {\r\n          return;\r\n        }\r\n\r\n        rect = child.getBoundingClientRect(shallow);\r\n\r\n        if (!_.isNumber(rect.top)   || !_.isNumber(rect.left)   ||\r\n            !_.isNumber(rect.right) || !_.isNumber(rect.bottom)) {\r\n          return;\r\n        }\r\n\r\n        top = min(rect.top, top);\r\n        left = min(rect.left, left);\r\n        right = max(rect.right, right);\r\n        bottom = max(rect.bottom, bottom);\r\n\r\n      }, this);\r\n\r\n      return {\r\n        top: top,\r\n        left: left,\r\n        right: right,\r\n        bottom: bottom,\r\n        width: right - left,\r\n        height: bottom - top\r\n      };\r\n\r\n    },\r\n\r\n    /**\r\n     * Trickle down of noFill\r\n     */\r\n    noFill: function() {\r\n      this.children.forEach(function(child) {\r\n        child.noFill();\r\n      });\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Trickle down of noStroke\r\n     */\r\n    noStroke: function() {\r\n      this.children.forEach(function(child) {\r\n        child.noStroke();\r\n      });\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * Trickle down subdivide\r\n     */\r\n    subdivide: function() {\r\n      var args = arguments;\r\n      this.children.forEach(function(child) {\r\n        child.subdivide.apply(child, args);\r\n      });\r\n      return this;\r\n    },\r\n\r\n    flagReset: function() {\r\n\r\n      if (this._flagAdditions) {\r\n        this.additions.length = 0;\r\n        this._flagAdditions = false;\r\n      }\r\n\r\n      if (this._flagSubtractions) {\r\n        this.subtractions.length = 0;\r\n        this._flagSubtractions = false;\r\n      }\r\n\r\n      this._flagOrder = this._flagMask = this._flagOpacity = false;\r\n\r\n      Two.Shape.prototype.flagReset.call(this);\r\n\r\n      return this;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  Group.MakeObservable(Group.prototype);\r\n\r\n  /**\r\n   * Helper function used to sync parent-child relationship within the\r\n   * `Two.Group.children` object.\r\n   *\r\n   * Set the parent of the passed object to another object\r\n   * and updates parent-child relationships\r\n   * Calling with one arguments will simply remove the parenting\r\n   */\r\n  function replaceParent(child, newParent) {\r\n\r\n    var parent = child.parent;\r\n    var index;\r\n\r\n    if (parent === newParent) {\r\n      this.additions.push(child);\r\n      this._flagAdditions = true;\r\n      return;\r\n    }\r\n\r\n    if (parent && parent.children.ids[child.id]) {\r\n\r\n      index = _.indexOf(parent.children, child);\r\n      parent.children.splice(index, 1);\r\n\r\n      // If we're passing from one parent to another...\r\n      index = _.indexOf(parent.additions, child);\r\n\r\n      if (index >= 0) {\r\n        parent.additions.splice(index, 1);\r\n      } else {\r\n        parent.subtractions.push(child);\r\n        parent._flagSubtractions = true;\r\n      }\r\n\r\n    }\r\n\r\n    if (newParent) {\r\n      child.parent = newParent;\r\n      this.additions.push(child);\r\n      this._flagAdditions = true;\r\n      return;\r\n    }\r\n\r\n    // If we're passing from one parent to another...\r\n    index = _.indexOf(this.additions, child);\r\n\r\n    if (index >= 0) {\r\n      this.additions.splice(index, 1);\r\n    } else {\r\n      this.subtractions.push(child);\r\n      this._flagSubtractions = true;\r\n    }\r\n\r\n    delete child.parent;\r\n\r\n  }\r\n\r\n})((typeof global !== 'undefined' ? global : this).Two);\n  })();\n});","'use strict';\n\nvar _rotor = require('./core/rotor');\n\nvar _renderer = require('./core/renderer');\n\nvar _vue = require('./components/vue.app');\n\nvar root = new _rotor.Rotor(75, 0, 9);\n\n// : DEBUG\n\n\nvar secondaryRotor = new _rotor.Rotor(100, 0, 3);\nsecondaryRotor.addPen(100, 0);\n\nroot.addRotorLink(secondaryRotor, 0);\n\nvar tertiaryRotor = new _rotor.Rotor(175, 0, 6);\ntertiaryRotor.addPen(175, 0, 'red');\n\nsecondaryRotor.addRotorLink(tertiaryRotor, 0);\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  // :: get DOM hooks\n  var cyclorama = document.getElementById('cyclorama');\n  var renderer = new _renderer.Renderer(root);\n\n  renderer.initialize(cyclorama);\n\n  // :: --- initialize vue bindings\n\n  (0, _vue.initializeApp)({\n    rotors: [root],\n    renderer: renderer\n  });\n});\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar component = {\n  props: ['renderer'],\n  template: '\\n    <div class=\"app-menu\">\\n      <button class=\"button -playsimulation\" v-on:click=\"play\">Play simulation</button>\\n      <button class=\"button -pausesimulation\" v-on:click=\"pause\">Pause simulation</button>\\n    </div>\\n  ',\n  methods: {\n    play: function play() {\n      this.renderer.play();\n    },\n    pause: function pause() {\n      this.renderer.pause();\n    }\n  }\n};\n\nexports.default = Vue.component('spirograph-menu', component);\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar component = {\n  props: ['rotors'],\n  template: '\\n    <div class=\"rotor-list\">\\n      <rotor v-for=\"rotor in rotors\" v-bind:rotor=\"rotor\"></rotor>\\n    </div>\\n  '\n};\n\nexports.default = Vue.component('rotor-list', component);\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar component = {\n  props: ['rotor'],\n  template: '\\n    <div class=\"rotor\">\\n      <div class=\"properties\">\\n        <label class=\"rotorproperty\">\\n          <span>r</span>\\n          <input v-model=\"rotor.radius\">\\n        </label>\\n        <label class=\"rotorproperty\">\\n          <span>speed</span>\\n          <input v-model=\"rotor._speed\">\\n        </label>\\n        <label class=\"rotorproperty\">\\n          <span>rot</span>\\n          <input v-model=\"rotor._rotation\">\\n        </label>\\n        <button class=\"action -addrotor\"></button>\\n        <button class=\"action -deleterotor\"></button>\\n      </div>\\n\\n      <rotor-list v-if=\"rotor.rotors.length\" v-bind:rotors=\"rotor.rotors\"></rotor-list>\\n    </div>\\n  '\n};\n\nexports.default = Vue.component('rotor', component);\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initializeApp = initializeApp;\nrequire('./menu/menu.component');\nrequire('./rotor-list/rotor-list.component');\nrequire('./rotor/rotor.component');\n\nfunction initializeApp(data) {\n  var app = new Vue({\n    el: '#chrome',\n    data: data\n  });\n\n  return app;\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Renderer = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _two = require('two.js');\n\nvar _two2 = _interopRequireDefault(_two);\n\nvar _rotor = require('./rotor');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction plotPoint(origin, radius, angle) {\n  return {\n    x: Math.cos(angle) * radius + origin.x,\n    y: Math.sin(angle) * radius + origin.y\n  };\n}\n\nvar Renderer = exports.Renderer = function () {\n  _createClass(Renderer, [{\n    key: 'timeDelta',\n    get: function get() {\n      return this._timeDelta || 0;\n    }\n  }, {\n    key: 'origin',\n    get: function get() {\n      return {\n        x: this.canvas.width / 2,\n        y: this.canvas.height / 2\n      };\n    }\n  }, {\n    key: 'isPlaying',\n    get: function get() {\n      return this.canvas.playing;\n    }\n  }]);\n\n  function Renderer(root) {\n    var _this = this;\n\n    _classCallCheck(this, Renderer);\n\n    this.paths = {};\n    this._timeDelta = null;\n\n    this.rootRotor = root;\n    this.canvas = new _two2.default({\n      type: _two2.default.Types.canvas,\n      fullscreen: true\n    });\n\n    this.canvas.bind('update', function () {\n      if (_this.canvas.playing) {\n        if (_this._timeDelta === null) {\n          _this._timeDelta = 0;\n        } else {\n          _this._timeDelta = _this.canvas.timeDelta;\n        }\n      } else {\n        _this._timeDelta = null;\n      }\n    }).bind('pause', function () {\n      _this._timeDelta = null;\n    }).bind('render', function () {\n      return _this.render();\n    });\n\n    console.debug(this.canvas);\n  }\n\n  /**\r\n   * Attaches the Two instance into the DOM\r\n   *\r\n   * @param {*} element\r\n   * @memberof Renderer\r\n   */\n\n\n  _createClass(Renderer, [{\n    key: 'initialize',\n    value: function initialize(element) {\n      this.canvas.appendTo(element);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.canvas.clear();\n      this.drawRotor(this.rootRotor, this.origin, this.timeDelta);\n    }\n  }, {\n    key: 'drawRotor',\n    value: function drawRotor(rotor, origin, delta) {\n      var _this2 = this;\n\n      // :: rotate this rotor by the number of ms\n      rotor.rotate(delta);\n      var rotorPath = this.canvas.makeCircle(origin.x, origin.y, rotor.radius);\n\n      rotorPath.noFill();\n      rotorPath.stroke = 'rgba(0,0,0,.26)';\n      rotorPath.lineWidth = 0.5;\n\n      // :: draw rotor mark\n      var anchor = plotPoint(origin, rotor.radius, rotor.rotation);\n      var rotorMark = this.canvas.makeLine(origin.x, origin.y, anchor.x, anchor.y);\n\n      rotorMark.stroke = 'rgba(0,0,0,.26)';\n      rotorMark.lineWidth = 0.5;\n\n      // :: ---\n\n      // :: draw rotor pen paths\n      rotor.pens.forEach(function (pen) {\n        var projectedOrigin = plotPoint(origin, pen.radius, rotor.rotation + pen.rotation);\n        _this2.drawPenPath(pen, projectedOrigin);\n      });\n\n      // :: ---\n\n      // :: draw rotor links\n      rotor.links.forEach(function (link) {\n        var projectedOrigin = plotPoint(origin, rotor.radius, rotor.rotation + link.rotation);\n        _this2.drawRotor(link.rotor, projectedOrigin, delta);\n      });\n    }\n  }, {\n    key: 'drawPenPath',\n    value: function drawPenPath(pen, vertex) {\n      if (!this.paths[pen.id]) {\n        console.debug('Creating path for pen ' + pen.id);\n\n        var p = new _two2.default.Path([], false, true);\n\n        p.stroke = pen.color;\n        p.linewidth = pen.width;\n        p.noFill();\n\n        this.paths[pen.id] = p;\n      }\n\n      var path = this.paths[pen.id];\n      path.vertices.push(new _two2.default.Anchor(vertex.x, vertex.y));\n      this.canvas.scene.add(path);\n\n      // console.debug(path)\n    }\n  }, {\n    key: 'tick',\n    value: function tick() {\n      this.render();\n      this.canvas.update();\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      this.canvas.play();\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      this.canvas.pause();\n    }\n  }]);\n\n  return Renderer;\n}();\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Pen = exports.Pen = function Pen(radius, rotation) {\n  var color = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'blue';\n  var width = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 2;\n\n  _classCallCheck(this, Pen);\n\n  this.rotation = 0;\n  this.radius = 10;\n  this.color = 'red';\n  this.width = 2;\n\n  this.radius = radius;\n  this.rotation = rotation;\n  this.color = color;\n  this.width = width;\n\n  // :: generate a (hopefully) unique id\n  this.id = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n};\n\n/**\r\n * A Rotor is a circular object that rotates,\r\n * and can have other rotors attached to its circumference.\r\n *\r\n * @class Rotor\r\n */\n\n\nvar Rotor = exports.Rotor = function () {\n  _createClass(Rotor, [{\n    key: 'r',\n    value: function r() {\n      return this.rotors;\n    }\n\n    /**\r\n     * Creates an instance of Rotor.\r\n     * @param {number} r - radius length of the rotor.\r\n     * @param {number} rotation - starting rotation of the rotor, in radians.\r\n     * @param {number} speed - how many seconds to complete one full revolution.\r\n     * @memberof Rotor\r\n     */\n\n  }, {\n    key: 'rotation',\n\n\n    /**\r\n     * Current rotation, in radians.\r\n     *\r\n     * @type {number}\r\n     * @memberof Rotor\r\n     */\n    get: function get() {\n      return this._rotation || 0;\n    }\n\n    /**\r\n     * Returns the radians of rotation per ms\r\n     * for this rotor.\r\n     * This calculation is based off of the torque property.\r\n     *\r\n     * @readonly\r\n     * @type {number}\r\n     * @memberof Rotor\r\n     */\n\n\n    /**\r\n     * Radius length.\r\n     *\r\n     * @type {number}\r\n     * @memberof Rotor\r\n     */\n\n  }, {\n    key: 'speed',\n    get: function get() {\n      // :: (2 * Math.PI / (speed * 1000))\n      return Math.PI / (this._speed * 500);\n    }\n\n    /**\r\n     * Returns all rotors attached to this rotor,\r\n     * as a flat collection.\r\n     *\r\n     * @readonly\r\n     * @type {Rotor[]}\r\n     * @memberof Rotor\r\n     */\n\n  }, {\n    key: 'rotors',\n    get: function get() {\n      return this.links.map(function (link) {\n        return link.rotor;\n      });\n    }\n  }]);\n\n  function Rotor() {\n    var r = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n    var rotation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var speed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n\n    _classCallCheck(this, Rotor);\n\n    this._rotation = 0;\n    this._speed = 10;\n    this.links = [];\n    this.pens = [];\n\n    this.radius = r;\n    this._rotation = rotation;\n    this._speed = speed;\n\n    Rotor.registration.push(this);\n  }\n\n  /**\r\n   * Incremets this rotor's rotation based on how much time has elapsed\r\n   * since the last render tick.\r\n   *\r\n   * @param {number} [tick=0] milliseconds since last render tick\r\n   * @memberof Rotor\r\n   */\n\n\n  _createClass(Rotor, [{\n    key: 'rotate',\n    value: function rotate() {\n      var tick = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      this._rotation += this.speed * tick;\n      this._rotation %= 2 * Math.PI;\n    }\n\n    /**\r\n     * Attaches a Rotor to this one's circumference.\r\n     *\r\n     * @param {Rotor} rotor The Rotor to attach.\r\n     * @param {nunber} rotation The angle from 0 of the bisecting line that marks the anchor point in the circumference where this rotor is attached.\r\n     * @memberof Rotor\r\n     */\n\n  }, {\n    key: 'addRotorLink',\n    value: function addRotorLink(rotor, rotation) {\n      this.links.push({ rotation: rotation, rotor: rotor });\n    }\n  }, {\n    key: 'addPen',\n    value: function addPen(radius, rotation, color, width) {\n      this.pens.push(new Pen(radius, rotation, color, width));\n    }\n\n    /**\r\n     * Deregisters this Rotor,\r\n     * and all its links.\r\n     *\r\n     * @memberof Rotor\r\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove() {\n      this.rotors.forEach(function (rotor) {\n        return rotor.remove();\n      });\n    }\n  }]);\n\n  return Rotor;\n}();\n\nRotor.registration = [];\n","'use strict';\n\n/* jshint ignore:start */\n(function () {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = window.brunch || {};\n  var ar = br['auto-reload'] = br['auto-reload'] || {};\n  if (!WebSocket || ar.disabled) return;\n  if (window._ar) return;\n  window._ar = true;\n\n  var cacheBuster = function cacheBuster(url) {\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') + 'cacheBuster=' + date;\n  };\n\n  var browser = navigator.userAgent.toLowerCase();\n  var forceRepaint = ar.forceRepaint || browser.indexOf('chrome') > -1;\n\n  var reloaders = {\n    page: function page() {\n      window.location.reload(true);\n    },\n\n    stylesheet: function stylesheet() {\n      [].slice.call(document.querySelectorAll('link[rel=stylesheet]')).filter(function (link) {\n        var val = link.getAttribute('data-autoreload');\n        return link.href && val != 'false';\n      }).forEach(function (link) {\n        link.href = cacheBuster(link.href);\n      });\n\n      // Hack to force page repaint after 25ms.\n      if (forceRepaint) setTimeout(function () {\n        document.body.offsetHeight;\n      }, 25);\n    },\n\n    javascript: function javascript() {\n      var scripts = [].slice.call(document.querySelectorAll('script'));\n      var textScripts = scripts.map(function (script) {\n        return script.text;\n      }).filter(function (text) {\n        return text.length > 0;\n      });\n      var srcScripts = scripts.filter(function (script) {\n        return script.src;\n      });\n\n      var loaded = 0;\n      var all = srcScripts.length;\n      var onLoad = function onLoad() {\n        loaded = loaded + 1;\n        if (loaded === all) {\n          textScripts.forEach(function (script) {\n            eval(script);\n          });\n        }\n      };\n\n      srcScripts.forEach(function (script) {\n        var src = script.src;\n        script.remove();\n        var newScript = document.createElement('script');\n        newScript.src = cacheBuster(src);\n        newScript.async = true;\n        newScript.onload = onLoad;\n        document.head.appendChild(newScript);\n      });\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname || 'localhost';\n\n  var connect = function connect() {\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function (event) {\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function () {\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function () {\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n/* jshint ignore:end */\n","/*!\r\n * Vue.js v2.4.2\r\n * (c) 2014-2017 Evan You\r\n * Released under the MIT License.\r\n */\r\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.Vue=e()}(this,function(){\"use strict\";function t(t){return void 0===t||null===t}function e(t){return void 0!==t&&null!==t}function n(t){return!0===t}function r(t){return!1===t}function i(t){return\"string\"==typeof t||\"number\"==typeof t||\"boolean\"==typeof t}function o(t){return null!==t&&\"object\"==typeof t}function a(t){return\"[object Object]\"===pi.call(t)}function s(t){return\"[object RegExp]\"===pi.call(t)}function c(t){var e=parseFloat(t);return e>=0&&Math.floor(e)===e&&isFinite(t)}function u(t){return null==t?\"\":\"object\"==typeof t?JSON.stringify(t,null,2):String(t)}function l(t){var e=parseFloat(t);return isNaN(e)?t:e}function f(t,e){for(var n=Object.create(null),r=t.split(\",\"),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function p(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function d(t,e){return hi.call(t,e)}function v(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}function h(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function m(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function y(t,e){for(var n in e)t[n]=e[n];return t}function g(t){for(var e={},n=0;n<t.length;n++)t[n]&&y(e,t[n]);return e}function _(t,e,n){}function b(t,e){if(t===e)return!0;var n=o(t),r=o(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),a=Array.isArray(e);if(i&&a)return t.length===e.length&&t.every(function(t,n){return b(t,e[n])});if(i||a)return!1;var s=Object.keys(t),c=Object.keys(e);return s.length===c.length&&s.every(function(n){return b(t[n],e[n])})}catch(t){return!1}}function $(t,e){for(var n=0;n<t.length;n++)if(b(t[n],e))return n;return-1}function C(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function w(t){var e=(t+\"\").charCodeAt(0);return 36===e||95===e}function x(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function A(t){if(!Ti.test(t)){var e=t.split(\".\");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}function k(t,e,n){if(ki.errorHandler)ki.errorHandler.call(null,t,e,n);else{if(!ji||\"undefined\"==typeof console)throw t;console.error(t)}}function O(t){return\"function\"==typeof t&&/native code/.test(t.toString())}function T(t){Gi.target&&Zi.push(Gi.target),Gi.target=t}function S(){Gi.target=Zi.pop()}function E(t,e,n){t.__proto__=e}function j(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];x(t,o,e[o])}}function L(t,e){if(o(t)){var n;return d(t,\"__ob__\")&&t.__ob__ instanceof eo?n=t.__ob__:to.shouldConvert&&!zi()&&(Array.isArray(t)||a(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new eo(t)),e&&n&&n.vmCount++,n}}function N(t,e,n,r,i){var o=new Gi,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set,u=!i&&L(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return Gi.target&&(o.depend(),u&&u.dep.depend(),Array.isArray(e)&&D(e)),e},set:function(e){var r=s?s.call(t):n;e===r||e!==e&&r!==r||(c?c.call(t,e):n=e,u=!i&&L(e),o.notify())}})}}function I(t,e,n){if(Array.isArray(t)&&c(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(d(t,e))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(N(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function M(t,e){if(Array.isArray(t)&&c(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||d(t,e)&&(delete t[e],n&&n.dep.notify())}}function D(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&D(e)}function P(t,e){if(!e)return t;for(var n,r,i,o=Object.keys(e),s=0;s<o.length;s++)r=t[n=o[s]],i=e[n],d(t,n)?a(r)&&a(i)&&P(r,i):I(t,n,i);return t}function F(t,e,n){return n?t||e?function(){var r=\"function\"==typeof e?e.call(n):e,i=\"function\"==typeof t?t.call(n):void 0;return r?P(r,i):i}:void 0:e?t?function(){return P(\"function\"==typeof e?e.call(this):e,\"function\"==typeof t?t.call(this):t)}:e:t}function R(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function H(t,e){var n=Object.create(t||null);return e?y(n,e):n}function B(t){var e=t.props;if(e){var n,r,i={};if(Array.isArray(e))for(n=e.length;n--;)\"string\"==typeof(r=e[n])&&(i[yi(r)]={type:null});else if(a(e))for(var o in e)r=e[o],i[yi(o)]=a(r)?r:{type:r};t.props=i}}function U(t){var e=t.inject;if(Array.isArray(e))for(var n=t.inject={},r=0;r<e.length;r++)n[e[r]]=e[r]}function V(t){var e=t.directives;if(e)for(var n in e){var r=e[n];\"function\"==typeof r&&(e[n]={bind:r,update:r})}}function z(t,e,n){function r(r){var i=no[r]||ro;c[r]=i(t[r],e[r],n,r)}\"function\"==typeof e&&(e=e.options),B(e),U(e),V(e);var i=e.extends;if(i&&(t=z(t,i,n)),e.mixins)for(var o=0,a=e.mixins.length;o<a;o++)t=z(t,e.mixins[o],n);var s,c={};for(s in t)r(s);for(s in e)d(t,s)||r(s);return c}function K(t,e,n,r){if(\"string\"==typeof n){var i=t[e];if(d(i,n))return i[n];var o=yi(n);if(d(i,o))return i[o];var a=gi(o);if(d(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function J(t,e,n,r){var i=e[t],o=!d(n,t),a=n[t];if(G(Boolean,i.type)&&(o&&!d(i,\"default\")?a=!1:G(String,i.type)||\"\"!==a&&a!==bi(t)||(a=!0)),void 0===a){a=q(r,i,t);var s=to.shouldConvert;to.shouldConvert=!0,L(a),to.shouldConvert=s}return a}function q(t,e,n){if(d(e,\"default\")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:\"function\"==typeof r&&\"Function\"!==W(e.type)?r.call(t):r}}function W(t){var e=t&&t.toString().match(/^\\s*function (\\w+)/);return e?e[1]:\"\"}function G(t,e){if(!Array.isArray(e))return W(e)===W(t);for(var n=0,r=e.length;n<r;n++)if(W(e[n])===W(t))return!0;return!1}function Z(t){return new io(void 0,void 0,void 0,String(t))}function Y(t){var e=new io(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.isCloned=!0,e}function Q(t){for(var e=t.length,n=new Array(e),r=0;r<e;r++)n[r]=Y(t[r]);return n}function X(t){function e(){var t=arguments,n=e.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var r=n.slice(),i=0;i<r.length;i++)r[i].apply(null,t)}return e.fns=t,e}function tt(e,n,r,i,o){var a,s,c,u;for(a in e)s=e[a],c=n[a],u=co(a),t(s)||(t(c)?(t(s.fns)&&(s=e[a]=X(s)),r(u.name,s,u.once,u.capture,u.passive)):s!==c&&(c.fns=s,e[a]=c));for(a in n)t(e[a])&&i((u=co(a)).name,n[a],u.capture)}function et(r,i,o){function a(){o.apply(this,arguments),p(s.fns,a)}var s,c=r[i];t(c)?s=X([a]):e(c.fns)&&n(c.merged)?(s=c).fns.push(a):s=X([c,a]),s.merged=!0,r[i]=s}function nt(n,r,i){var o=r.options.props;if(!t(o)){var a={},s=n.attrs,c=n.props;if(e(s)||e(c))for(var u in o){var l=bi(u);rt(a,c,u,l,!0)||rt(a,s,u,l,!1)}return a}}function rt(t,n,r,i,o){if(e(n)){if(d(n,r))return t[r]=n[r],o||delete n[r],!0;if(d(n,i))return t[r]=n[i],o||delete n[i],!0}return!1}function it(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function ot(t){return i(t)?[Z(t)]:Array.isArray(t)?st(t):void 0}function at(t){return e(t)&&e(t.text)&&r(t.isComment)}function st(r,o){var a,s,c,u=[];for(a=0;a<r.length;a++)t(s=r[a])||\"boolean\"==typeof s||(c=u[u.length-1],Array.isArray(s)?u.push.apply(u,st(s,(o||\"\")+\"_\"+a)):i(s)?at(c)?c.text+=String(s):\"\"!==s&&u.push(Z(s)):at(s)&&at(c)?u[u.length-1]=Z(c.text+s.text):(n(r._isVList)&&e(s.tag)&&t(s.key)&&e(o)&&(s.key=\"__vlist\"+o+\"_\"+a+\"__\"),u.push(s)));return u}function ct(t,e){return t.__esModule&&t.default&&(t=t.default),o(t)?e.extend(t):t}function ut(t,e,n,r,i){var o=so();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function lt(r,i,a){if(n(r.error)&&e(r.errorComp))return r.errorComp;if(e(r.resolved))return r.resolved;if(n(r.loading)&&e(r.loadingComp))return r.loadingComp;if(!e(r.contexts)){var s=r.contexts=[a],c=!0,u=function(){for(var t=0,e=s.length;t<e;t++)s[t].$forceUpdate()},l=C(function(t){r.resolved=ct(t,i),c||u()}),f=C(function(t){e(r.errorComp)&&(r.error=!0,u())}),p=r(l,f);return o(p)&&(\"function\"==typeof p.then?t(r.resolved)&&p.then(l,f):e(p.component)&&\"function\"==typeof p.component.then&&(p.component.then(l,f),e(p.error)&&(r.errorComp=ct(p.error,i)),e(p.loading)&&(r.loadingComp=ct(p.loading,i),0===p.delay?r.loading=!0:setTimeout(function(){t(r.resolved)&&t(r.error)&&(r.loading=!0,u())},p.delay||200)),e(p.timeout)&&setTimeout(function(){t(r.resolved)&&f(null)},p.timeout))),c=!1,r.loading?r.loadingComp:r.resolved}r.contexts.push(a)}function ft(t){if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];if(e(r)&&e(r.componentOptions))return r}}function pt(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&ht(t,e)}function dt(t,e,n){n?ao.$once(t,e):ao.$on(t,e)}function vt(t,e){ao.$off(t,e)}function ht(t,e,n){ao=t,tt(e,n||{},dt,vt,t)}function mt(t,e){var n={};if(!t)return n;for(var r=[],i=0,o=t.length;i<o;i++){var a=t[i];if(a.context!==e&&a.functionalContext!==e||!a.data||null==a.data.slot)r.push(a);else{var s=a.data.slot,c=n[s]||(n[s]=[]);\"template\"===a.tag?c.push.apply(c,a.children):c.push(a)}}return r.every(yt)||(n.default=r),n}function yt(t){return t.isComment||\" \"===t.text}function gt(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?gt(t[n],e):e[t[n].key]=t[n].fn;return e}function _t(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function bt(t,e,n){t.$el=e,t.$options.render||(t.$options.render=so),At(t,\"beforeMount\");var r;return r=function(){t._update(t._render(),n)},t._watcher=new go(t,r,_),n=!1,null==t.$vnode&&(t._isMounted=!0,At(t,\"mounted\")),t}function $t(t,e,n,r,i){var o=!!(i||t.$options._renderChildren||r.data.scopedSlots||t.$scopedSlots!==Oi);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=i,t.$attrs=r.data&&r.data.attrs,t.$listeners=n,e&&t.$options.props){to.shouldConvert=!1;for(var a=t._props,s=t.$options._propKeys||[],c=0;c<s.length;c++){var u=s[c];a[u]=J(u,t.$options.props,e,t)}to.shouldConvert=!0,t.$options.propsData=e}if(n){var l=t.$options._parentListeners;t.$options._parentListeners=n,ht(t,n,l)}o&&(t.$slots=mt(i,r.context),t.$forceUpdate())}function Ct(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function wt(t,e){if(e){if(t._directInactive=!1,Ct(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)wt(t.$children[n]);At(t,\"activated\")}}function xt(t,e){if(!(e&&(t._directInactive=!0,Ct(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)xt(t.$children[n]);At(t,\"deactivated\")}}function At(t,e){var n=t.$options[e];if(n)for(var r=0,i=n.length;r<i;r++)try{n[r].call(t)}catch(n){k(n,t,e+\" hook\")}t._hasHookEvent&&t.$emit(\"hook:\"+e)}function kt(){mo=lo.length=fo.length=0,po={},vo=ho=!1}function Ot(){ho=!0;var t,e;for(lo.sort(function(t,e){return t.id-e.id}),mo=0;mo<lo.length;mo++)e=(t=lo[mo]).id,po[e]=null,t.run();var n=fo.slice(),r=lo.slice();kt(),Et(n),Tt(r),Ki&&ki.devtools&&Ki.emit(\"flush\")}function Tt(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&At(r,\"updated\")}}function St(t){t._inactive=!1,fo.push(t)}function Et(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,wt(t[e],!0)}function jt(t){var e=t.id;if(null==po[e]){if(po[e]=!0,ho){for(var n=lo.length-1;n>mo&&lo[n].id>t.id;)n--;lo.splice(n+1,0,t)}else lo.push(t);vo||(vo=!0,qi(Ot))}}function Lt(t){_o.clear(),Nt(t,_o)}function Nt(t,e){var n,r,i=Array.isArray(t);if((i||o(t))&&Object.isExtensible(t)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(i)for(n=t.length;n--;)Nt(t[n],e);else for(n=(r=Object.keys(t)).length;n--;)Nt(t[r[n]],e)}}function It(t,e,n){bo.get=function(){return this[e][n]},bo.set=function(t){this[e][n]=t},Object.defineProperty(t,n,bo)}function Mt(t){t._watchers=[];var e=t.$options;e.props&&Dt(t,e.props),e.methods&&Ut(t,e.methods),e.data?Pt(t):L(t._data={},!0),e.computed&&Rt(t,e.computed),e.watch&&e.watch!==Ri&&Vt(t,e.watch)}function Dt(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;to.shouldConvert=o;for(var a in e)!function(o){i.push(o);var a=J(o,e,n,t);N(r,o,a),o in t||It(t,\"_props\",o)}(a);to.shouldConvert=!0}function Pt(t){var e=t.$options.data;a(e=t._data=\"function\"==typeof e?Ft(e,t):e||{})||(e={});for(var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);i--;){var o=n[i];r&&d(r,o)||w(o)||It(t,\"_data\",o)}L(e,!0)}function Ft(t,e){try{return t.call(e)}catch(t){return k(t,e,\"data()\"),{}}}function Rt(t,e){var n=t._computedWatchers=Object.create(null);for(var r in e){var i=e[r],o=\"function\"==typeof i?i:i.get;n[r]=new go(t,o||_,_,$o),r in t||Ht(t,r,i)}}function Ht(t,e,n){\"function\"==typeof n?(bo.get=Bt(e),bo.set=_):(bo.get=n.get?!1!==n.cache?Bt(e):n.get:_,bo.set=n.set?n.set:_),Object.defineProperty(t,e,bo)}function Bt(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Gi.target&&e.depend(),e.value}}function Ut(t,e){t.$options.props;for(var n in e)t[n]=null==e[n]?_:h(e[n],t)}function Vt(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)zt(t,n,r[i]);else zt(t,n,r)}}function zt(t,e,n,r){return a(n)&&(r=n,n=n.handler),\"string\"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function Kt(t){var e=t.$options.provide;e&&(t._provided=\"function\"==typeof e?e.call(t):e)}function Jt(t){var e=qt(t.$options.inject,t);e&&(to.shouldConvert=!1,Object.keys(e).forEach(function(n){N(t,n,e[n])}),to.shouldConvert=!0)}function qt(t,e){if(t){for(var n=Object.create(null),r=Ji?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++)for(var o=r[i],a=t[o],s=e;s;){if(s._provided&&a in s._provided){n[o]=s._provided[a];break}s=s.$parent}return n}}function Wt(t,n,r,i,o){var a={},s=t.options.props;if(e(s))for(var c in s)a[c]=J(c,s,n||{});else e(r.attrs)&&Gt(a,r.attrs),e(r.props)&&Gt(a,r.props);var u=Object.create(i),l=t.options.render.call(null,function(t,e,n,r){return ee(u,t,e,n,r,!0)},{data:r,props:a,children:o,parent:i,listeners:r.on||{},injections:qt(t.options.inject,i),slots:function(){return mt(o,i)}});return l instanceof io&&(l.functionalContext=i,l.functionalOptions=t.options,r.slot&&((l.data||(l.data={})).slot=r.slot)),l}function Gt(t,e){for(var n in e)t[yi(n)]=e[n]}function Zt(r,i,a,s,c){if(!t(r)){var u=a.$options._base;if(o(r)&&(r=u.extend(r)),\"function\"==typeof r){var l;if(t(r.cid)&&(l=r,void 0===(r=lt(l,u,a))))return ut(l,i,a,s,c);i=i||{},me(r),e(i.model)&&te(r.options,i);var f=nt(i,r,c);if(n(r.options.functional))return Wt(r,f,i,a,s);var p=i.on;if(i.on=i.nativeOn,n(r.options.abstract)){var d=i.slot;i={},d&&(i.slot=d)}Qt(i);var v=r.options.name||c;return new io(\"vue-component-\"+r.cid+(v?\"-\"+v:\"\"),i,void 0,void 0,void 0,a,{Ctor:r,propsData:f,listeners:p,tag:c,children:s},l)}}}function Yt(t,n,r,i){var o=t.componentOptions,a={_isComponent:!0,parent:n,propsData:o.propsData,_componentTag:o.tag,_parentVnode:t,_parentListeners:o.listeners,_renderChildren:o.children,_parentElm:r||null,_refElm:i||null},s=t.data.inlineTemplate;return e(s)&&(a.render=s.render,a.staticRenderFns=s.staticRenderFns),new o.Ctor(a)}function Qt(t){t.hook||(t.hook={});for(var e=0;e<wo.length;e++){var n=wo[e],r=t.hook[n],i=Co[n];t.hook[n]=r?Xt(i,r):i}}function Xt(t,e){return function(n,r,i,o){t(n,r,i,o),e(n,r,i,o)}}function te(t,n){var r=t.model&&t.model.prop||\"value\",i=t.model&&t.model.event||\"input\";(n.props||(n.props={}))[r]=n.model.value;var o=n.on||(n.on={});e(o[i])?o[i]=[n.model.callback].concat(o[i]):o[i]=n.model.callback}function ee(t,e,r,o,a,s){return(Array.isArray(r)||i(r))&&(a=o,o=r,r=void 0),n(s)&&(a=Ao),ne(t,e,r,o,a)}function ne(t,n,r,i,o){if(e(r)&&e(r.__ob__))return so();if(e(r)&&e(r.is)&&(n=r.is),!n)return so();Array.isArray(i)&&\"function\"==typeof i[0]&&((r=r||{}).scopedSlots={default:i[0]},i.length=0),o===Ao?i=ot(i):o===xo&&(i=it(i));var a,s;if(\"string\"==typeof n){var c;s=ki.getTagNamespace(n),a=ki.isReservedTag(n)?new io(ki.parsePlatformTagName(n),r,i,void 0,void 0,t):e(c=K(t.$options,\"components\",n))?Zt(c,r,t,i,n):new io(n,r,i,void 0,void 0,t)}else a=Zt(n,r,t,i);return e(a)?(s&&re(a,s),a):so()}function re(n,r){if(n.ns=r,\"foreignObject\"!==n.tag&&e(n.children))for(var i=0,o=n.children.length;i<o;i++){var a=n.children[i];e(a.tag)&&t(a.ns)&&re(a,r)}}function ie(t,n){var r,i,a,s,c;if(Array.isArray(t)||\"string\"==typeof t)for(r=new Array(t.length),i=0,a=t.length;i<a;i++)r[i]=n(t[i],i);else if(\"number\"==typeof t)for(r=new Array(t),i=0;i<t;i++)r[i]=n(i+1,i);else if(o(t))for(s=Object.keys(t),r=new Array(s.length),i=0,a=s.length;i<a;i++)c=s[i],r[i]=n(t[c],c,i);return e(r)&&(r._isVList=!0),r}function oe(t,e,n,r){var i=this.$scopedSlots[t];if(i)return n=n||{},r&&(n=y(y({},r),n)),i(n)||e;var o=this.$slots[t];return o||e}function ae(t){return K(this.$options,\"filters\",t,!0)||Ci}function se(t,e,n){var r=ki.keyCodes[e]||n;return Array.isArray(r)?-1===r.indexOf(t):r!==t}function ce(t,e,n,r,i){if(n)if(o(n)){Array.isArray(n)&&(n=g(n));var a;for(var s in n)!function(o){if(\"class\"===o||\"style\"===o||vi(o))a=t;else{var s=t.attrs&&t.attrs.type;a=r||ki.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}o in a||(a[o]=n[o],i&&((t.on||(t.on={}))[\"update:\"+o]=function(t){n[o]=t}))}(s)}else;return t}function ue(t,e){var n=this._staticTrees[t];return n&&!e?Array.isArray(n)?Q(n):Y(n):(n=this._staticTrees[t]=this.$options.staticRenderFns[t].call(this._renderProxy),fe(n,\"__static__\"+t,!1),n)}function le(t,e,n){return fe(t,\"__once__\"+e+(n?\"_\"+n:\"\"),!0),t}function fe(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&\"string\"!=typeof t[r]&&pe(t[r],e+\"_\"+r,n);else pe(t,e,n)}function pe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function de(t,e){if(e)if(a(e)){var n=t.on=t.on?y({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(o,i):o}}else;return t}function ve(t){t._vnode=null,t._staticTrees=null;var e=t.$vnode=t.$options._parentVnode,n=e&&e.context;t.$slots=mt(t.$options._renderChildren,n),t.$scopedSlots=Oi,t._c=function(e,n,r,i){return ee(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return ee(t,e,n,r,i,!0)};var r=e&&e.data;N(t,\"$attrs\",r&&r.attrs,null,!0),N(t,\"$listeners\",t.$options._parentListeners,null,!0)}function he(t,e){var n=t.$options=Object.create(t.constructor.options);n.parent=e.parent,n.propsData=e.propsData,n._parentVnode=e._parentVnode,n._parentListeners=e._parentListeners,n._renderChildren=e._renderChildren,n._componentTag=e._componentTag,n._parentElm=e._parentElm,n._refElm=e._refElm,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function me(t){var e=t.options;if(t.super){var n=me(t.super);if(n!==t.superOptions){t.superOptions=n;var r=ye(t);r&&y(t.extendOptions,r),(e=t.options=z(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function ye(t){var e,n=t.options,r=t.extendOptions,i=t.sealedOptions;for(var o in n)n[o]!==i[o]&&(e||(e={}),e[o]=ge(n[o],r[o],i[o]));return e}function ge(t,e,n){if(Array.isArray(t)){var r=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++)(e.indexOf(t[i])>=0||n.indexOf(t[i])<0)&&r.push(t[i]);return r}return t}function _e(t){this._init(t)}function be(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=m(arguments,1);return n.unshift(this),\"function\"==typeof t.install?t.install.apply(t,n):\"function\"==typeof t&&t.apply(null,n),e.push(t),this}}function $e(t){t.mixin=function(t){return this.options=z(this.options,t),this}}function Ce(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name,a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=z(n.options,t),a.super=n,a.options.props&&we(a),a.options.computed&&xe(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,xi.forEach(function(t){a[t]=n[t]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=y({},a.options),i[r]=a,a}}function we(t){var e=t.options.props;for(var n in e)It(t.prototype,\"_props\",n)}function xe(t){var e=t.options.computed;for(var n in e)Ht(t.prototype,n,e[n])}function Ae(t){xi.forEach(function(e){t[e]=function(t,n){return n?(\"component\"===e&&a(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),\"directive\"===e&&\"function\"==typeof n&&(n={bind:n,update:n}),this.options[e+\"s\"][t]=n,n):this.options[e+\"s\"][t]}})}function ke(t){return t&&(t.Ctor.options.name||t.tag)}function Oe(t,e){return Array.isArray(t)?t.indexOf(e)>-1:\"string\"==typeof t?t.split(\",\").indexOf(e)>-1:!!s(t)&&t.test(e)}function Te(t,e,n){for(var r in t){var i=t[r];if(i){var o=ke(i.componentOptions);o&&!n(o)&&(i!==e&&Se(i),t[r]=null)}}}function Se(t){t&&t.componentInstance.$destroy()}function Ee(t){for(var n=t.data,r=t,i=t;e(i.componentInstance);)(i=i.componentInstance._vnode).data&&(n=je(i.data,n));for(;e(r=r.parent);)r.data&&(n=je(n,r.data));return Le(n.staticClass,n.class)}function je(t,n){return{staticClass:Ne(t.staticClass,n.staticClass),class:e(t.class)?[t.class,n.class]:n.class}}function Le(t,n){return e(t)||e(n)?Ne(t,Ie(n)):\"\"}function Ne(t,e){return t?e?t+\" \"+e:t:e||\"\"}function Ie(t){return Array.isArray(t)?Me(t):o(t)?De(t):\"string\"==typeof t?t:\"\"}function Me(t){for(var n,r=\"\",i=0,o=t.length;i<o;i++)e(n=Ie(t[i]))&&\"\"!==n&&(r&&(r+=\" \"),r+=n);return r}function De(t){var e=\"\";for(var n in t)t[n]&&(e&&(e+=\" \"),e+=n);return e}function Pe(t){return Go(t)?\"svg\":\"math\"===t?\"math\":void 0}function Fe(t){if(\"string\"==typeof t){var e=document.querySelector(t);return e||document.createElement(\"div\")}return t}function Re(t,e){var n=t.data.ref;if(n){var r=t.context,i=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?p(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}function He(r,i){return r.key===i.key&&(r.tag===i.tag&&r.isComment===i.isComment&&e(r.data)===e(i.data)&&Be(r,i)||n(r.isAsyncPlaceholder)&&r.asyncFactory===i.asyncFactory&&t(i.asyncFactory.error))}function Be(t,n){if(\"input\"!==t.tag)return!0;var r;return(e(r=t.data)&&e(r=r.attrs)&&r.type)===(e(r=n.data)&&e(r=r.attrs)&&r.type)}function Ue(t,n,r){var i,o,a={};for(i=n;i<=r;++i)e(o=t[i].key)&&(a[o]=i);return a}function Ve(t,e){(t.data.directives||e.data.directives)&&ze(t,e)}function ze(t,e){var n,r,i,o=t===ta,a=e===ta,s=Ke(t.data.directives,t.context),c=Ke(e.data.directives,e.context),u=[],l=[];for(n in c)r=s[n],i=c[n],r?(i.oldValue=r.value,qe(i,\"update\",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(qe(i,\"bind\",e,t),i.def&&i.def.inserted&&u.push(i));if(u.length){var f=function(){for(var n=0;n<u.length;n++)qe(u[n],\"inserted\",e,t)};o?et(e.data.hook||(e.data.hook={}),\"insert\",f):f()}if(l.length&&et(e.data.hook||(e.data.hook={}),\"postpatch\",function(){for(var n=0;n<l.length;n++)qe(l[n],\"componentUpdated\",e,t)}),!o)for(n in s)c[n]||qe(s[n],\"unbind\",t,t,a)}function Ke(t,e){var n=Object.create(null);if(!t)return n;var r,i;for(r=0;r<t.length;r++)(i=t[r]).modifiers||(i.modifiers=ra),n[Je(i)]=i,i.def=K(e.$options,\"directives\",i.name,!0);return n}function Je(t){return t.rawName||t.name+\".\"+Object.keys(t.modifiers||{}).join(\".\")}function qe(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){k(r,n.context,\"directive \"+t.name+\" \"+e+\" hook\")}}function We(n,r){var i=r.componentOptions;if(!(e(i)&&!1===i.Ctor.options.inheritAttrs||t(n.data.attrs)&&t(r.data.attrs))){var o,a,s=r.elm,c=n.data.attrs||{},u=r.data.attrs||{};e(u.__ob__)&&(u=r.data.attrs=y({},u));for(o in u)a=u[o],c[o]!==a&&Ge(s,o,a);Ii&&u.value!==c.value&&Ge(s,\"value\",u.value);for(o in c)t(u[o])&&(zo(o)?s.removeAttributeNS(Vo,Ko(o)):Bo(o)||s.removeAttribute(o))}}function Ge(t,e,n){Uo(e)?Jo(n)?t.removeAttribute(e):t.setAttribute(e,e):Bo(e)?t.setAttribute(e,Jo(n)||\"false\"===n?\"false\":\"true\"):zo(e)?Jo(n)?t.removeAttributeNS(Vo,Ko(e)):t.setAttributeNS(Vo,e,n):Jo(n)?t.removeAttribute(e):t.setAttribute(e,n)}function Ze(n,r){var i=r.elm,o=r.data,a=n.data;if(!(t(o.staticClass)&&t(o.class)&&(t(a)||t(a.staticClass)&&t(a.class)))){var s=Ee(r),c=i._transitionClasses;e(c)&&(s=Ne(s,Ie(c))),s!==i._prevClass&&(i.setAttribute(\"class\",s),i._prevClass=s)}}function Ye(t){function e(){(a||(a=[])).push(t.slice(v,i).trim()),v=i+1}var n,r,i,o,a,s=!1,c=!1,u=!1,l=!1,f=0,p=0,d=0,v=0;for(i=0;i<t.length;i++)if(r=n,n=t.charCodeAt(i),s)39===n&&92!==r&&(s=!1);else if(c)34===n&&92!==r&&(c=!1);else if(u)96===n&&92!==r&&(u=!1);else if(l)47===n&&92!==r&&(l=!1);else if(124!==n||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||f||p||d){switch(n){case 34:c=!0;break;case 39:s=!0;break;case 96:u=!0;break;case 40:d++;break;case 41:d--;break;case 91:p++;break;case 93:p--;break;case 123:f++;break;case 125:f--}if(47===n){for(var h=i-1,m=void 0;h>=0&&\" \"===(m=t.charAt(h));h--);m&&sa.test(m)||(l=!0)}}else void 0===o?(v=i+1,o=t.slice(0,i).trim()):e();if(void 0===o?o=t.slice(0,i).trim():0!==v&&e(),a)for(i=0;i<a.length;i++)o=Qe(o,a[i]);return o}function Qe(t,e){var n=e.indexOf(\"(\");return n<0?'_f(\"'+e+'\")('+t+\")\":'_f(\"'+e.slice(0,n)+'\")('+t+\",\"+e.slice(n+1)}function Xe(t){console.error(\"[Vue compiler]: \"+t)}function tn(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function en(t,e,n){(t.props||(t.props=[])).push({name:e,value:n})}function nn(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n})}function rn(t,e,n,r,i,o){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:r,arg:i,modifiers:o})}function on(t,e,n,r,i,o){r&&r.capture&&(delete r.capture,e=\"!\"+e),r&&r.once&&(delete r.once,e=\"~\"+e),r&&r.passive&&(delete r.passive,e=\"&\"+e);var a;r&&r.native?(delete r.native,a=t.nativeEvents||(t.nativeEvents={})):a=t.events||(t.events={});var s={value:n,modifiers:r},c=a[e];Array.isArray(c)?i?c.unshift(s):c.push(s):a[e]=c?i?[s,c]:[c,s]:s}function an(t,e,n){var r=sn(t,\":\"+e)||sn(t,\"v-bind:\"+e);if(null!=r)return Ye(r);if(!1!==n){var i=sn(t,e);if(null!=i)return JSON.stringify(i)}}function sn(t,e){var n;if(null!=(n=t.attrsMap[e]))for(var r=t.attrsList,i=0,o=r.length;i<o;i++)if(r[i].name===e){r.splice(i,1);break}return n}function cn(t,e,n){var r=n||{},i=r.number,o=\"$$v\";r.trim&&(o=\"(typeof $$v === 'string'? $$v.trim(): $$v)\"),i&&(o=\"_n(\"+o+\")\");var a=un(e,o);t.model={value:\"(\"+e+\")\",expression:'\"'+e+'\"',callback:\"function ($$v) {\"+a+\"}\"}}function un(t,e){var n=ln(t);return null===n.idx?t+\"=\"+e:\"$set(\"+n.exp+\", \"+n.idx+\", \"+e+\")\"}function ln(t){if(Eo=t,So=Eo.length,Lo=No=Io=0,t.indexOf(\"[\")<0||t.lastIndexOf(\"]\")<So-1)return{exp:t,idx:null};for(;!pn();)dn(jo=fn())?hn(jo):91===jo&&vn(jo);return{exp:t.substring(0,No),idx:t.substring(No+1,Io)}}function fn(){return Eo.charCodeAt(++Lo)}function pn(){return Lo>=So}function dn(t){return 34===t||39===t}function vn(t){var e=1;for(No=Lo;!pn();)if(t=fn(),dn(t))hn(t);else if(91===t&&e++,93===t&&e--,0===e){Io=Lo;break}}function hn(t){for(var e=t;!pn()&&(t=fn())!==e;);}function mn(t,e,n){var r=n&&n.number,i=an(t,\"value\")||\"null\",o=an(t,\"true-value\")||\"true\",a=an(t,\"false-value\")||\"false\";en(t,\"checked\",\"Array.isArray(\"+e+\")?_i(\"+e+\",\"+i+\")>-1\"+(\"true\"===o?\":(\"+e+\")\":\":_q(\"+e+\",\"+o+\")\")),on(t,ua,\"var $$a=\"+e+\",$$el=$event.target,$$c=$$el.checked?(\"+o+\"):(\"+a+\");if(Array.isArray($$a)){var $$v=\"+(r?\"_n(\"+i+\")\":i)+\",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&(\"+e+\"=$$a.concat($$v))}else{$$i>-1&&(\"+e+\"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{\"+un(e,\"$$c\")+\"}\",null,!0)}function yn(t,e,n){var r=n&&n.number,i=an(t,\"value\")||\"null\";en(t,\"checked\",\"_q(\"+e+\",\"+(i=r?\"_n(\"+i+\")\":i)+\")\"),on(t,ua,un(e,i),null,!0)}function gn(t,e,n){var r=\"var $$selectedVal = \"+('Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return '+(n&&n.number?\"_n(val)\":\"val\")+\"})\")+\";\";on(t,\"change\",r=r+\" \"+un(e,\"$event.target.multiple ? $$selectedVal : $$selectedVal[0]\"),null,!0)}function _n(t,e,n){var r=t.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,c=!o&&\"range\"!==r,u=o?\"change\":\"range\"===r?ca:\"input\",l=\"$event.target.value\";s&&(l=\"$event.target.value.trim()\"),a&&(l=\"_n(\"+l+\")\");var f=un(e,l);c&&(f=\"if($event.target.composing)return;\"+f),en(t,\"value\",\"(\"+e+\")\"),on(t,u,f,null,!0),(s||a)&&on(t,\"blur\",\"$forceUpdate()\")}function bn(t){var n;e(t[ca])&&(t[n=Ni?\"change\":\"input\"]=[].concat(t[ca],t[n]||[]),delete t[ca]),e(t[ua])&&(t[n=Fi?\"click\":\"change\"]=[].concat(t[ua],t[n]||[]),delete t[ua])}function $n(t,e,n,r,i){if(n){var o=e,a=Do;e=function(n){null!==(1===arguments.length?o(n):o.apply(null,arguments))&&Cn(t,e,r,a)}}Do.addEventListener(t,e,Hi?{capture:r,passive:i}:r)}function Cn(t,e,n,r){(r||Do).removeEventListener(t,e,n)}function wn(e,n){if(!t(e.data.on)||!t(n.data.on)){var r=n.data.on||{},i=e.data.on||{};Do=n.elm,bn(r),tt(r,i,$n,Cn,n.context)}}function xn(n,r){if(!t(n.data.domProps)||!t(r.data.domProps)){var i,o,a=r.elm,s=n.data.domProps||{},c=r.data.domProps||{};e(c.__ob__)&&(c=r.data.domProps=y({},c));for(i in s)t(c[i])&&(a[i]=\"\");for(i in c)if(o=c[i],\"textContent\"!==i&&\"innerHTML\"!==i||(r.children&&(r.children.length=0),o!==s[i]))if(\"value\"===i){a._value=o;var u=t(o)?\"\":String(o);An(a,r,u)&&(a.value=u)}else a[i]=o}}function An(t,e,n){return!t.composing&&(\"option\"===e.tag||kn(t,n)||On(t,n))}function kn(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}function On(t,n){var r=t.value,i=t._vModifiers;return e(i)&&i.number?l(r)!==l(n):e(i)&&i.trim?r.trim()!==n.trim():r!==n}function Tn(t){var e=Sn(t.style);return t.staticStyle?y(t.staticStyle,e):e}function Sn(t){return Array.isArray(t)?g(t):\"string\"==typeof t?pa(t):t}function En(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode).data&&(n=Tn(i.data))&&y(r,n);(n=Tn(t.data))&&y(r,n);for(var o=t;o=o.parent;)o.data&&(n=Tn(o.data))&&y(r,n);return r}function jn(n,r){var i=r.data,o=n.data;if(!(t(i.staticStyle)&&t(i.style)&&t(o.staticStyle)&&t(o.style))){var a,s,c=r.elm,u=o.staticStyle,l=o.normalizedStyle||o.style||{},f=u||l,p=Sn(r.data.style)||{};r.data.normalizedStyle=e(p.__ob__)?y({},p):p;var d=En(r,!0);for(s in f)t(d[s])&&ha(c,s,\"\");for(s in d)(a=d[s])!==f[s]&&ha(c,s,null==a?\"\":a)}}function Ln(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(\" \")>-1?e.split(/\\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=\" \"+(t.getAttribute(\"class\")||\"\")+\" \";n.indexOf(\" \"+e+\" \")<0&&t.setAttribute(\"class\",(n+e).trim())}}function Nn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(\" \")>-1?e.split(/\\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute(\"class\");else{for(var n=\" \"+(t.getAttribute(\"class\")||\"\")+\" \",r=\" \"+e+\" \";n.indexOf(r)>=0;)n=n.replace(r,\" \");(n=n.trim())?t.setAttribute(\"class\",n):t.removeAttribute(\"class\")}}function In(t){if(t){if(\"object\"==typeof t){var e={};return!1!==t.css&&y(e,_a(t.name||\"v\")),y(e,t),e}return\"string\"==typeof t?_a(t):void 0}}function Mn(t){Oa(function(){Oa(t)})}function Dn(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Ln(t,e))}function Pn(t,e){t._transitionClasses&&p(t._transitionClasses,e),Nn(t,e)}function Fn(t,e,n){var r=Rn(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===$a?xa:ka,c=0,u=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++c>=a&&u()};setTimeout(function(){c<a&&u()},o+1),t.addEventListener(s,l)}function Rn(t,e){var n,r=window.getComputedStyle(t),i=r[wa+\"Delay\"].split(\", \"),o=r[wa+\"Duration\"].split(\", \"),a=Hn(i,o),s=r[Aa+\"Delay\"].split(\", \"),c=r[Aa+\"Duration\"].split(\", \"),u=Hn(s,c),l=0,f=0;return e===$a?a>0&&(n=$a,l=a,f=o.length):e===Ca?u>0&&(n=Ca,l=u,f=c.length):f=(n=(l=Math.max(a,u))>0?a>u?$a:Ca:null)?n===$a?o.length:c.length:0,{type:n,timeout:l,propCount:f,hasTransform:n===$a&&Ta.test(r[wa+\"Property\"])}}function Hn(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Bn(e)+Bn(t[n])}))}function Bn(t){return 1e3*Number(t.slice(0,-1))}function Un(n,r){var i=n.elm;e(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var a=In(n.data.transition);if(!t(a)&&!e(i._enterCb)&&1===i.nodeType){for(var s=a.css,c=a.type,u=a.enterClass,f=a.enterToClass,p=a.enterActiveClass,d=a.appearClass,v=a.appearToClass,h=a.appearActiveClass,m=a.beforeEnter,y=a.enter,g=a.afterEnter,_=a.enterCancelled,b=a.beforeAppear,$=a.appear,w=a.afterAppear,x=a.appearCancelled,A=a.duration,k=uo,O=uo.$vnode;O&&O.parent;)k=(O=O.parent).context;var T=!k._isMounted||!n.isRootInsert;if(!T||$||\"\"===$){var S=T&&d?d:u,E=T&&h?h:p,j=T&&v?v:f,L=T?b||m:m,N=T&&\"function\"==typeof $?$:y,I=T?w||g:g,M=T?x||_:_,D=l(o(A)?A.enter:A),P=!1!==s&&!Ii,F=Kn(N),R=i._enterCb=C(function(){P&&(Pn(i,j),Pn(i,E)),R.cancelled?(P&&Pn(i,S),M&&M(i)):I&&I(i),i._enterCb=null});n.data.show||et(n.data.hook||(n.data.hook={}),\"insert\",function(){var t=i.parentNode,e=t&&t._pending&&t._pending[n.key];e&&e.tag===n.tag&&e.elm._leaveCb&&e.elm._leaveCb(),N&&N(i,R)}),L&&L(i),P&&(Dn(i,S),Dn(i,E),Mn(function(){Dn(i,j),Pn(i,S),R.cancelled||F||(zn(D)?setTimeout(R,D):Fn(i,c,R))})),n.data.show&&(r&&r(),N&&N(i,R)),P||F||R()}}}function Vn(n,r){function i(){x.cancelled||(n.data.show||((a.parentNode._pending||(a.parentNode._pending={}))[n.key]=n),v&&v(a),b&&(Dn(a,f),Dn(a,d),Mn(function(){Dn(a,p),Pn(a,f),x.cancelled||$||(zn(w)?setTimeout(x,w):Fn(a,u,x))})),h&&h(a,x),b||$||x())}var a=n.elm;e(a._enterCb)&&(a._enterCb.cancelled=!0,a._enterCb());var s=In(n.data.transition);if(t(s))return r();if(!e(a._leaveCb)&&1===a.nodeType){var c=s.css,u=s.type,f=s.leaveClass,p=s.leaveToClass,d=s.leaveActiveClass,v=s.beforeLeave,h=s.leave,m=s.afterLeave,y=s.leaveCancelled,g=s.delayLeave,_=s.duration,b=!1!==c&&!Ii,$=Kn(h),w=l(o(_)?_.leave:_),x=a._leaveCb=C(function(){a.parentNode&&a.parentNode._pending&&(a.parentNode._pending[n.key]=null),b&&(Pn(a,p),Pn(a,d)),x.cancelled?(b&&Pn(a,f),y&&y(a)):(r(),m&&m(a)),a._leaveCb=null});g?g(i):i()}}function zn(t){return\"number\"==typeof t&&!isNaN(t)}function Kn(n){if(t(n))return!1;var r=n.fns;return e(r)?Kn(Array.isArray(r)?r[0]:r):(n._length||n.length)>1}function Jn(t,e){!0!==e.data.show&&Un(e)}function qn(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,c=t.options.length;s<c;s++)if(a=t.options[s],i)o=$(r,Wn(a))>-1,a.selected!==o&&(a.selected=o);else if(b(Wn(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Wn(t){return\"_value\"in t?t._value:t.value}function Gn(t){t.target.composing=!0}function Zn(t){t.target.composing&&(t.target.composing=!1,Yn(t.target,\"input\"))}function Yn(t,e){var n=document.createEvent(\"HTMLEvents\");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Qn(t){return!t.componentInstance||t.data&&t.data.transition?t:Qn(t.componentInstance._vnode)}function Xn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Xn(ft(e.children)):t}function tr(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[yi(o)]=i[o];return e}function er(t,e){if(/\\d-keep-alive$/.test(e.tag))return t(\"keep-alive\",{props:e.componentOptions.propsData})}function nr(t){for(;t=t.parent;)if(t.data.transition)return!0}function rr(t,e){return e.key===t.key&&e.tag===t.tag}function ir(t){return t.isComment&&t.asyncFactory}function or(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ar(t){t.data.newPos=t.elm.getBoundingClientRect()}function sr(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform=\"translate(\"+r+\"px,\"+i+\"px)\",o.transitionDuration=\"0s\"}}function cr(t,e){var n=e?Ha(e):Fa;if(n.test(t)){for(var r,i,o=[],a=n.lastIndex=0;r=n.exec(t);){(i=r.index)>a&&o.push(JSON.stringify(t.slice(a,i)));var s=Ye(r[1].trim());o.push(\"_s(\"+s+\")\"),a=i+r[0].length}return a<t.length&&o.push(JSON.stringify(t.slice(a))),o.join(\"+\")}}function ur(t,e){var n=e?$s:bs;return t.replace(n,function(t){return _s[t]})}function lr(t,e){function n(e){l+=e,t=t.substring(e)}function r(t,n,r){var i,s;if(null==n&&(n=l),null==r&&(r=l),t&&(s=t.toLowerCase()),t)for(i=a.length-1;i>=0&&a[i].lowerCasedTag!==s;i--);else i=0;if(i>=0){for(var c=a.length-1;c>=i;c--)e.end&&e.end(a[c].tag,n,r);a.length=i,o=i&&a[i-1].tag}else\"br\"===s?e.start&&e.start(t,[],!0,n,r):\"p\"===s&&(e.start&&e.start(t,[],!1,n,r),e.end&&e.end(t,n,r))}for(var i,o,a=[],s=e.expectHTML,c=e.isUnaryTag||$i,u=e.canBeLeftOpenTag||$i,l=0;t;){if(i=t,o&&ys(o)){var f=0,p=o.toLowerCase(),d=gs[p]||(gs[p]=new RegExp(\"([\\\\s\\\\S]*?)(</\"+p+\"[^>]*>)\",\"i\")),v=t.replace(d,function(t,n,r){return f=r.length,ys(p)||\"noscript\"===p||(n=n.replace(/<!--([\\s\\S]*?)-->/g,\"$1\").replace(/<!\\[CDATA\\[([\\s\\S]*?)]]>/g,\"$1\")),ws(p,n)&&(n=n.slice(1)),e.chars&&e.chars(n),\"\"});l+=t.length-v.length,t=v,r(p,l-f,l)}else{var h=t.indexOf(\"<\");if(0===h){if(is.test(t)){var m=t.indexOf(\"--\\x3e\");if(m>=0){e.shouldKeepComment&&e.comment(t.substring(4,m)),n(m+3);continue}}if(os.test(t)){var y=t.indexOf(\"]>\");if(y>=0){n(y+2);continue}}var g=t.match(rs);if(g){n(g[0].length);continue}var _=t.match(ns);if(_){var b=l;n(_[0].length),r(_[1],b,l);continue}var $=function(){var e=t.match(ts);if(e){var r={tagName:e[1],attrs:[],start:l};n(e[0].length);for(var i,o;!(i=t.match(es))&&(o=t.match(Ya));)n(o[0].length),r.attrs.push(o);if(i)return r.unarySlash=i[1],n(i[0].length),r.end=l,r}}();if($){!function(t){var n=t.tagName,i=t.unarySlash;s&&(\"p\"===o&&Ka(n)&&r(o),u(n)&&o===n&&r(n));for(var l=c(n)||!!i,f=t.attrs.length,p=new Array(f),d=0;d<f;d++){var v=t.attrs[d];as&&-1===v[0].indexOf('\"\"')&&(\"\"===v[3]&&delete v[3],\"\"===v[4]&&delete v[4],\"\"===v[5]&&delete v[5]);var h=v[3]||v[4]||v[5]||\"\";p[d]={name:v[1],value:ur(h,e.shouldDecodeNewlines)}}l||(a.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:p}),o=n),e.start&&e.start(n,p,l,t.start,t.end)}($),ws(o,t)&&n(1);continue}}var C=void 0,w=void 0,x=void 0;if(h>=0){for(w=t.slice(h);!(ns.test(w)||ts.test(w)||is.test(w)||os.test(w)||(x=w.indexOf(\"<\",1))<0);)h+=x,w=t.slice(h);C=t.substring(0,h),n(h)}h<0&&(C=t,t=\"\"),e.chars&&C&&e.chars(C)}if(t===i){e.chars&&e.chars(t);break}}r()}function fr(t,e){function n(t){t.pre&&(s=!1),ps(t.tag)&&(c=!1)}ss=e.warn||Xe,ps=e.isPreTag||$i,ds=e.mustUseProp||$i,vs=e.getTagNamespace||$i,us=tn(e.modules,\"transformNode\"),ls=tn(e.modules,\"preTransformNode\"),fs=tn(e.modules,\"postTransformNode\"),cs=e.delimiters;var r,i,o=[],a=!1!==e.preserveWhitespace,s=!1,c=!1;return lr(t,{warn:ss,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldKeepComment:e.comments,start:function(t,a,u){function l(t){}var f=i&&i.ns||vs(t);Ni&&\"svg\"===f&&(a=Er(a));var p={type:1,tag:t,attrsList:a,attrsMap:Or(a),parent:i,children:[]};f&&(p.ns=f),Sr(p)&&!zi()&&(p.forbidden=!0);for(var d=0;d<ls.length;d++)ls[d](p,e);if(s||(pr(p),p.pre&&(s=!0)),ps(p.tag)&&(c=!0),s)dr(p);else{mr(p),yr(p),$r(p),vr(p),p.plain=!p.key&&!a.length,hr(p),Cr(p),wr(p);for(var v=0;v<us.length;v++)us[v](p,e);xr(p)}if(r?o.length||r.if&&(p.elseif||p.else)&&(l(),br(r,{exp:p.elseif,block:p})):(r=p,l()),i&&!p.forbidden)if(p.elseif||p.else)gr(p,i);else if(p.slotScope){i.plain=!1;var h=p.slotTarget||'\"default\"';(i.scopedSlots||(i.scopedSlots={}))[h]=p}else i.children.push(p),p.parent=i;u?n(p):(i=p,o.push(p));for(var m=0;m<fs.length;m++)fs[m](p,e)},end:function(){var t=o[o.length-1],e=t.children[t.children.length-1];e&&3===e.type&&\" \"===e.text&&!c&&t.children.pop(),o.length-=1,i=o[o.length-1],n(t)},chars:function(t){if(i&&(!Ni||\"textarea\"!==i.tag||i.attrsMap.placeholder!==t)){var e=i.children;if(t=c||t.trim()?Tr(i)?t:js(t):a&&e.length?\" \":\"\"){var n;!s&&\" \"!==t&&(n=cr(t,cs))?e.push({type:2,expression:n,text:t}):\" \"===t&&e.length&&\" \"===e[e.length-1].text||e.push({type:3,text:t})}}},comment:function(t){i.children.push({type:3,text:t,isComment:!0})}}),r}function pr(t){null!=sn(t,\"v-pre\")&&(t.pre=!0)}function dr(t){var e=t.attrsList.length;if(e)for(var n=t.attrs=new Array(e),r=0;r<e;r++)n[r]={name:t.attrsList[r].name,value:JSON.stringify(t.attrsList[r].value)};else t.pre||(t.plain=!0)}function vr(t){var e=an(t,\"key\");e&&(t.key=e)}function hr(t){var e=an(t,\"ref\");e&&(t.ref=e,t.refInFor=Ar(t))}function mr(t){var e;if(e=sn(t,\"v-for\")){var n=e.match(ks);if(!n)return;t.for=n[2].trim();var r=n[1].trim(),i=r.match(Os);i?(t.alias=i[1].trim(),t.iterator1=i[2].trim(),i[3]&&(t.iterator2=i[3].trim())):t.alias=r}}function yr(t){var e=sn(t,\"v-if\");if(e)t.if=e,br(t,{exp:e,block:t});else{null!=sn(t,\"v-else\")&&(t.else=!0);var n=sn(t,\"v-else-if\");n&&(t.elseif=n)}}function gr(t,e){var n=_r(e.children);n&&n.if&&br(n,{exp:t.elseif,block:t})}function _r(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}function br(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function $r(t){null!=sn(t,\"v-once\")&&(t.once=!0)}function Cr(t){if(\"slot\"===t.tag)t.slotName=an(t,\"name\");else{var e=an(t,\"slot\");e&&(t.slotTarget='\"\"'===e?'\"default\"':e),\"template\"===t.tag&&(t.slotScope=sn(t,\"scope\"))}}function wr(t){var e;(e=an(t,\"is\"))&&(t.component=e),null!=sn(t,\"inline-template\")&&(t.inlineTemplate=!0)}function xr(t){var e,n,r,i,o,a,s,c=t.attrsList;for(e=0,n=c.length;e<n;e++)if(r=i=c[e].name,o=c[e].value,As.test(r))if(t.hasBindings=!0,(a=kr(r))&&(r=r.replace(Es,\"\")),Ss.test(r))r=r.replace(Ss,\"\"),o=Ye(o),s=!1,a&&(a.prop&&(s=!0,\"innerHtml\"===(r=yi(r))&&(r=\"innerHTML\")),a.camel&&(r=yi(r)),a.sync&&on(t,\"update:\"+yi(r),un(o,\"$event\"))),s||!t.component&&ds(t.tag,t.attrsMap.type,r)?en(t,r,o):nn(t,r,o);else if(xs.test(r))on(t,r=r.replace(xs,\"\"),o,a,!1,ss);else{var u=(r=r.replace(As,\"\")).match(Ts),l=u&&u[1];l&&(r=r.slice(0,-(l.length+1))),rn(t,r,i,o,l,a)}else nn(t,r,JSON.stringify(o))}function Ar(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}function kr(t){var e=t.match(Es);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}function Or(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}function Tr(t){return\"script\"===t.tag||\"style\"===t.tag}function Sr(t){return\"style\"===t.tag||\"script\"===t.tag&&(!t.attrsMap.type||\"text/javascript\"===t.attrsMap.type)}function Er(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Ls.test(r.name)||(r.name=r.name.replace(Ns,\"\"),e.push(r))}return e}function jr(t,e){t&&(hs=Is(e.staticKeys||\"\"),ms=e.isReservedTag||$i,Lr(t),Nr(t,!1))}function Lr(t){if(t.static=Ir(t),1===t.type){if(!ms(t.tag)&&\"slot\"!==t.tag&&null==t.attrsMap[\"inline-template\"])return;for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];Lr(r),r.static||(t.static=!1)}if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++){var a=t.ifConditions[i].block;Lr(a),a.static||(t.static=!1)}}}function Nr(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)Nr(t.children[n],e||!!t.for);if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++)Nr(t.ifConditions[i].block,e)}}function Ir(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||di(t.tag)||!ms(t.tag)||Mr(t)||!Object.keys(t).every(hs))))}function Mr(t){for(;t.parent;){if(\"template\"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}function Dr(t,e,n){var r=e?\"nativeOn:{\":\"on:{\";for(var i in t){var o=t[i];r+='\"'+i+'\":'+Pr(i,o)+\",\"}return r.slice(0,-1)+\"}\"}function Pr(t,e){if(!e)return\"function(){}\";if(Array.isArray(e))return\"[\"+e.map(function(e){return Pr(t,e)}).join(\",\")+\"]\";var n=Ds.test(e.value),r=Ms.test(e.value);if(e.modifiers){var i=\"\",o=\"\",a=[];for(var s in e.modifiers)Rs[s]?(o+=Rs[s],Ps[s]&&a.push(s)):a.push(s);return a.length&&(i+=Fr(a)),o&&(i+=o),\"function($event){\"+i+(n?e.value+\"($event)\":r?\"(\"+e.value+\")($event)\":e.value)+\"}\"}return n||r?e.value:\"function($event){\"+e.value+\"}\"}function Fr(t){return\"if(!('button' in $event)&&\"+t.map(Rr).join(\"&&\")+\")return null;\"}function Rr(t){var e=parseInt(t,10);if(e)return\"$event.keyCode!==\"+e;var n=Ps[t];return\"_k($event.keyCode,\"+JSON.stringify(t)+(n?\",\"+JSON.stringify(n):\"\")+\")\"}function Hr(t,e){var n=new Bs(e);return{render:\"with(this){return \"+(t?Br(t,n):'_c(\"div\")')+\"}\",staticRenderFns:n.staticRenderFns}}function Br(t,e){if(t.staticRoot&&!t.staticProcessed)return Ur(t,e);if(t.once&&!t.onceProcessed)return Vr(t,e);if(t.for&&!t.forProcessed)return Jr(t,e);if(t.if&&!t.ifProcessed)return zr(t,e);if(\"template\"!==t.tag||t.slotTarget){if(\"slot\"===t.tag)return oi(t,e);var n;if(t.component)n=ai(t.component,t,e);else{var r=t.plain?void 0:qr(t,e),i=t.inlineTemplate?null:Xr(t,e,!0);n=\"_c('\"+t.tag+\"'\"+(r?\",\"+r:\"\")+(i?\",\"+i:\"\")+\")\"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return Xr(t,e)||\"void 0\"}function Ur(t,e){return t.staticProcessed=!0,e.staticRenderFns.push(\"with(this){return \"+Br(t,e)+\"}\"),\"_m(\"+(e.staticRenderFns.length-1)+(t.staticInFor?\",true\":\"\")+\")\"}function Vr(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return zr(t,e);if(t.staticInFor){for(var n=\"\",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?\"_o(\"+Br(t,e)+\",\"+e.onceId+++(n?\",\"+n:\"\")+\")\":Br(t,e)}return Ur(t,e)}function zr(t,e,n,r){return t.ifProcessed=!0,Kr(t.ifConditions.slice(),e,n,r)}function Kr(t,e,n,r){function i(t){return n?n(t,e):t.once?Vr(t,e):Br(t,e)}if(!t.length)return r||\"_e()\";var o=t.shift();return o.exp?\"(\"+o.exp+\")?\"+i(o.block)+\":\"+Kr(t,e,n,r):\"\"+i(o.block)}function Jr(t,e,n,r){var i=t.for,o=t.alias,a=t.iterator1?\",\"+t.iterator1:\"\",s=t.iterator2?\",\"+t.iterator2:\"\";return t.forProcessed=!0,(r||\"_l\")+\"((\"+i+\"),function(\"+o+a+s+\"){return \"+(n||Br)(t,e)+\"})\"}function qr(t,e){var n=\"{\",r=Wr(t,e);r&&(n+=r+\",\"),t.key&&(n+=\"key:\"+t.key+\",\"),t.ref&&(n+=\"ref:\"+t.ref+\",\"),t.refInFor&&(n+=\"refInFor:true,\"),t.pre&&(n+=\"pre:true,\"),t.component&&(n+='tag:\"'+t.tag+'\",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+=\"attrs:{\"+si(t.attrs)+\"},\"),t.props&&(n+=\"domProps:{\"+si(t.props)+\"},\"),t.events&&(n+=Dr(t.events,!1,e.warn)+\",\"),t.nativeEvents&&(n+=Dr(t.nativeEvents,!0,e.warn)+\",\"),t.slotTarget&&(n+=\"slot:\"+t.slotTarget+\",\"),t.scopedSlots&&(n+=Zr(t.scopedSlots,e)+\",\"),t.model&&(n+=\"model:{value:\"+t.model.value+\",callback:\"+t.model.callback+\",expression:\"+t.model.expression+\"},\"),t.inlineTemplate){var o=Gr(t,e);o&&(n+=o+\",\")}return n=n.replace(/,$/,\"\")+\"}\",t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Wr(t,e){var n=t.directives;if(n){var r,i,o,a,s=\"directives:[\",c=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var u=e.directives[o.name];u&&(a=!!u(t,o,e.warn)),a&&(c=!0,s+='{name:\"'+o.name+'\",rawName:\"'+o.rawName+'\"'+(o.value?\",value:(\"+o.value+\"),expression:\"+JSON.stringify(o.value):\"\")+(o.arg?',arg:\"'+o.arg+'\"':\"\")+(o.modifiers?\",modifiers:\"+JSON.stringify(o.modifiers):\"\")+\"},\")}return c?s.slice(0,-1)+\"]\":void 0}}function Gr(t,e){var n=t.children[0];if(1===n.type){var r=Hr(n,e.options);return\"inlineTemplate:{render:function(){\"+r.render+\"},staticRenderFns:[\"+r.staticRenderFns.map(function(t){return\"function(){\"+t+\"}\"}).join(\",\")+\"]}\"}}function Zr(t,e){return\"scopedSlots:_u([\"+Object.keys(t).map(function(n){return Yr(n,t[n],e)}).join(\",\")+\"])\"}function Yr(t,e,n){return e.for&&!e.forProcessed?Qr(t,e,n):\"{key:\"+t+\",fn:function(\"+String(e.attrsMap.scope)+\"){return \"+(\"template\"===e.tag?Xr(e,n)||\"void 0\":Br(e,n))+\"}}\"}function Qr(t,e,n){var r=e.for,i=e.alias,o=e.iterator1?\",\"+e.iterator1:\"\",a=e.iterator2?\",\"+e.iterator2:\"\";return e.forProcessed=!0,\"_l((\"+r+\"),function(\"+i+o+a+\"){return \"+Yr(t,e,n)+\"})\"}function Xr(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&\"template\"!==a.tag&&\"slot\"!==a.tag)return(r||Br)(a,e);var s=n?ti(o,e.maybeComponent):0,c=i||ni;return\"[\"+o.map(function(t){return c(t,e)}).join(\",\")+\"]\"+(s?\",\"+s:\"\")}}function ti(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(ei(i)||i.ifConditions&&i.ifConditions.some(function(t){return ei(t.block)})){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}function ei(t){return void 0!==t.for||\"template\"===t.tag||\"slot\"===t.tag}function ni(t,e){return 1===t.type?Br(t,e):3===t.type&&t.isComment?ii(t):ri(t)}function ri(t){return\"_v(\"+(2===t.type?t.expression:ci(JSON.stringify(t.text)))+\")\"}function ii(t){return\"_e(\"+JSON.stringify(t.text)+\")\"}function oi(t,e){var n=t.slotName||'\"default\"',r=Xr(t,e),i=\"_t(\"+n+(r?\",\"+r:\"\"),o=t.attrs&&\"{\"+t.attrs.map(function(t){return yi(t.name)+\":\"+t.value}).join(\",\")+\"}\",a=t.attrsMap[\"v-bind\"];return!o&&!a||r||(i+=\",null\"),o&&(i+=\",\"+o),a&&(i+=(o?\"\":\",null\")+\",\"+a),i+\")\"}function ai(t,e,n){var r=e.inlineTemplate?null:Xr(e,n,!0);return\"_c(\"+t+\",\"+qr(e,n)+(r?\",\"+r:\"\")+\")\"}function si(t){for(var e=\"\",n=0;n<t.length;n++){var r=t[n];e+='\"'+r.name+'\":'+ci(r.value)+\",\"}return e.slice(0,-1)}function ci(t){return t.replace(/\\u2028/g,\"\\\\u2028\").replace(/\\u2029/g,\"\\\\u2029\")}function ui(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),_}}function li(t){var e=Object.create(null);return function(n,r,i){var o=(r=r||{}).delimiters?String(r.delimiters)+n:n;if(e[o])return e[o];var a=t(n,r),s={},c=[];return s.render=ui(a.render,c),s.staticRenderFns=a.staticRenderFns.map(function(t){return ui(t,c)}),e[o]=s}}function fi(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement(\"div\");return e.appendChild(t.cloneNode(!0)),e.innerHTML}var pi=Object.prototype.toString,di=f(\"slot,component\",!0),vi=f(\"key,ref,slot,is\"),hi=Object.prototype.hasOwnProperty,mi=/-(\\w)/g,yi=v(function(t){return t.replace(mi,function(t,e){return e?e.toUpperCase():\"\"})}),gi=v(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),_i=/([^-])([A-Z])/g,bi=v(function(t){return t.replace(_i,\"$1-$2\").replace(_i,\"$1-$2\").toLowerCase()}),$i=function(t,e,n){return!1},Ci=function(t){return t},wi=\"data-server-rendered\",xi=[\"component\",\"directive\",\"filter\"],Ai=[\"beforeCreate\",\"created\",\"beforeMount\",\"mounted\",\"beforeUpdate\",\"updated\",\"beforeDestroy\",\"destroyed\",\"activated\",\"deactivated\"],ki={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:$i,isReservedAttr:$i,isUnknownElement:$i,getTagNamespace:_,parsePlatformTagName:Ci,mustUseProp:$i,_lifecycleHooks:Ai},Oi=Object.freeze({}),Ti=/[^\\w.$]/,Si=_,Ei=\"__proto__\"in{},ji=\"undefined\"!=typeof window,Li=ji&&window.navigator.userAgent.toLowerCase(),Ni=Li&&/msie|trident/.test(Li),Ii=Li&&Li.indexOf(\"msie 9.0\")>0,Mi=Li&&Li.indexOf(\"edge/\")>0,Di=Li&&Li.indexOf(\"android\")>0,Pi=Li&&/iphone|ipad|ipod|ios/.test(Li),Fi=Li&&/chrome\\/\\d+/.test(Li)&&!Mi,Ri={}.watch,Hi=!1;if(ji)try{var Bi={};Object.defineProperty(Bi,\"passive\",{get:function(){Hi=!0}}),window.addEventListener(\"test-passive\",null,Bi)}catch(t){}var Ui,Vi,zi=function(){return void 0===Ui&&(Ui=!ji&&\"undefined\"!=typeof global&&\"server\"===global.process.env.VUE_ENV),Ui},Ki=ji&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Ji=\"undefined\"!=typeof Symbol&&O(Symbol)&&\"undefined\"!=typeof Reflect&&O(Reflect.ownKeys),qi=function(){function t(){r=!1;var t=n.slice(0);n.length=0;for(var e=0;e<t.length;e++)t[e]()}var e,n=[],r=!1;if(\"undefined\"!=typeof Promise&&O(Promise)){var i=Promise.resolve(),o=function(t){console.error(t)};e=function(){i.then(t).catch(o),Pi&&setTimeout(_)}}else if(\"undefined\"==typeof MutationObserver||!O(MutationObserver)&&\"[object MutationObserverConstructor]\"!==MutationObserver.toString())e=function(){setTimeout(t,0)};else{var a=1,s=new MutationObserver(t),c=document.createTextNode(String(a));s.observe(c,{characterData:!0}),e=function(){a=(a+1)%2,c.data=String(a)}}return function(t,i){var o;if(n.push(function(){if(t)try{t.call(i)}catch(t){k(t,i,\"nextTick\")}else o&&o(i)}),r||(r=!0,e()),!t&&\"undefined\"!=typeof Promise)return new Promise(function(t,e){o=t})}}();Vi=\"undefined\"!=typeof Set&&O(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Wi=0,Gi=function(){this.id=Wi++,this.subs=[]};Gi.prototype.addSub=function(t){this.subs.push(t)},Gi.prototype.removeSub=function(t){p(this.subs,t)},Gi.prototype.depend=function(){Gi.target&&Gi.target.addDep(this)},Gi.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},Gi.target=null;var Zi=[],Yi=Array.prototype,Qi=Object.create(Yi);[\"push\",\"pop\",\"shift\",\"unshift\",\"splice\",\"sort\",\"reverse\"].forEach(function(t){var e=Yi[t];x(Qi,t,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case\"push\":case\"unshift\":i=n;break;case\"splice\":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o})});var Xi=Object.getOwnPropertyNames(Qi),to={shouldConvert:!0},eo=function(t){this.value=t,this.dep=new Gi,this.vmCount=0,x(t,\"__ob__\",this),Array.isArray(t)?((Ei?E:j)(t,Qi,Xi),this.observeArray(t)):this.walk(t)};eo.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)N(t,e[n],t[e[n]])},eo.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)L(t[e])};var no=ki.optionMergeStrategies;no.data=function(t,e,n){return n?F(t,e,n):e&&\"function\"!=typeof e?t:F.call(this,t,e)},Ai.forEach(function(t){no[t]=R}),xi.forEach(function(t){no[t+\"s\"]=H}),no.watch=function(t,e){if(t===Ri&&(t=void 0),e===Ri&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var n={};y(n,t);for(var r in e){var i=n[r],o=e[r];i&&!Array.isArray(i)&&(i=[i]),n[r]=i?i.concat(o):Array.isArray(o)?o:[o]}return n},no.props=no.methods=no.inject=no.computed=function(t,e){if(!t)return e;var n=Object.create(null);return y(n,t),e&&y(n,e),n},no.provide=F;var ro=function(t,e){return void 0===e?t:e},io=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.functionalContext=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},oo={child:{}};oo.child.get=function(){return this.componentInstance},Object.defineProperties(io.prototype,oo);var ao,so=function(t){void 0===t&&(t=\"\");var e=new io;return e.text=t,e.isComment=!0,e},co=v(function(t){var e=\"&\"===t.charAt(0),n=\"~\"===(t=e?t.slice(1):t).charAt(0),r=\"!\"===(t=n?t.slice(1):t).charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}),uo=null,lo=[],fo=[],po={},vo=!1,ho=!1,mo=0,yo=0,go=function(t,e,n,r){this.vm=t,t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++yo,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Vi,this.newDepIds=new Vi,this.expression=\"\",\"function\"==typeof e?this.getter=e:(this.getter=A(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};go.prototype.get=function(){T(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;k(t,e,'getter for watcher \"'+this.expression+'\"')}finally{this.deep&&Lt(t),S(),this.cleanupDeps()}return t},go.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},go.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var n=t.deps[e];t.newDepIds.has(n.id)||n.removeSub(t)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},go.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():jt(this)},go.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||o(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){k(t,this.vm,'callback for watcher \"'+this.expression+'\"')}else this.cb.call(this.vm,t,e)}}},go.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},go.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},go.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||p(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var _o=new Vi,bo={enumerable:!0,configurable:!0,get:_,set:_},$o={lazy:!0},Co={init:function(t,e,n,r){if(!t.componentInstance||t.componentInstance._isDestroyed)(t.componentInstance=Yt(t,uo,n,r)).$mount(e?t.elm:void 0,e);else if(t.data.keepAlive){var i=t;Co.prepatch(i,i)}},prepatch:function(t,e){var n=e.componentOptions;$t(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,At(n,\"mounted\")),t.data.keepAlive&&(e._isMounted?St(n):wt(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?xt(e,!0):e.$destroy())}},wo=Object.keys(Co),xo=1,Ao=2,ko=0;!function(t){t.prototype._init=function(t){var e=this;e._uid=ko++,e._isVue=!0,t&&t._isComponent?he(e,t):e.$options=z(me(e.constructor),t||{},e),e._renderProxy=e,e._self=e,_t(e),pt(e),ve(e),At(e,\"beforeCreate\"),Jt(e),Mt(e),Kt(e),At(e,\"created\"),e.$options.el&&e.$mount(e.$options.el)}}(_e),function(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(t.prototype,\"$data\",e),Object.defineProperty(t.prototype,\"$props\",n),t.prototype.$set=I,t.prototype.$delete=M,t.prototype.$watch=function(t,e,n){var r=this;if(a(e))return zt(r,t,e,n);(n=n||{}).user=!0;var i=new go(r,t,e,n);return n.immediate&&e.call(r,i.value),function(){i.teardown()}}}(_e),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this,i=this;if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)r.$on(t[o],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){function n(){r.$off(t,n),e.apply(r,arguments)}var r=this;return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){var n=this,r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(t)){for(var i=0,o=t.length;i<o;i++)n.$off(t[i],e);return r}var a=r._events[t];if(!a)return r;if(1===arguments.length)return r._events[t]=null,r;for(var s,c=a.length;c--;)if((s=a[c])===e||s.fn===e){a.splice(c,1);break}return r},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?m(n):n;for(var r=m(arguments,1),i=0,o=n.length;i<o;i++)try{n[i].apply(e,r)}catch(n){k(n,e,'event handler for \"'+t+'\"')}}return e}}(_e),function(t){t.prototype._update=function(t,e){var n=this;n._isMounted&&At(n,\"beforeUpdate\");var r=n.$el,i=n._vnode,o=uo;uo=n,n._vnode=t,i?n.$el=n.__patch__(i,t):(n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),uo=o,r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){At(t,\"beforeDestroy\"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||p(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),At(t,\"destroyed\"),t.$off(),t.$el&&(t.$el.__vue__=null)}}}(_e),function(t){t.prototype.$nextTick=function(t){return qi(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,r=e.staticRenderFns,i=e._parentVnode;if(t._isMounted)for(var o in t.$slots)t.$slots[o]=Q(t.$slots[o]);t.$scopedSlots=i&&i.data.scopedSlots||Oi,r&&!t._staticTrees&&(t._staticTrees=[]),t.$vnode=i;var a;try{a=n.call(t._renderProxy,t.$createElement)}catch(e){k(e,t,\"render function\"),a=t._vnode}return a instanceof io||(a=so()),a.parent=i,a},t.prototype._o=le,t.prototype._n=l,t.prototype._s=u,t.prototype._l=ie,t.prototype._t=oe,t.prototype._q=b,t.prototype._i=$,t.prototype._m=ue,t.prototype._f=ae,t.prototype._k=se,t.prototype._b=ce,t.prototype._v=Z,t.prototype._e=so,t.prototype._u=gt,t.prototype._g=de}(_e);var Oo=[String,RegExp,Array],To={KeepAlive:{name:\"keep-alive\",abstract:!0,props:{include:Oo,exclude:Oo},created:function(){this.cache=Object.create(null)},destroyed:function(){var t=this;for(var e in t.cache)Se(t.cache[e])},watch:{include:function(t){Te(this.cache,this._vnode,function(e){return Oe(t,e)})},exclude:function(t){Te(this.cache,this._vnode,function(e){return!Oe(t,e)})}},render:function(){var t=ft(this.$slots.default),e=t&&t.componentOptions;if(e){var n=ke(e);if(n&&(this.include&&!Oe(this.include,n)||this.exclude&&Oe(this.exclude,n)))return t;var r=null==t.key?e.Ctor.cid+(e.tag?\"::\"+e.tag:\"\"):t.key;this.cache[r]?t.componentInstance=this.cache[r].componentInstance:this.cache[r]=t,t.data.keepAlive=!0}return t}}};!function(t){var e={};e.get=function(){return ki},Object.defineProperty(t,\"config\",e),t.util={warn:Si,extend:y,mergeOptions:z,defineReactive:N},t.set=I,t.delete=M,t.nextTick=qi,t.options=Object.create(null),xi.forEach(function(e){t.options[e+\"s\"]=Object.create(null)}),t.options._base=t,y(t.options.components,To),be(t),$e(t),Ce(t),Ae(t)}(_e),Object.defineProperty(_e.prototype,\"$isServer\",{get:zi}),Object.defineProperty(_e.prototype,\"$ssrContext\",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),_e.version=\"2.4.2\";var So,Eo,jo,Lo,No,Io,Mo,Do,Po,Fo=f(\"style,class\"),Ro=f(\"input,textarea,option,select\"),Ho=function(t,e,n){return\"value\"===n&&Ro(t)&&\"button\"!==e||\"selected\"===n&&\"option\"===t||\"checked\"===n&&\"input\"===t||\"muted\"===n&&\"video\"===t},Bo=f(\"contenteditable,draggable,spellcheck\"),Uo=f(\"allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible\"),Vo=\"http://www.w3.org/1999/xlink\",zo=function(t){return\":\"===t.charAt(5)&&\"xlink\"===t.slice(0,5)},Ko=function(t){return zo(t)?t.slice(6,t.length):\"\"},Jo=function(t){return null==t||!1===t},qo={svg:\"http://www.w3.org/2000/svg\",math:\"http://www.w3.org/1998/Math/MathML\"},Wo=f(\"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot\"),Go=f(\"svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view\",!0),Zo=function(t){return Wo(t)||Go(t)},Yo=Object.create(null),Qo=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return\"select\"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute(\"multiple\",\"multiple\"),n)},createElementNS:function(t,e){return document.createElementNS(qo[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setAttribute:function(t,e,n){t.setAttribute(e,n)}}),Xo={create:function(t,e){Re(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Re(t,!0),Re(e))},destroy:function(t){Re(t,!0)}},ta=new io(\"\",{},[]),ea=[\"create\",\"activate\",\"update\",\"remove\",\"destroy\"],na={create:Ve,update:Ve,destroy:function(t){Ve(t,ta)}},ra=Object.create(null),ia=[Xo,na],oa={create:We,update:We},aa={create:Ze,update:Ze},sa=/[\\w).+\\-_$\\]]/,ca=\"__r\",ua=\"__c\",la={create:wn,update:wn},fa={create:xn,update:xn},pa=v(function(t){var e={},n=/;(?![^(]*\\))/g,r=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}),da=/^--/,va=/\\s*!important$/,ha=function(t,e,n){if(da.test(e))t.style.setProperty(e,n);else if(va.test(n))t.style.setProperty(e,n.replace(va,\"\"),\"important\");else{var r=ya(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},ma=[\"Webkit\",\"Moz\",\"ms\"],ya=v(function(t){if(Po=Po||document.createElement(\"div\").style,\"filter\"!==(t=yi(t))&&t in Po)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<ma.length;n++){var r=ma[n]+e;if(r in Po)return r}}),ga={create:jn,update:jn},_a=v(function(t){return{enterClass:t+\"-enter\",enterToClass:t+\"-enter-to\",enterActiveClass:t+\"-enter-active\",leaveClass:t+\"-leave\",leaveToClass:t+\"-leave-to\",leaveActiveClass:t+\"-leave-active\"}}),ba=ji&&!Ii,$a=\"transition\",Ca=\"animation\",wa=\"transition\",xa=\"transitionend\",Aa=\"animation\",ka=\"animationend\";ba&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(wa=\"WebkitTransition\",xa=\"webkitTransitionEnd\"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Aa=\"WebkitAnimation\",ka=\"webkitAnimationEnd\"));var Oa=ji&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,Ta=/\\b(transform|all)(,|$)/,Sa=function(r){function o(t){return new io(E.tagName(t).toLowerCase(),{},[],void 0,t)}function a(t,e){function n(){0==--n.listeners&&s(t)}return n.listeners=e,n}function s(t){var n=E.parentNode(t);e(n)&&E.removeChild(n,t)}function c(t,r,i,o,a){if(t.isRootInsert=!a,!u(t,r,i,o)){var s=t.data,c=t.children,l=t.tag;e(l)?(t.elm=t.ns?E.createElementNS(t.ns,l):E.createElement(l,t),y(t),v(t,c,r),e(s)&&m(t,r),d(i,t.elm,o)):n(t.isComment)?(t.elm=E.createComment(t.text),d(i,t.elm,o)):(t.elm=E.createTextNode(t.text),d(i,t.elm,o))}}function u(t,r,i,o){var a=t.data;if(e(a)){var s=e(t.componentInstance)&&a.keepAlive;if(e(a=a.hook)&&e(a=a.init)&&a(t,!1,i,o),e(t.componentInstance))return l(t,r),n(s)&&p(t,r,i,o),!0}}function l(t,n){e(t.data.pendingInsert)&&(n.push.apply(n,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,h(t)?(m(t,n),y(t)):(Re(t),n.push(t))}function p(t,n,r,i){for(var o,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,e(o=a.data)&&e(o=o.transition)){for(o=0;o<T.activate.length;++o)T.activate[o](ta,a);n.push(a);break}d(r,t.elm,i)}function d(t,n,r){e(t)&&(e(r)?r.parentNode===t&&E.insertBefore(t,n,r):E.appendChild(t,n))}function v(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)c(e[r],n,t.elm,null,!0);else i(t.text)&&E.appendChild(t.elm,E.createTextNode(t.text))}function h(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return e(t.tag)}function m(t,n){for(var r=0;r<T.create.length;++r)T.create[r](ta,t);e(k=t.data.hook)&&(e(k.create)&&k.create(ta,t),e(k.insert)&&n.push(t))}function y(t){for(var n,r=t;r;)e(n=r.context)&&e(n=n.$options._scopeId)&&E.setAttribute(t.elm,n,\"\"),r=r.parent;e(n=uo)&&n!==t.context&&e(n=n.$options._scopeId)&&E.setAttribute(t.elm,n,\"\")}function g(t,e,n,r,i,o){for(;r<=i;++r)c(n[r],o,t,e)}function _(t){var n,r,i=t.data;if(e(i))for(e(n=i.hook)&&e(n=n.destroy)&&n(t),n=0;n<T.destroy.length;++n)T.destroy[n](t);if(e(n=t.children))for(r=0;r<t.children.length;++r)_(t.children[r])}function b(t,n,r,i){for(;r<=i;++r){var o=n[r];e(o)&&(e(o.tag)?($(o),_(o)):s(o.elm))}}function $(t,n){if(e(n)||e(t.data)){var r,i=T.remove.length+1;for(e(n)?n.listeners+=i:n=a(t.elm,i),e(r=t.componentInstance)&&e(r=r._vnode)&&e(r.data)&&$(r,n),r=0;r<T.remove.length;++r)T.remove[r](t,n);e(r=t.data.hook)&&e(r=r.remove)?r(t,n):n()}else s(t.elm)}function C(n,r,i,o,a){for(var s,u,l,f=0,p=0,d=r.length-1,v=r[0],h=r[d],m=i.length-1,y=i[0],_=i[m],$=!a;f<=d&&p<=m;)t(v)?v=r[++f]:t(h)?h=r[--d]:He(v,y)?(w(v,y,o),v=r[++f],y=i[++p]):He(h,_)?(w(h,_,o),h=r[--d],_=i[--m]):He(v,_)?(w(v,_,o),$&&E.insertBefore(n,v.elm,E.nextSibling(h.elm)),v=r[++f],_=i[--m]):He(h,y)?(w(h,y,o),$&&E.insertBefore(n,h.elm,v.elm),h=r[--d],y=i[++p]):(t(s)&&(s=Ue(r,f,d)),t(u=e(y.key)?s[y.key]:null)?(c(y,o,n,v.elm),y=i[++p]):He(l=r[u],y)?(w(l,y,o),r[u]=void 0,$&&E.insertBefore(n,l.elm,v.elm),y=i[++p]):(c(y,o,n,v.elm),y=i[++p]));f>d?g(n,t(i[m+1])?null:i[m+1].elm,i,p,m,o):p>m&&b(n,r,f,d)}function w(r,i,o,a){if(r!==i){var s=i.elm=r.elm;if(n(r.isAsyncPlaceholder))e(i.asyncFactory.resolved)?A(r.elm,i,o):i.isAsyncPlaceholder=!0;else if(n(i.isStatic)&&n(r.isStatic)&&i.key===r.key&&(n(i.isCloned)||n(i.isOnce)))i.componentInstance=r.componentInstance;else{var c,u=i.data;e(u)&&e(c=u.hook)&&e(c=c.prepatch)&&c(r,i);var l=r.children,f=i.children;if(e(u)&&h(i)){for(c=0;c<T.update.length;++c)T.update[c](r,i);e(c=u.hook)&&e(c=c.update)&&c(r,i)}t(i.text)?e(l)&&e(f)?l!==f&&C(s,l,f,o,a):e(f)?(e(r.text)&&E.setTextContent(s,\"\"),g(s,null,f,0,f.length-1,o)):e(l)?b(s,l,0,l.length-1):e(r.text)&&E.setTextContent(s,\"\"):r.text!==i.text&&E.setTextContent(s,i.text),e(u)&&e(c=u.hook)&&e(c=c.postpatch)&&c(r,i)}}}function x(t,r,i){if(n(i)&&e(t.parent))t.parent.data.pendingInsert=r;else for(var o=0;o<r.length;++o)r[o].data.hook.insert(r[o])}function A(t,r,i){if(n(r.isComment)&&e(r.asyncFactory))return r.elm=t,r.isAsyncPlaceholder=!0,!0;r.elm=t;var o=r.tag,a=r.data,s=r.children;if(e(a)&&(e(k=a.hook)&&e(k=k.init)&&k(r,!0),e(k=r.componentInstance)))return l(r,i),!0;if(e(o)){if(e(s))if(t.hasChildNodes()){for(var c=!0,u=t.firstChild,f=0;f<s.length;f++){if(!u||!A(u,s[f],i)){c=!1;break}u=u.nextSibling}if(!c||u)return!1}else v(r,s,i);if(e(a))for(var p in a)if(!j(p)){m(r,i);break}}else t.data!==r.text&&(t.data=r.text);return!0}var k,O,T={},S=r.modules,E=r.nodeOps;for(k=0;k<ea.length;++k)for(T[ea[k]]=[],O=0;O<S.length;++O)e(S[O][ea[k]])&&T[ea[k]].push(S[O][ea[k]]);var j=f(\"attrs,style,class,staticClass,staticStyle,key\");return function(r,i,a,s,u,l){if(!t(i)){var f=!1,p=[];if(t(r))f=!0,c(i,p,u,l);else{var d=e(r.nodeType);if(!d&&He(r,i))w(r,i,p,s);else{if(d){if(1===r.nodeType&&r.hasAttribute(wi)&&(r.removeAttribute(wi),a=!0),n(a)&&A(r,i,p))return x(i,p,!0),r;r=o(r)}var v=r.elm,m=E.parentNode(v);if(c(i,p,v._leaveCb?null:m,E.nextSibling(v)),e(i.parent)){for(var y=i.parent;y;)y.elm=i.elm,y=y.parent;if(h(i))for(var g=0;g<T.create.length;++g)T.create[g](ta,i.parent)}e(m)?b(m,[r],0,0):e(r.tag)&&_(r)}}return x(i,p,f),i.elm}e(r)&&_(r)}}({nodeOps:Qo,modules:[oa,aa,la,fa,ga,ji?{create:Jn,activate:Jn,remove:function(t,e){!0!==t.data.show?Vn(t,e):e()}}:{}].concat(ia)}),Ea=f(\"text,number,password,search,email,tel,url\");Ii&&document.addEventListener(\"selectionchange\",function(){var t=document.activeElement;t&&t.vmodel&&Yn(t,\"input\")});var ja={model:{inserted:function(t,e,n){if(\"select\"===n.tag){var r=function(){qn(t,e,n.context)};r(),(Ni||Mi)&&setTimeout(r,0),t._vOptions=[].map.call(t.options,Wn)}else(\"textarea\"===n.tag||Ea(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener(\"change\",Zn),Di||(t.addEventListener(\"compositionstart\",Gn),t.addEventListener(\"compositionend\",Zn)),Ii&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if(\"select\"===n.tag){qn(t,e,n.context);var r=t._vOptions;(t._vOptions=[].map.call(t.options,Wn)).some(function(t,e){return!b(t,r[e])})&&Yn(t,\"change\")}}},show:{bind:function(t,e,n){var r=e.value,i=(n=Qn(n)).data&&n.data.transition,o=t.__vOriginalDisplay=\"none\"===t.style.display?\"\":t.style.display;r&&i?(n.data.show=!0,Un(n,function(){t.style.display=o})):t.style.display=r?o:\"none\"},update:function(t,e,n){var r=e.value;r!==e.oldValue&&((n=Qn(n)).data&&n.data.transition?(n.data.show=!0,r?Un(n,function(){t.style.display=t.__vOriginalDisplay}):Vn(n,function(){t.style.display=\"none\"})):t.style.display=r?t.__vOriginalDisplay:\"none\")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},La={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Na={name:\"transition\",props:La,abstract:!0,render:function(t){var e=this,n=this.$options._renderChildren;if(n&&(n=n.filter(function(t){return t.tag||ir(t)})).length){var r=this.mode,o=n[0];if(nr(this.$vnode))return o;var a=Xn(o);if(!a)return o;if(this._leaving)return er(t,o);var s=\"__transition-\"+this._uid+\"-\";a.key=null==a.key?a.isComment?s+\"comment\":s+a.tag:i(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var c=(a.data||(a.data={})).transition=tr(this),u=this._vnode,l=Xn(u);if(a.data.directives&&a.data.directives.some(function(t){return\"show\"===t.name})&&(a.data.show=!0),l&&l.data&&!rr(a,l)&&!ir(l)){var f=l&&(l.data.transition=y({},c));if(\"out-in\"===r)return this._leaving=!0,et(f,\"afterLeave\",function(){e._leaving=!1,e.$forceUpdate()}),er(t,o);if(\"in-out\"===r){if(ir(a))return u;var p,d=function(){p()};et(c,\"afterEnter\",d),et(c,\"enterCancelled\",d),et(f,\"delayLeave\",function(t){p=t})}}return o}}},Ia=y({tag:String,moveClass:String},La);delete Ia.mode;var Ma={Transition:Na,TransitionGroup:{props:Ia,render:function(t){for(var e=this.tag||this.$vnode.data.tag||\"span\",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=tr(this),s=0;s<i.length;s++){var c=i[s];c.tag&&null!=c.key&&0!==String(c.key).indexOf(\"__vlist\")&&(o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=a)}if(r){for(var u=[],l=[],f=0;f<r.length;f++){var p=r[f];p.data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?u.push(p):l.push(p)}this.kept=t(e,null,u),this.removed=l}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||\"v\")+\"-move\";if(t.length&&this.hasMove(t[0].elm,e)){t.forEach(or),t.forEach(ar),t.forEach(sr);document.body.offsetHeight;t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;Dn(n,e),r.transform=r.WebkitTransform=r.transitionDuration=\"\",n.addEventListener(xa,n._moveCb=function t(r){r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(xa,t),n._moveCb=null,Pn(n,e))})}})}},methods:{hasMove:function(t,e){if(!ba)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Nn(n,t)}),Ln(n,e),n.style.display=\"none\",this.$el.appendChild(n);var r=Rn(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};_e.config.mustUseProp=Ho,_e.config.isReservedTag=Zo,_e.config.isReservedAttr=Fo,_e.config.getTagNamespace=Pe,_e.config.isUnknownElement=function(t){if(!ji)return!0;if(Zo(t))return!1;if(t=t.toLowerCase(),null!=Yo[t])return Yo[t];var e=document.createElement(t);return t.indexOf(\"-\")>-1?Yo[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Yo[t]=/HTMLUnknownElement/.test(e.toString())},y(_e.options.directives,ja),y(_e.options.components,Ma),_e.prototype.__patch__=ji?Sa:_,_e.prototype.$mount=function(t,e){return t=t&&ji?Fe(t):void 0,bt(this,t,e)},setTimeout(function(){ki.devtools&&Ki&&Ki.emit(\"init\",_e)},0);var Da,Pa=!!ji&&function(t,e){var n=document.createElement(\"div\");return n.innerHTML='<div a=\"'+t+'\"/>',n.innerHTML.indexOf(e)>0}(\"\\n\",\"&#10;\"),Fa=/\\{\\{((?:.|\\n)+?)\\}\\}/g,Ra=/[-.*+?^${}()|[\\]\\/\\\\]/g,Ha=v(function(t){var e=t[0].replace(Ra,\"\\\\$&\"),n=t[1].replace(Ra,\"\\\\$&\");return new RegExp(e+\"((?:.|\\\\n)+?)\"+n,\"g\")}),Ba=[{staticKeys:[\"staticClass\"],transformNode:function(t,e){e.warn;var n=sn(t,\"class\");n&&(t.staticClass=JSON.stringify(n));var r=an(t,\"class\",!1);r&&(t.classBinding=r)},genData:function(t){var e=\"\";return t.staticClass&&(e+=\"staticClass:\"+t.staticClass+\",\"),t.classBinding&&(e+=\"class:\"+t.classBinding+\",\"),e}},{staticKeys:[\"staticStyle\"],transformNode:function(t,e){e.warn;var n=sn(t,\"style\");n&&(t.staticStyle=JSON.stringify(pa(n)));var r=an(t,\"style\",!1);r&&(t.styleBinding=r)},genData:function(t){var e=\"\";return t.staticStyle&&(e+=\"staticStyle:\"+t.staticStyle+\",\"),t.styleBinding&&(e+=\"style:(\"+t.styleBinding+\"),\"),e}}],Ua={model:function(t,e,n){Mo=n;var r=e.value,i=e.modifiers,o=t.tag,a=t.attrsMap.type;if(t.component)return cn(t,r,i),!1;if(\"select\"===o)gn(t,r,i);else if(\"input\"===o&&\"checkbox\"===a)mn(t,r,i);else if(\"input\"===o&&\"radio\"===a)yn(t,r,i);else if(\"input\"===o||\"textarea\"===o)_n(t,r,i);else if(!ki.isReservedTag(o))return cn(t,r,i),!1;return!0},text:function(t,e){e.value&&en(t,\"textContent\",\"_s(\"+e.value+\")\")},html:function(t,e){e.value&&en(t,\"innerHTML\",\"_s(\"+e.value+\")\")}},Va=f(\"area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr\"),za=f(\"colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source\"),Ka=f(\"address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track\"),Ja={expectHTML:!0,modules:Ba,directives:Ua,isPreTag:function(t){return\"pre\"===t},isUnaryTag:Va,mustUseProp:Ho,canBeLeftOpenTag:za,isReservedTag:Zo,getTagNamespace:Pe,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(\",\")}(Ba)},qa={decode:function(t){return Da=Da||document.createElement(\"div\"),Da.innerHTML=t,Da.textContent}},Wa=/([^\\s\"'<>/=]+)/,Ga=/(?:=)/,Za=[/\"([^\"]*)\"+/.source,/'([^']*)'+/.source,/([^\\s\"'=<>`]+)/.source],Ya=new RegExp(\"^\\\\s*\"+Wa.source+\"(?:\\\\s*(\"+Ga.source+\")\\\\s*(?:\"+Za.join(\"|\")+\"))?\"),Qa=\"[a-zA-Z_][\\\\w\\\\-\\\\.]*\",Xa=\"((?:\"+Qa+\"\\\\:)?\"+Qa+\")\",ts=new RegExp(\"^<\"+Xa),es=/^\\s*(\\/?)>/,ns=new RegExp(\"^<\\\\/\"+Xa+\"[^>]*>\"),rs=/^<!DOCTYPE [^>]+>/i,is=/^<!--/,os=/^<!\\[/,as=!1;\"x\".replace(/x(.)?/g,function(t,e){as=\"\"===e});var ss,cs,us,ls,fs,ps,ds,vs,hs,ms,ys=f(\"script,style,textarea\",!0),gs={},_s={\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&amp;\":\"&\",\"&#10;\":\"\\n\"},bs=/&(?:lt|gt|quot|amp);/g,$s=/&(?:lt|gt|quot|amp|#10);/g,Cs=f(\"pre,textarea\",!0),ws=function(t,e){return t&&Cs(t)&&\"\\n\"===e[0]},xs=/^@|^v-on:/,As=/^v-|^@|^:/,ks=/(.*?)\\s+(?:in|of)\\s+(.*)/,Os=/\\((\\{[^}]*\\}|[^,]*),([^,]*)(?:,([^,]*))?\\)/,Ts=/:(.*)$/,Ss=/^:|^v-bind:/,Es=/\\.[^.]+/g,js=v(qa.decode),Ls=/^xmlns:NS\\d+/,Ns=/^NS\\d+:/,Is=v(function(t){return f(\"type,tag,attrsList,attrsMap,plain,parent,children,attrs\"+(t?\",\"+t:\"\"))}),Ms=/^\\s*([\\w$_]+|\\([^)]*?\\))\\s*=>|^function\\s*\\(/,Ds=/^\\s*[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?']|\\[\".*?\"]|\\[\\d+]|\\[[A-Za-z_$][\\w$]*])*\\s*$/,Ps={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Fs=function(t){return\"if(\"+t+\")return null;\"},Rs={stop:\"$event.stopPropagation();\",prevent:\"$event.preventDefault();\",self:Fs(\"$event.target !== $event.currentTarget\"),ctrl:Fs(\"!$event.ctrlKey\"),shift:Fs(\"!$event.shiftKey\"),alt:Fs(\"!$event.altKey\"),meta:Fs(\"!$event.metaKey\"),left:Fs(\"'button' in $event && $event.button !== 0\"),middle:Fs(\"'button' in $event && $event.button !== 1\"),right:Fs(\"'button' in $event && $event.button !== 2\")},Hs={on:function(t,e){t.wrapListeners=function(t){return\"_g(\"+t+\",\"+e.value+\")\"}},bind:function(t,e){t.wrapData=function(n){return\"_b(\"+n+\",'\"+t.tag+\"',\"+e.value+\",\"+(e.modifiers&&e.modifiers.prop?\"true\":\"false\")+(e.modifiers&&e.modifiers.sync?\",true\":\"\")+\")\"}},cloak:_},Bs=function(t){this.options=t,this.warn=t.warn||Xe,this.transforms=tn(t.modules,\"transformCode\"),this.dataGenFns=tn(t.modules,\"genData\"),this.directives=y(y({},Hs),t.directives);var e=t.isReservedTag||$i;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]},Us=function(t){return function(e){function n(n,r){var i=Object.create(e),o=[],a=[];if(i.warn=function(t,e){(e?a:o).push(t)},r){r.modules&&(i.modules=(e.modules||[]).concat(r.modules)),r.directives&&(i.directives=y(Object.create(e.directives),r.directives));for(var s in r)\"modules\"!==s&&\"directives\"!==s&&(i[s]=r[s])}var c=t(n,i);return c.errors=o,c.tips=a,c}return{compile:n,compileToFunctions:li(n)}}}(function(t,e){var n=fr(t.trim(),e);jr(n,e);var r=Hr(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}})(Ja).compileToFunctions,Vs=v(function(t){var e=Fe(t);return e&&e.innerHTML}),zs=_e.prototype.$mount;return _e.prototype.$mount=function(t,e){if((t=t&&Fe(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if(\"string\"==typeof r)\"#\"===r.charAt(0)&&(r=Vs(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=fi(t));if(r){var i=Us(r,{shouldDecodeNewlines:Pa,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return zs.call(this,t,e)},_e.compile=Us,_e});\r\n"]}